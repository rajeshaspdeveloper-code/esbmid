2025-08-18 00:04:49.854 [main] INFO  c.e.middleware.EsbRouterApplication - Starting EsbRouterApplication using Java 21.0.2 on DESKTOP-6CLQBDH with PID 12472 (C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes started by Admin in C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main)
2025-08-18 00:04:49.855 [main] DEBUG c.e.middleware.EsbRouterApplication - Running with Spring Boot v2.7.14, Spring v5.3.29
2025-08-18 00:04:49.855 [main] INFO  c.e.middleware.EsbRouterApplication - No active profile set, falling back to 1 default profile: "dev"
2025-08-18 00:04:50.700 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\AuditLogMapper.class]
2025-08-18 00:04:50.700 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\PluginConfigMapper.class]
2025-08-18 00:04:50.700 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\RouteConfigMapper.class]
2025-08-18 00:04:50.704 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'auditLogMapper' and 'com.esb.middleware.mapper.AuditLogMapper' mapperInterface
2025-08-18 00:04:50.704 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'auditLogMapper'.
2025-08-18 00:04:50.704 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'pluginConfigMapper' and 'com.esb.middleware.mapper.PluginConfigMapper' mapperInterface
2025-08-18 00:04:50.704 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'pluginConfigMapper'.
2025-08-18 00:04:50.704 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'routeConfigMapper' and 'com.esb.middleware.mapper.RouteConfigMapper' mapperInterface
2025-08-18 00:04:50.704 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'routeConfigMapper'.
2025-08-18 00:04:51.179 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-08-18 00:04:51.182 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-18 00:04:51.190 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
2025-08-18 00:04:51.280 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-18 00:04:51.293 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1385 ms
2025-08-18 00:04:51.453 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Starting...
2025-08-18 00:04:51.776 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Start completed.
2025-08-18 00:04:52.036 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed configuration file: 'class path resource [mybatis-config.xml]'
2025-08-18 00:04:52.086 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\mappers\AuditLogMapper.xml]'
2025-08-18 00:04:52.113 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\mappers\PluginConfigMapper.xml]'
2025-08-18 00:04:52.129 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\mappers\RouteConfigMapper.xml]'
2025-08-18 00:04:52.138 [main] INFO  c.e.m.service.ConfigurationService - Initializing route configuration cache
2025-08-18 00:04:52.150 [main] INFO  c.e.m.service.ConfigurationService - Refreshing route configuration cache
2025-08-18 00:04:52.156 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:04:52.164 [main] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b560eb0] was not registered for synchronization because synchronization is not active
2025-08-18 00:04:52.173 [main] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1383031847 wrapping ConnectionID:1 ClientConnectionId: 860423e0-a5a6-4b52-bc4b-438aa672baa0] will not be managed by Spring
2025-08-18 00:04:52.178 [main] DEBUG c.e.m.m.R.findAllEnabled - ==>  Preparing: SELECT id, branch_code, endpoint, method, plugin_id, target_url, headers, parameters, transformation_rule, enabled, priority, timeout, retry_count, description, created_by, created_date, modified_by, modified_date FROM route_config WHERE enabled = 1 ORDER BY branch_code, priority DESC, endpoint
2025-08-18 00:04:52.208 [main] DEBUG c.e.m.m.R.findAllEnabled - ==> Parameters: 
2025-08-18 00:04:52.239 [main] DEBUG c.e.m.m.R.findAllEnabled - <==      Total: 6
2025-08-18 00:04:52.248 [main] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.RouteConfigMapper.findAllEnabled, Execution time: 84ms
2025-08-18 00:04:52.249 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b560eb0]
2025-08-18 00:04:52.251 [main] INFO  c.e.m.service.ConfigurationService - Route configuration cache refreshed with 6 routes
2025-08-18 00:04:52.251 [main] INFO  c.e.m.service.ConfigurationService - Route configuration cache initialized with 6 routes
2025-08-18 00:04:52.261 [main] INFO  c.e.m.service.PluginManagerService - Initializing plugin manager and loading plugins from database
2025-08-18 00:04:52.262 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:04:52.262 [main] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@509a6095] was not registered for synchronization because synchronization is not active
2025-08-18 00:04:52.262 [main] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1472904643 wrapping ConnectionID:1 ClientConnectionId: 860423e0-a5a6-4b52-bc4b-438aa672baa0] will not be managed by Spring
2025-08-18 00:04:52.262 [main] DEBUG c.e.m.m.P.findAllEnabled - ==>  Preparing: SELECT id, plugin_id, plugin_name, version, jar_file_name, main_class, description, author, vendor, supported_endpoints, configuration, enabled, priority, status, loaded_time, created_by, created_date, modified_by, modified_date FROM plugin_config WHERE enabled = 1 ORDER BY priority DESC, plugin_name
2025-08-18 00:04:52.262 [main] DEBUG c.e.m.m.P.findAllEnabled - ==> Parameters: 
2025-08-18 00:04:52.266 [main] DEBUG c.e.m.m.P.findAllEnabled - <==      Total: 0
2025-08-18 00:04:52.266 [main] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.PluginConfigMapper.findAllEnabled, Execution time: 4ms
2025-08-18 00:04:52.266 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@509a6095]
2025-08-18 00:04:52.266 [main] INFO  c.e.m.service.PluginManagerService - Found 0 enabled plugins in database
2025-08-18 00:04:52.266 [main] INFO  c.e.m.service.PluginManagerService - Plugin initialization completed. Loaded 0 plugins
2025-08-18 00:04:52.760 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoint(s) beneath base path '/actuator'
2025-08-18 00:04:52.784 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2025-08-18 00:04:52.786 [main] INFO  c.e.m.service.PluginManagerService - Shutting down plugin manager
2025-08-18 00:04:52.787 [main] INFO  c.esb.middleware.plugin.PluginLoader - Shutting down plugin loader and unloading all plugins
2025-08-18 00:04:52.787 [main] INFO  c.esb.middleware.plugin.PluginLoader - Plugin loader shutdown completed
2025-08-18 00:04:52.787 [main] INFO  c.e.middleware.plugin.PluginRegistry - Clearing plugin registry
2025-08-18 00:04:52.787 [main] INFO  c.e.m.service.PluginManagerService - Plugin manager shutdown completed
2025-08-18 00:04:52.788 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Shutdown initiated...
2025-08-18 00:04:52.791 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Shutdown completed.
2025-08-18 00:04:52.795 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-18 00:04:52.809 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-18 00:04:52.829 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2025-08-18 00:12:35.907 [main] INFO  c.e.middleware.EsbRouterApplication - Starting EsbRouterApplication using Java 21.0.2 on DESKTOP-6CLQBDH with PID 17168 (C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes started by Admin in C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main)
2025-08-18 00:12:35.910 [main] DEBUG c.e.middleware.EsbRouterApplication - Running with Spring Boot v2.7.14, Spring v5.3.29
2025-08-18 00:12:35.911 [main] INFO  c.e.middleware.EsbRouterApplication - No active profile set, falling back to 1 default profile: "dev"
2025-08-18 00:12:36.784 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\AuditLogMapper.class]
2025-08-18 00:12:36.784 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\PluginConfigMapper.class]
2025-08-18 00:12:36.784 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\RouteConfigMapper.class]
2025-08-18 00:12:36.786 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'auditLogMapper' and 'com.esb.middleware.mapper.AuditLogMapper' mapperInterface
2025-08-18 00:12:36.790 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'auditLogMapper'.
2025-08-18 00:12:36.790 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'pluginConfigMapper' and 'com.esb.middleware.mapper.PluginConfigMapper' mapperInterface
2025-08-18 00:12:36.790 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'pluginConfigMapper'.
2025-08-18 00:12:36.790 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'routeConfigMapper' and 'com.esb.middleware.mapper.RouteConfigMapper' mapperInterface
2025-08-18 00:12:36.791 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'routeConfigMapper'.
2025-08-18 00:12:37.260 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8082 (http)
2025-08-18 00:12:37.271 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-18 00:12:37.271 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
2025-08-18 00:12:37.370 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-18 00:12:37.370 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1401 ms
2025-08-18 00:12:37.531 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Starting...
2025-08-18 00:12:37.885 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Start completed.
2025-08-18 00:12:38.157 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed configuration file: 'class path resource [mybatis-config.xml]'
2025-08-18 00:12:38.225 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\mappers\AuditLogMapper.xml]'
2025-08-18 00:12:38.242 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\mappers\PluginConfigMapper.xml]'
2025-08-18 00:12:38.262 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\mappers\RouteConfigMapper.xml]'
2025-08-18 00:12:38.283 [main] INFO  c.e.m.service.ConfigurationService - Initializing route configuration cache
2025-08-18 00:12:38.284 [main] INFO  c.e.m.service.ConfigurationService - Refreshing route configuration cache
2025-08-18 00:12:38.290 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:12:38.299 [main] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bab618] was not registered for synchronization because synchronization is not active
2025-08-18 00:12:38.309 [main] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@589489519 wrapping ConnectionID:1 ClientConnectionId: 981e7225-9ddf-407d-ac35-0ed67347faa0] will not be managed by Spring
2025-08-18 00:12:38.316 [main] DEBUG c.e.m.m.R.findAllEnabled - ==>  Preparing: SELECT id, branch_code, endpoint, method, plugin_id, target_url, headers, parameters, transformation_rule, enabled, priority, timeout, retry_count, description, created_by, created_date, modified_by, modified_date FROM route_config WHERE enabled = 1 ORDER BY branch_code, priority DESC, endpoint
2025-08-18 00:12:38.345 [main] DEBUG c.e.m.m.R.findAllEnabled - ==> Parameters: 
2025-08-18 00:12:38.379 [main] DEBUG c.e.m.m.R.findAllEnabled - <==      Total: 6
2025-08-18 00:12:38.388 [main] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.RouteConfigMapper.findAllEnabled, Execution time: 87ms
2025-08-18 00:12:38.389 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bab618]
2025-08-18 00:12:38.390 [main] INFO  c.e.m.service.ConfigurationService - Route configuration cache refreshed with 6 routes
2025-08-18 00:12:38.390 [main] INFO  c.e.m.service.ConfigurationService - Route configuration cache initialized with 6 routes
2025-08-18 00:12:38.403 [main] INFO  c.e.m.service.PluginManagerService - Initializing plugin manager and loading plugins from database
2025-08-18 00:12:38.403 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:12:38.403 [main] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51e8d066] was not registered for synchronization because synchronization is not active
2025-08-18 00:12:38.404 [main] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1395912847 wrapping ConnectionID:1 ClientConnectionId: 981e7225-9ddf-407d-ac35-0ed67347faa0] will not be managed by Spring
2025-08-18 00:12:38.404 [main] DEBUG c.e.m.m.P.findAllEnabled - ==>  Preparing: SELECT id, plugin_id, plugin_name, version, jar_file_name, main_class, description, author, vendor, supported_endpoints, configuration, enabled, priority, status, loaded_time, created_by, created_date, modified_by, modified_date FROM plugin_config WHERE enabled = 1 ORDER BY priority DESC, plugin_name
2025-08-18 00:12:38.404 [main] DEBUG c.e.m.m.P.findAllEnabled - ==> Parameters: 
2025-08-18 00:12:38.408 [main] DEBUG c.e.m.m.P.findAllEnabled - <==      Total: 0
2025-08-18 00:12:38.408 [main] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.PluginConfigMapper.findAllEnabled, Execution time: 5ms
2025-08-18 00:12:38.408 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51e8d066]
2025-08-18 00:12:38.408 [main] INFO  c.e.m.service.PluginManagerService - Found 0 enabled plugins in database
2025-08-18 00:12:38.409 [main] INFO  c.e.m.service.PluginManagerService - Plugin initialization completed. Loaded 0 plugins
2025-08-18 00:12:38.919 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoint(s) beneath base path '/actuator'
2025-08-18 00:12:38.963 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8082 (http) with context path ''
2025-08-18 00:12:38.978 [main] INFO  c.e.middleware.EsbRouterApplication - Started EsbRouterApplication in 3.522 seconds (JVM running for 3.886)
2025-08-18 00:12:38.974 [scheduling-1] DEBUG c.e.m.service.PluginManagerService - Checking for plugin updates
2025-08-18 00:13:14.527 [http-nio-8082-exec-2] INFO  o.a.coyote.http11.Http11Processor - Error parsing HTTP request header
 Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.
java.lang.IllegalArgumentException: Invalid character found in method name [0x160x030x010x070x120x010x000x070x0e0x030x030xdfH0xd60xe1@0x8dK0x030x96dc0xf5c0x150x06GAv0xac0x1b0x9e0xad0xe90xae0xa60xaf0xa4.0x0a0xd80x9b0x96 ]. HTTP method names must be tokens
	at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:407)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:263)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-08-18 00:13:14.527 [http-nio-8082-exec-1] INFO  o.a.coyote.http11.Http11Processor - Error parsing HTTP request header
 Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.
java.lang.IllegalArgumentException: Invalid character found in method name [0x160x030x010x070x120x010x000x070x0e0x030x03"0xfb&350xf2:xA0xf0C0xdb0xb30xec:0xe8*0xae0xc10xaf0xb20x060xdb0xfb0x18E0x1a0x96~8!0x7f ]. HTTP method names must be tokens
	at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:407)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:263)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-08-18 00:14:23.647 [http-nio-8082-exec-5] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-18 00:14:23.648 [http-nio-8082-exec-5] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-18 00:14:23.650 [http-nio-8082-exec-5] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-08-18 00:14:23.676 [http-nio-8082-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:14:23.676 [http-nio-8082-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57e35fb4] was not registered for synchronization because synchronization is not active
2025-08-18 00:14:23.689 [http-nio-8082-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1949456649 wrapping ConnectionID:1 ClientConnectionId: 981e7225-9ddf-407d-ac35-0ed67347faa0] will not be managed by Spring
2025-08-18 00:14:23.689 [http-nio-8082-exec-5] DEBUG c.e.m.m.RouteConfigMapper.countTotal - ==>  Preparing: SELECT COUNT(*) FROM route_config
2025-08-18 00:14:23.689 [http-nio-8082-exec-5] DEBUG c.e.m.m.RouteConfigMapper.countTotal - ==> Parameters: 
2025-08-18 00:14:23.691 [http-nio-8082-exec-5] DEBUG c.e.m.m.RouteConfigMapper.countTotal - <==      Total: 1
2025-08-18 00:14:23.691 [http-nio-8082-exec-5] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.RouteConfigMapper.countTotal, Execution time: 15ms
2025-08-18 00:14:23.691 [http-nio-8082-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57e35fb4]
2025-08-18 00:14:23.691 [http-nio-8082-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:14:23.691 [http-nio-8082-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1db89203] was not registered for synchronization because synchronization is not active
2025-08-18 00:14:23.691 [http-nio-8082-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@693879030 wrapping ConnectionID:1 ClientConnectionId: 981e7225-9ddf-407d-ac35-0ed67347faa0] will not be managed by Spring
2025-08-18 00:14:23.691 [http-nio-8082-exec-5] DEBUG c.e.m.m.R.countEnabled - ==>  Preparing: SELECT COUNT(*) FROM route_config WHERE enabled = 1
2025-08-18 00:14:23.691 [http-nio-8082-exec-5] DEBUG c.e.m.m.R.countEnabled - ==> Parameters: 
2025-08-18 00:14:23.695 [http-nio-8082-exec-5] DEBUG c.e.m.m.R.countEnabled - <==      Total: 1
2025-08-18 00:14:23.695 [http-nio-8082-exec-5] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.RouteConfigMapper.countEnabled, Execution time: 4ms
2025-08-18 00:14:23.695 [http-nio-8082-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1db89203]
2025-08-18 00:14:23.708 [http-nio-8082-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:14:23.708 [http-nio-8082-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@91ce4ed] was not registered for synchronization because synchronization is not active
2025-08-18 00:14:23.708 [http-nio-8082-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1532464279 wrapping ConnectionID:1 ClientConnectionId: 981e7225-9ddf-407d-ac35-0ed67347faa0] will not be managed by Spring
2025-08-18 00:14:23.708 [http-nio-8082-exec-5] DEBUG c.e.m.m.AuditLogMapper.countTotal - ==>  Preparing: SELECT COUNT(*) FROM audit_log
2025-08-18 00:14:23.708 [http-nio-8082-exec-5] DEBUG c.e.m.m.AuditLogMapper.countTotal - ==> Parameters: 
2025-08-18 00:14:23.708 [http-nio-8082-exec-5] DEBUG c.e.m.m.AuditLogMapper.countTotal - <==      Total: 1
2025-08-18 00:14:23.708 [http-nio-8082-exec-5] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.AuditLogMapper.countTotal, Execution time: 0ms
2025-08-18 00:14:23.708 [http-nio-8082-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@91ce4ed]
2025-08-18 00:14:23.708 [http-nio-8082-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:14:23.708 [http-nio-8082-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ea81674] was not registered for synchronization because synchronization is not active
2025-08-18 00:14:23.708 [http-nio-8082-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1845753351 wrapping ConnectionID:1 ClientConnectionId: 981e7225-9ddf-407d-ac35-0ed67347faa0] will not be managed by Spring
2025-08-18 00:14:23.708 [http-nio-8082-exec-5] DEBUG c.e.m.m.AuditLogMapper.countByStatus - ==>  Preparing: SELECT COUNT(*) FROM audit_log WHERE status = ?
2025-08-18 00:14:23.708 [http-nio-8082-exec-5] DEBUG c.e.m.m.AuditLogMapper.countByStatus - ==> Parameters: SUCCESS(String)
2025-08-18 00:14:23.708 [http-nio-8082-exec-5] DEBUG c.e.m.m.AuditLogMapper.countByStatus - <==      Total: 1
2025-08-18 00:14:23.708 [http-nio-8082-exec-5] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.AuditLogMapper.countByStatus, Execution time: 0ms
2025-08-18 00:14:23.708 [http-nio-8082-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ea81674]
2025-08-18 00:14:23.708 [http-nio-8082-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:14:23.708 [http-nio-8082-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@191bc734] was not registered for synchronization because synchronization is not active
2025-08-18 00:14:23.708 [http-nio-8082-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1933547345 wrapping ConnectionID:1 ClientConnectionId: 981e7225-9ddf-407d-ac35-0ed67347faa0] will not be managed by Spring
2025-08-18 00:14:23.708 [http-nio-8082-exec-5] DEBUG c.e.m.m.AuditLogMapper.countByStatus - ==>  Preparing: SELECT COUNT(*) FROM audit_log WHERE status = ?
2025-08-18 00:14:23.708 [http-nio-8082-exec-5] DEBUG c.e.m.m.AuditLogMapper.countByStatus - ==> Parameters: ERROR(String)
2025-08-18 00:14:23.708 [http-nio-8082-exec-5] DEBUG c.e.m.m.AuditLogMapper.countByStatus - <==      Total: 1
2025-08-18 00:14:23.723 [http-nio-8082-exec-5] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.AuditLogMapper.countByStatus, Execution time: 15ms
2025-08-18 00:14:23.723 [http-nio-8082-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@191bc734]
2025-08-18 00:14:23.723 [http-nio-8082-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:14:23.723 [http-nio-8082-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42c8013a] was not registered for synchronization because synchronization is not active
2025-08-18 00:14:23.724 [http-nio-8082-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@480658407 wrapping ConnectionID:1 ClientConnectionId: 981e7225-9ddf-407d-ac35-0ed67347faa0] will not be managed by Spring
2025-08-18 00:14:23.724 [http-nio-8082-exec-5] DEBUG c.e.m.m.A.getAverageProcessingTime - ==>  Preparing: SELECT AVG(CAST(processing_time AS FLOAT)) FROM audit_log WHERE status = 'SUCCESS' AND processing_time > 0 AND request_time >= DATEADD(day, -7, GETDATE())
2025-08-18 00:14:23.724 [http-nio-8082-exec-5] DEBUG c.e.m.m.A.getAverageProcessingTime - ==> Parameters: 
2025-08-18 00:14:23.726 [http-nio-8082-exec-5] DEBUG c.e.m.m.A.getAverageProcessingTime - <==      Total: 1
2025-08-18 00:14:23.726 [http-nio-8082-exec-5] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.AuditLogMapper.getAverageProcessingTime, Execution time: 3ms
2025-08-18 00:14:23.726 [http-nio-8082-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42c8013a]
2025-08-18 00:14:23.726 [http-nio-8082-exec-5] ERROR c.e.m.controller.EsbRouterController - Health check failed
java.lang.NullPointerException: null
	at java.base/java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1011)
	at java.base/java.util.concurrent.ConcurrentHashMap.put(ConcurrentHashMap.java:1006)
	at com.esb.middleware.service.AuditService.getAuditStatistics(AuditService.java:208)
	at com.esb.middleware.service.AuditService$$FastClassBySpringCGLIB$$c7f94988.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:704)
	at com.esb.middleware.service.AuditService$$EnhancerBySpringCGLIB$$c6839f6c.getAuditStatistics(<generated>)
	at com.esb.middleware.service.EsbRouterService.getServiceStatistics(EsbRouterService.java:132)
	at com.esb.middleware.controller.EsbRouterController.healthCheck(EsbRouterController.java:137)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-08-18 00:15:32.680 [http-nio-8082-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:15:32.680 [http-nio-8082-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@754ff15c] was not registered for synchronization because synchronization is not active
2025-08-18 00:15:32.691 [http-nio-8082-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2072514949 wrapping ConnectionID:1 ClientConnectionId: 981e7225-9ddf-407d-ac35-0ed67347faa0] will not be managed by Spring
2025-08-18 00:15:32.691 [http-nio-8082-exec-8] DEBUG c.e.m.m.R.findAllEnabled - ==>  Preparing: SELECT id, branch_code, endpoint, method, plugin_id, target_url, headers, parameters, transformation_rule, enabled, priority, timeout, retry_count, description, created_by, created_date, modified_by, modified_date FROM route_config WHERE enabled = 1 ORDER BY branch_code, priority DESC, endpoint
2025-08-18 00:15:32.693 [http-nio-8082-exec-8] DEBUG c.e.m.m.R.findAllEnabled - ==> Parameters: 
2025-08-18 00:15:32.699 [http-nio-8082-exec-8] DEBUG c.e.m.m.R.findAllEnabled - <==      Total: 6
2025-08-18 00:15:32.699 [http-nio-8082-exec-8] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.RouteConfigMapper.findAllEnabled, Execution time: 19ms
2025-08-18 00:15:32.700 [http-nio-8082-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@754ff15c]
2025-08-18 00:16:55.545 [http-nio-8082-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:16:55.545 [http-nio-8082-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21db03b] was not registered for synchronization because synchronization is not active
2025-08-18 00:16:55.561 [http-nio-8082-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@642386741 wrapping ConnectionID:1 ClientConnectionId: 981e7225-9ddf-407d-ac35-0ed67347faa0] will not be managed by Spring
2025-08-18 00:16:55.561 [http-nio-8082-exec-1] DEBUG c.e.m.m.R.findAllEnabled - ==>  Preparing: SELECT id, branch_code, endpoint, method, plugin_id, target_url, headers, parameters, transformation_rule, enabled, priority, timeout, retry_count, description, created_by, created_date, modified_by, modified_date FROM route_config WHERE enabled = 1 ORDER BY branch_code, priority DESC, endpoint
2025-08-18 00:16:55.561 [http-nio-8082-exec-1] DEBUG c.e.m.m.R.findAllEnabled - ==> Parameters: 
2025-08-18 00:16:55.561 [http-nio-8082-exec-1] DEBUG c.e.m.m.R.findAllEnabled - <==      Total: 6
2025-08-18 00:16:55.568 [http-nio-8082-exec-1] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.RouteConfigMapper.findAllEnabled, Execution time: 23ms
2025-08-18 00:16:55.568 [http-nio-8082-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21db03b]
2025-08-18 00:17:38.988 [scheduling-1] DEBUG c.e.m.service.PluginManagerService - Checking for plugin updates
2025-08-18 00:22:38.995 [scheduling-1] DEBUG c.e.m.service.PluginManagerService - Checking for plugin updates
2025-08-18 00:22:51.794 [http-nio-8082-exec-4] INFO  c.e.m.controller.EsbRouterController - Received ESB request: branch=BRANCH001, endpoint=trade-inquiry
2025-08-18 00:22:51.794 [http-nio-8082-exec-4] INFO  c.e.m.service.EsbRouterService - Processing request: requestId=ESB-4ddb0e5a-db9e-4b98-8b1d-71b8061be3bf, branch=BRANCH001, endpoint=trade-inquiry
2025-08-18 00:22:51.794 [http-nio-8082-exec-4] ERROR c.e.m.service.EsbRouterService - No plugin found for endpoint: trade-inquiry, pluginId: trade-plugin
2025-08-18 00:22:51.796 [http-nio-8082-exec-4] INFO  o.s.s.a.AnnotationAsyncExecutionInterceptor - More than one TaskExecutor bean found within the context, and none is named 'taskExecutor'. Mark one of them as primary or name it 'taskExecutor' (possibly as an alias) in order to use it for async processing: [pluginExecutor, taskScheduler]
2025-08-18 00:22:51.798 [SimpleAsyncTaskExecutor-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:22:51.798 [SimpleAsyncTaskExecutor-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57be3a88] was not registered for synchronization because synchronization is not active
2025-08-18 00:22:51.801 [SimpleAsyncTaskExecutor-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:22:51.801 [SimpleAsyncTaskExecutor-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c20fa8d] was not registered for synchronization because synchronization is not active
2025-08-18 00:22:51.805 [SimpleAsyncTaskExecutor-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2099163054 wrapping ConnectionID:2 ClientConnectionId: ff10fb0a-42e3-45f1-b20e-f6b53f61516d] will not be managed by Spring
2025-08-18 00:22:51.805 [SimpleAsyncTaskExecutor-1] DEBUG c.e.m.mapper.AuditLogMapper.insert - ==>  Preparing: INSERT INTO audit_log ( request_id, correlation_id, branch_code, endpoint, method, plugin_id, source_system, source_ip, request_payload, status, request_time, headers, parameters ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? )
2025-08-18 00:22:51.809 [SimpleAsyncTaskExecutor-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1185948413 wrapping ConnectionID:1 ClientConnectionId: 981e7225-9ddf-407d-ac35-0ed67347faa0] will not be managed by Spring
2025-08-18 00:22:51.809 [SimpleAsyncTaskExecutor-2] DEBUG c.e.m.m.A.updateResponse - ==>  Preparing: UPDATE audit_log SET response_payload = ?, status = ?, status_code = ?, error_code = ?, error_message = ?, processing_time = ?, response_time = ? WHERE request_id = ?
2025-08-18 00:22:51.814 [SimpleAsyncTaskExecutor-2] DEBUG c.e.m.m.A.updateResponse - ==> Parameters: null, ERROR(String), 500(String), PLUGIN_NOT_FOUND(String), Plugin not available for processing(String), 2(Long), 2025-08-18T00:22:51.798886700(LocalDateTime), ESB-4ddb0e5a-db9e-4b98-8b1d-71b8061be3bf(String)
2025-08-18 00:22:51.814 [SimpleAsyncTaskExecutor-1] DEBUG c.e.m.mapper.AuditLogMapper.insert - ==> Parameters: ESB-4ddb0e5a-db9e-4b98-8b1d-71b8061be3bf(String), CORR-001(String), BRANCH001(String), trade-inquiry(String), POST(String), trade-plugin(String), FRONTEND(String), 0:0:0:0:0:0:0:1(String), {"tradeId":"TRD123456","customerId":"CUST001"}(String), PROCESSING(String), 2025-08-18T00:22:51.796672300(LocalDateTime), null, null
2025-08-18 00:22:51.830 [SimpleAsyncTaskExecutor-2] DEBUG c.e.m.m.A.updateResponse - <==    Updates: 0
2025-08-18 00:22:51.830 [SimpleAsyncTaskExecutor-2] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.AuditLogMapper.updateResponse, Execution time: 29ms
2025-08-18 00:22:51.830 [SimpleAsyncTaskExecutor-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57be3a88]
2025-08-18 00:22:51.832 [SimpleAsyncTaskExecutor-2] DEBUG c.e.middleware.service.AuditService - Logged response completion for requestId: ESB-4ddb0e5a-db9e-4b98-8b1d-71b8061be3bf
2025-08-18 00:22:51.839 [SimpleAsyncTaskExecutor-1] DEBUG c.e.m.mapper.AuditLogMapper.insert - <==    Updates: 1
2025-08-18 00:22:51.841 [SimpleAsyncTaskExecutor-1] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.AuditLogMapper.insert, Execution time: 40ms
2025-08-18 00:22:51.841 [SimpleAsyncTaskExecutor-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c20fa8d]
2025-08-18 00:22:51.841 [SimpleAsyncTaskExecutor-1] DEBUG c.e.middleware.service.AuditService - Logged request initiation for requestId: ESB-4ddb0e5a-db9e-4b98-8b1d-71b8061be3bf
2025-08-18 00:23:03.627 [http-nio-8082-exec-7] INFO  c.e.m.controller.EsbRouterController - Received ESB request: branch=BRANCH001, endpoint=TRADE_SERVICE
2025-08-18 00:23:03.627 [http-nio-8082-exec-7] INFO  c.e.m.service.EsbRouterService - Processing request: requestId=ESB-ea0fc04c-bab9-4f4c-9257-ebf331bfb32b, branch=BRANCH001, endpoint=TRADE_SERVICE
2025-08-18 00:23:03.627 [http-nio-8082-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:23:03.627 [http-nio-8082-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60cb76b0] was not registered for synchronization because synchronization is not active
2025-08-18 00:23:03.627 [http-nio-8082-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@110276723 wrapping ConnectionID:1 ClientConnectionId: 981e7225-9ddf-407d-ac35-0ed67347faa0] will not be managed by Spring
2025-08-18 00:23:03.627 [http-nio-8082-exec-7] DEBUG c.e.m.m.R.findByBranchAndEndpoint - ==>  Preparing: SELECT id, branch_code, endpoint, method, plugin_id, target_url, headers, parameters, transformation_rule, enabled, priority, timeout, retry_count, description, created_by, created_date, modified_by, modified_date FROM route_config WHERE branch_code = ? AND endpoint = ? AND enabled = 1 ORDER BY priority DESC
2025-08-18 00:23:03.627 [http-nio-8082-exec-7] DEBUG c.e.m.m.R.findByBranchAndEndpoint - ==> Parameters: BRANCH001(String), TRADE_SERVICE(String)
2025-08-18 00:23:03.638 [http-nio-8082-exec-7] DEBUG c.e.m.m.R.findByBranchAndEndpoint - <==      Total: 0
2025-08-18 00:23:03.643 [http-nio-8082-exec-7] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.RouteConfigMapper.findByBranchAndEndpoint, Execution time: 16ms
2025-08-18 00:23:03.643 [http-nio-8082-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60cb76b0]
2025-08-18 00:23:03.643 [http-nio-8082-exec-7] WARN  c.e.m.service.EsbRouterService - No route found for branch: BRANCH001, endpoint: TRADE_SERVICE
2025-08-18 00:23:03.643 [SimpleAsyncTaskExecutor-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:23:03.643 [SimpleAsyncTaskExecutor-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b9b6337] was not registered for synchronization because synchronization is not active
2025-08-18 00:23:03.643 [SimpleAsyncTaskExecutor-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:23:03.643 [SimpleAsyncTaskExecutor-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39e3c6ea] was not registered for synchronization because synchronization is not active
2025-08-18 00:23:03.643 [SimpleAsyncTaskExecutor-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@626821172 wrapping ConnectionID:1 ClientConnectionId: 981e7225-9ddf-407d-ac35-0ed67347faa0] will not be managed by Spring
2025-08-18 00:23:03.643 [SimpleAsyncTaskExecutor-3] DEBUG c.e.m.mapper.AuditLogMapper.insert - ==>  Preparing: INSERT INTO audit_log ( request_id, correlation_id, branch_code, endpoint, method, plugin_id, source_system, source_ip, request_payload, status, request_time, headers, parameters ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? )
2025-08-18 00:23:03.643 [SimpleAsyncTaskExecutor-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@857451930 wrapping ConnectionID:2 ClientConnectionId: ff10fb0a-42e3-45f1-b20e-f6b53f61516d] will not be managed by Spring
2025-08-18 00:23:03.643 [SimpleAsyncTaskExecutor-4] DEBUG c.e.m.m.A.updateResponse - ==>  Preparing: UPDATE audit_log SET response_payload = ?, status = ?, status_code = ?, error_code = ?, error_message = ?, processing_time = ?, response_time = ? WHERE request_id = ?
2025-08-18 00:23:03.643 [SimpleAsyncTaskExecutor-4] DEBUG c.e.m.m.A.updateResponse - ==> Parameters: null, NOT_FOUND(String), 404(String), null, null, 16(Long), 2025-08-18T00:23:03.643296400(LocalDateTime), ESB-ea0fc04c-bab9-4f4c-9257-ebf331bfb32b(String)
2025-08-18 00:23:03.643 [SimpleAsyncTaskExecutor-3] DEBUG c.e.m.mapper.AuditLogMapper.insert - ==> Parameters: ESB-ea0fc04c-bab9-4f4c-9257-ebf331bfb32b(String), CORR-001(String), BRANCH001(String), TRADE_SERVICE(String), POST(String), null, FRONTEND(String), 0:0:0:0:0:0:0:1(String), {"tradeId":"TRD123456","customerId":"CUST001"}(String), PROCESSING(String), 2025-08-18T00:23:03.643296400(LocalDateTime), null, null
2025-08-18 00:23:03.648 [SimpleAsyncTaskExecutor-4] DEBUG c.e.m.m.A.updateResponse - <==    Updates: 0
2025-08-18 00:23:03.648 [SimpleAsyncTaskExecutor-4] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.AuditLogMapper.updateResponse, Execution time: 5ms
2025-08-18 00:23:03.648 [SimpleAsyncTaskExecutor-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39e3c6ea]
2025-08-18 00:23:03.648 [SimpleAsyncTaskExecutor-4] DEBUG c.e.middleware.service.AuditService - Logged response completion for requestId: ESB-ea0fc04c-bab9-4f4c-9257-ebf331bfb32b
2025-08-18 00:23:03.648 [SimpleAsyncTaskExecutor-3] DEBUG c.e.m.mapper.AuditLogMapper.insert - <==    Updates: 1
2025-08-18 00:23:03.648 [SimpleAsyncTaskExecutor-3] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.AuditLogMapper.insert, Execution time: 5ms
2025-08-18 00:23:03.648 [SimpleAsyncTaskExecutor-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b9b6337]
2025-08-18 00:23:03.648 [SimpleAsyncTaskExecutor-3] DEBUG c.e.middleware.service.AuditService - Logged request initiation for requestId: ESB-ea0fc04c-bab9-4f4c-9257-ebf331bfb32b
2025-08-18 00:24:49.351 [http-nio-8082-exec-10] INFO  c.e.m.controller.EsbRouterController - Received ESB request: branch=BRANCH001, endpoint=trade-plugin
2025-08-18 00:24:49.351 [http-nio-8082-exec-10] INFO  c.e.m.service.EsbRouterService - Processing request: requestId=ESB-dcb7e1a7-604e-4df2-a458-cabb4bc1e5d0, branch=BRANCH001, endpoint=trade-plugin
2025-08-18 00:24:49.351 [http-nio-8082-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:24:49.351 [http-nio-8082-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32d9387a] was not registered for synchronization because synchronization is not active
2025-08-18 00:24:49.367 [http-nio-8082-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1008648273 wrapping ConnectionID:1 ClientConnectionId: 981e7225-9ddf-407d-ac35-0ed67347faa0] will not be managed by Spring
2025-08-18 00:24:49.367 [http-nio-8082-exec-10] DEBUG c.e.m.m.R.findByBranchAndEndpoint - ==>  Preparing: SELECT id, branch_code, endpoint, method, plugin_id, target_url, headers, parameters, transformation_rule, enabled, priority, timeout, retry_count, description, created_by, created_date, modified_by, modified_date FROM route_config WHERE branch_code = ? AND endpoint = ? AND enabled = 1 ORDER BY priority DESC
2025-08-18 00:24:49.367 [http-nio-8082-exec-10] DEBUG c.e.m.m.R.findByBranchAndEndpoint - ==> Parameters: BRANCH001(String), trade-plugin(String)
2025-08-18 00:24:49.367 [http-nio-8082-exec-10] DEBUG c.e.m.m.R.findByBranchAndEndpoint - <==      Total: 0
2025-08-18 00:24:49.367 [http-nio-8082-exec-10] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.RouteConfigMapper.findByBranchAndEndpoint, Execution time: 16ms
2025-08-18 00:24:49.367 [http-nio-8082-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32d9387a]
2025-08-18 00:24:49.367 [http-nio-8082-exec-10] WARN  c.e.m.service.EsbRouterService - No route found for branch: BRANCH001, endpoint: trade-plugin
2025-08-18 00:24:49.367 [SimpleAsyncTaskExecutor-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:24:49.367 [SimpleAsyncTaskExecutor-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:24:49.367 [SimpleAsyncTaskExecutor-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@336a75df] was not registered for synchronization because synchronization is not active
2025-08-18 00:24:49.367 [SimpleAsyncTaskExecutor-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@474a00d] was not registered for synchronization because synchronization is not active
2025-08-18 00:24:49.367 [SimpleAsyncTaskExecutor-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1034784194 wrapping ConnectionID:1 ClientConnectionId: 981e7225-9ddf-407d-ac35-0ed67347faa0] will not be managed by Spring
2025-08-18 00:24:49.367 [SimpleAsyncTaskExecutor-6] DEBUG c.e.m.m.A.updateResponse - ==>  Preparing: UPDATE audit_log SET response_payload = ?, status = ?, status_code = ?, error_code = ?, error_message = ?, processing_time = ?, response_time = ? WHERE request_id = ?
2025-08-18 00:24:49.367 [SimpleAsyncTaskExecutor-6] DEBUG c.e.m.m.A.updateResponse - ==> Parameters: null, NOT_FOUND(String), 404(String), null, null, 16(Long), 2025-08-18T00:24:49.367995100(LocalDateTime), ESB-dcb7e1a7-604e-4df2-a458-cabb4bc1e5d0(String)
2025-08-18 00:24:49.374 [SimpleAsyncTaskExecutor-6] DEBUG c.e.m.m.A.updateResponse - <==    Updates: 0
2025-08-18 00:24:49.374 [SimpleAsyncTaskExecutor-6] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.AuditLogMapper.updateResponse, Execution time: 7ms
2025-08-18 00:24:49.374 [SimpleAsyncTaskExecutor-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@336a75df]
2025-08-18 00:24:49.374 [SimpleAsyncTaskExecutor-6] DEBUG c.e.middleware.service.AuditService - Logged response completion for requestId: ESB-dcb7e1a7-604e-4df2-a458-cabb4bc1e5d0
2025-08-18 00:24:49.383 [SimpleAsyncTaskExecutor-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@179527411 wrapping ConnectionID:2 ClientConnectionId: ff10fb0a-42e3-45f1-b20e-f6b53f61516d] will not be managed by Spring
2025-08-18 00:24:49.384 [SimpleAsyncTaskExecutor-5] DEBUG c.e.m.mapper.AuditLogMapper.insert - ==>  Preparing: INSERT INTO audit_log ( request_id, correlation_id, branch_code, endpoint, method, plugin_id, source_system, source_ip, request_payload, status, request_time, headers, parameters ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? )
2025-08-18 00:24:49.384 [SimpleAsyncTaskExecutor-5] DEBUG c.e.m.mapper.AuditLogMapper.insert - ==> Parameters: ESB-dcb7e1a7-604e-4df2-a458-cabb4bc1e5d0(String), CORR-001(String), BRANCH001(String), trade-plugin(String), POST(String), null, FRONTEND(String), 0:0:0:0:0:0:0:1(String), {"tradeId":"TRD123456","customerId":"CUST001"}(String), PROCESSING(String), 2025-08-18T00:24:49.367995100(LocalDateTime), null, null
2025-08-18 00:24:49.384 [SimpleAsyncTaskExecutor-5] DEBUG c.e.m.mapper.AuditLogMapper.insert - <==    Updates: 1
2025-08-18 00:24:49.384 [SimpleAsyncTaskExecutor-5] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.AuditLogMapper.insert, Execution time: 17ms
2025-08-18 00:24:49.384 [SimpleAsyncTaskExecutor-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@474a00d]
2025-08-18 00:24:49.384 [SimpleAsyncTaskExecutor-5] DEBUG c.e.middleware.service.AuditService - Logged request initiation for requestId: ESB-dcb7e1a7-604e-4df2-a458-cabb4bc1e5d0
2025-08-18 00:25:32.549 [http-nio-8082-exec-2] INFO  c.e.m.controller.EsbRouterController - Received ESB request: branch=BRANCH001, endpoint=TRADE_SERVICE
2025-08-18 00:25:32.549 [http-nio-8082-exec-2] INFO  c.e.m.service.EsbRouterService - Processing request: requestId=ESB-158c322e-114e-458a-8a9d-9f8a502767b5, branch=BRANCH001, endpoint=TRADE_SERVICE
2025-08-18 00:25:32.549 [http-nio-8082-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:25:32.549 [http-nio-8082-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@526167a1] was not registered for synchronization because synchronization is not active
2025-08-18 00:25:32.565 [http-nio-8082-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@839209262 wrapping ConnectionID:1 ClientConnectionId: 981e7225-9ddf-407d-ac35-0ed67347faa0] will not be managed by Spring
2025-08-18 00:25:32.565 [http-nio-8082-exec-2] DEBUG c.e.m.m.R.findByBranchAndEndpoint - ==>  Preparing: SELECT id, branch_code, endpoint, method, plugin_id, target_url, headers, parameters, transformation_rule, enabled, priority, timeout, retry_count, description, created_by, created_date, modified_by, modified_date FROM route_config WHERE branch_code = ? AND endpoint = ? AND enabled = 1 ORDER BY priority DESC
2025-08-18 00:25:32.566 [http-nio-8082-exec-2] DEBUG c.e.m.m.R.findByBranchAndEndpoint - ==> Parameters: BRANCH001(String), TRADE_SERVICE(String)
2025-08-18 00:25:32.566 [http-nio-8082-exec-2] DEBUG c.e.m.m.R.findByBranchAndEndpoint - <==      Total: 0
2025-08-18 00:25:32.566 [http-nio-8082-exec-2] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.RouteConfigMapper.findByBranchAndEndpoint, Execution time: 17ms
2025-08-18 00:25:32.566 [http-nio-8082-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@526167a1]
2025-08-18 00:25:32.566 [http-nio-8082-exec-2] WARN  c.e.m.service.EsbRouterService - No route found for branch: BRANCH001, endpoint: TRADE_SERVICE
2025-08-18 00:25:32.566 [SimpleAsyncTaskExecutor-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:25:32.566 [SimpleAsyncTaskExecutor-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:25:32.566 [SimpleAsyncTaskExecutor-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bab77cc] was not registered for synchronization because synchronization is not active
2025-08-18 00:25:32.566 [SimpleAsyncTaskExecutor-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@653bd063] was not registered for synchronization because synchronization is not active
2025-08-18 00:25:32.566 [SimpleAsyncTaskExecutor-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1970050761 wrapping ConnectionID:1 ClientConnectionId: 981e7225-9ddf-407d-ac35-0ed67347faa0] will not be managed by Spring
2025-08-18 00:25:32.566 [SimpleAsyncTaskExecutor-7] DEBUG c.e.m.mapper.AuditLogMapper.insert - ==>  Preparing: INSERT INTO audit_log ( request_id, correlation_id, branch_code, endpoint, method, plugin_id, source_system, source_ip, request_payload, status, request_time, headers, parameters ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? )
2025-08-18 00:25:32.566 [SimpleAsyncTaskExecutor-7] DEBUG c.e.m.mapper.AuditLogMapper.insert - ==> Parameters: ESB-158c322e-114e-458a-8a9d-9f8a502767b5(String), CORR-001(String), BRANCH001(String), TRADE_SERVICE(String), POST(String), null, FRONTEND(String), 0:0:0:0:0:0:0:1(String), {"tradeId":"TRD123456","customerId":"CUST001"}(String), PROCESSING(String), 2025-08-18T00:25:32.566086700(LocalDateTime), null, null
2025-08-18 00:25:32.566 [SimpleAsyncTaskExecutor-7] DEBUG c.e.m.mapper.AuditLogMapper.insert - <==    Updates: 1
2025-08-18 00:25:32.566 [SimpleAsyncTaskExecutor-7] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.AuditLogMapper.insert, Execution time: 0ms
2025-08-18 00:25:32.566 [SimpleAsyncTaskExecutor-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bab77cc]
2025-08-18 00:25:32.566 [SimpleAsyncTaskExecutor-7] DEBUG c.e.middleware.service.AuditService - Logged request initiation for requestId: ESB-158c322e-114e-458a-8a9d-9f8a502767b5
2025-08-18 00:25:32.581 [SimpleAsyncTaskExecutor-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1811690164 wrapping ConnectionID:2 ClientConnectionId: ff10fb0a-42e3-45f1-b20e-f6b53f61516d] will not be managed by Spring
2025-08-18 00:25:32.582 [SimpleAsyncTaskExecutor-8] DEBUG c.e.m.m.A.updateResponse - ==>  Preparing: UPDATE audit_log SET response_payload = ?, status = ?, status_code = ?, error_code = ?, error_message = ?, processing_time = ?, response_time = ? WHERE request_id = ?
2025-08-18 00:25:32.582 [SimpleAsyncTaskExecutor-8] DEBUG c.e.m.m.A.updateResponse - ==> Parameters: null, NOT_FOUND(String), 404(String), null, null, 17(Long), 2025-08-18T00:25:32.566086700(LocalDateTime), ESB-158c322e-114e-458a-8a9d-9f8a502767b5(String)
2025-08-18 00:25:32.582 [SimpleAsyncTaskExecutor-8] DEBUG c.e.m.m.A.updateResponse - <==    Updates: 1
2025-08-18 00:25:32.587 [SimpleAsyncTaskExecutor-8] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.AuditLogMapper.updateResponse, Execution time: 21ms
2025-08-18 00:25:32.587 [SimpleAsyncTaskExecutor-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@653bd063]
2025-08-18 00:25:32.587 [SimpleAsyncTaskExecutor-8] DEBUG c.e.middleware.service.AuditService - Logged response completion for requestId: ESB-158c322e-114e-458a-8a9d-9f8a502767b5
2025-08-18 00:26:09.399 [http-nio-8082-exec-1] INFO  c.e.m.controller.EsbRouterController - Received ESB request: branch=BRANCH001, endpoint=TRADE_SERVICE
2025-08-18 00:26:09.400 [http-nio-8082-exec-1] INFO  c.e.m.service.EsbRouterService - Processing request: requestId=ESB-3ab82beb-5764-4052-b811-42c797376eeb, branch=BRANCH001, endpoint=TRADE_SERVICE
2025-08-18 00:26:09.400 [http-nio-8082-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:26:09.400 [http-nio-8082-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2276e80d] was not registered for synchronization because synchronization is not active
2025-08-18 00:26:09.402 [http-nio-8082-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1706012366 wrapping ConnectionID:1 ClientConnectionId: 981e7225-9ddf-407d-ac35-0ed67347faa0] will not be managed by Spring
2025-08-18 00:26:09.402 [http-nio-8082-exec-1] DEBUG c.e.m.m.R.findByBranchAndEndpoint - ==>  Preparing: SELECT id, branch_code, endpoint, method, plugin_id, target_url, headers, parameters, transformation_rule, enabled, priority, timeout, retry_count, description, created_by, created_date, modified_by, modified_date FROM route_config WHERE branch_code = ? AND endpoint = ? AND enabled = 1 ORDER BY priority DESC
2025-08-18 00:26:09.403 [http-nio-8082-exec-1] DEBUG c.e.m.m.R.findByBranchAndEndpoint - ==> Parameters: BRANCH001(String), TRADE_SERVICE(String)
2025-08-18 00:26:09.403 [http-nio-8082-exec-1] DEBUG c.e.m.m.R.findByBranchAndEndpoint - <==      Total: 0
2025-08-18 00:26:09.404 [http-nio-8082-exec-1] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.RouteConfigMapper.findByBranchAndEndpoint, Execution time: 4ms
2025-08-18 00:26:09.404 [http-nio-8082-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2276e80d]
2025-08-18 00:26:09.404 [http-nio-8082-exec-1] WARN  c.e.m.service.EsbRouterService - No route found for branch: BRANCH001, endpoint: TRADE_SERVICE
2025-08-18 00:26:09.405 [SimpleAsyncTaskExecutor-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:26:09.405 [SimpleAsyncTaskExecutor-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16b54ffb] was not registered for synchronization because synchronization is not active
2025-08-18 00:26:09.406 [SimpleAsyncTaskExecutor-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@410166109 wrapping ConnectionID:1 ClientConnectionId: 981e7225-9ddf-407d-ac35-0ed67347faa0] will not be managed by Spring
2025-08-18 00:26:09.406 [SimpleAsyncTaskExecutor-10] DEBUG c.e.m.m.A.updateResponse - ==>  Preparing: UPDATE audit_log SET response_payload = ?, status = ?, status_code = ?, error_code = ?, error_message = ?, processing_time = ?, response_time = ? WHERE request_id = ?
2025-08-18 00:26:09.406 [SimpleAsyncTaskExecutor-10] DEBUG c.e.m.m.A.updateResponse - ==> Parameters: null, NOT_FOUND(String), 404(String), null, null, 4(Long), 2025-08-18T00:26:09.405566900(LocalDateTime), ESB-3ab82beb-5764-4052-b811-42c797376eeb(String)
2025-08-18 00:26:09.407 [SimpleAsyncTaskExecutor-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:26:09.407 [SimpleAsyncTaskExecutor-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5884ca0d] was not registered for synchronization because synchronization is not active
2025-08-18 00:26:09.410 [SimpleAsyncTaskExecutor-10] DEBUG c.e.m.m.A.updateResponse - <==    Updates: 0
2025-08-18 00:26:09.410 [SimpleAsyncTaskExecutor-10] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.AuditLogMapper.updateResponse, Execution time: 5ms
2025-08-18 00:26:09.410 [SimpleAsyncTaskExecutor-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16b54ffb]
2025-08-18 00:26:09.410 [SimpleAsyncTaskExecutor-10] DEBUG c.e.middleware.service.AuditService - Logged response completion for requestId: ESB-3ab82beb-5764-4052-b811-42c797376eeb
2025-08-18 00:26:09.419 [SimpleAsyncTaskExecutor-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1447243629 wrapping ConnectionID:2 ClientConnectionId: ff10fb0a-42e3-45f1-b20e-f6b53f61516d] will not be managed by Spring
2025-08-18 00:26:09.419 [SimpleAsyncTaskExecutor-9] DEBUG c.e.m.mapper.AuditLogMapper.insert - ==>  Preparing: INSERT INTO audit_log ( request_id, correlation_id, branch_code, endpoint, method, plugin_id, source_system, source_ip, request_payload, status, request_time, headers, parameters ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? )
2025-08-18 00:26:09.419 [SimpleAsyncTaskExecutor-9] DEBUG c.e.m.mapper.AuditLogMapper.insert - ==> Parameters: ESB-3ab82beb-5764-4052-b811-42c797376eeb(String), CORR-001(String), BRANCH001(String), TRADE_SERVICE(String), POST(String), null, FRONTEND(String), 0:0:0:0:0:0:0:1(String), {"tradeId":"TRD123456","customerId":"CUST001"}(String), PROCESSING(String), 2025-08-18T00:26:09.407562(LocalDateTime), null, null
2025-08-18 00:26:09.422 [SimpleAsyncTaskExecutor-9] DEBUG c.e.m.mapper.AuditLogMapper.insert - <==    Updates: 1
2025-08-18 00:26:09.422 [SimpleAsyncTaskExecutor-9] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.AuditLogMapper.insert, Execution time: 15ms
2025-08-18 00:26:09.422 [SimpleAsyncTaskExecutor-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5884ca0d]
2025-08-18 00:26:09.423 [SimpleAsyncTaskExecutor-9] DEBUG c.e.middleware.service.AuditService - Logged request initiation for requestId: ESB-3ab82beb-5764-4052-b811-42c797376eeb
2025-08-18 00:26:11.110 [http-nio-8082-exec-3] INFO  c.e.m.controller.EsbRouterController - Received ESB request: branch=BRANCH001, endpoint=TRADE_SERVICE
2025-08-18 00:26:11.110 [http-nio-8082-exec-3] INFO  c.e.m.service.EsbRouterService - Processing request: requestId=ESB-4c53f7ae-1d7c-4048-b081-32f168169d7a, branch=BRANCH001, endpoint=TRADE_SERVICE
2025-08-18 00:26:11.110 [http-nio-8082-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:26:11.110 [http-nio-8082-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a726cc4] was not registered for synchronization because synchronization is not active
2025-08-18 00:26:11.110 [http-nio-8082-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1689624570 wrapping ConnectionID:1 ClientConnectionId: 981e7225-9ddf-407d-ac35-0ed67347faa0] will not be managed by Spring
2025-08-18 00:26:11.110 [http-nio-8082-exec-3] DEBUG c.e.m.m.R.findByBranchAndEndpoint - ==>  Preparing: SELECT id, branch_code, endpoint, method, plugin_id, target_url, headers, parameters, transformation_rule, enabled, priority, timeout, retry_count, description, created_by, created_date, modified_by, modified_date FROM route_config WHERE branch_code = ? AND endpoint = ? AND enabled = 1 ORDER BY priority DESC
2025-08-18 00:26:11.118 [http-nio-8082-exec-3] DEBUG c.e.m.m.R.findByBranchAndEndpoint - ==> Parameters: BRANCH001(String), TRADE_SERVICE(String)
2025-08-18 00:26:11.118 [http-nio-8082-exec-3] DEBUG c.e.m.m.R.findByBranchAndEndpoint - <==      Total: 0
2025-08-18 00:26:11.118 [http-nio-8082-exec-3] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.RouteConfigMapper.findByBranchAndEndpoint, Execution time: 8ms
2025-08-18 00:26:11.118 [http-nio-8082-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a726cc4]
2025-08-18 00:26:11.118 [http-nio-8082-exec-3] WARN  c.e.m.service.EsbRouterService - No route found for branch: BRANCH001, endpoint: TRADE_SERVICE
2025-08-18 00:26:11.118 [SimpleAsyncTaskExecutor-12] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:26:11.118 [SimpleAsyncTaskExecutor-12] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@169bfae] was not registered for synchronization because synchronization is not active
2025-08-18 00:26:11.118 [SimpleAsyncTaskExecutor-12] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@263078387 wrapping ConnectionID:1 ClientConnectionId: 981e7225-9ddf-407d-ac35-0ed67347faa0] will not be managed by Spring
2025-08-18 00:26:11.118 [SimpleAsyncTaskExecutor-12] DEBUG c.e.m.m.A.updateResponse - ==>  Preparing: UPDATE audit_log SET response_payload = ?, status = ?, status_code = ?, error_code = ?, error_message = ?, processing_time = ?, response_time = ? WHERE request_id = ?
2025-08-18 00:26:11.121 [SimpleAsyncTaskExecutor-12] DEBUG c.e.m.m.A.updateResponse - ==> Parameters: null, NOT_FOUND(String), 404(String), null, null, 8(Long), 2025-08-18T00:26:11.118483200(LocalDateTime), ESB-4c53f7ae-1d7c-4048-b081-32f168169d7a(String)
2025-08-18 00:26:11.121 [SimpleAsyncTaskExecutor-11] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:26:11.121 [SimpleAsyncTaskExecutor-11] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ac25593] was not registered for synchronization because synchronization is not active
2025-08-18 00:26:11.123 [SimpleAsyncTaskExecutor-11] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1141224123 wrapping ConnectionID:2 ClientConnectionId: ff10fb0a-42e3-45f1-b20e-f6b53f61516d] will not be managed by Spring
2025-08-18 00:26:11.123 [SimpleAsyncTaskExecutor-11] DEBUG c.e.m.mapper.AuditLogMapper.insert - ==>  Preparing: INSERT INTO audit_log ( request_id, correlation_id, branch_code, endpoint, method, plugin_id, source_system, source_ip, request_payload, status, request_time, headers, parameters ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? )
2025-08-18 00:26:11.123 [SimpleAsyncTaskExecutor-11] DEBUG c.e.m.mapper.AuditLogMapper.insert - ==> Parameters: ESB-4c53f7ae-1d7c-4048-b081-32f168169d7a(String), CORR-001(String), BRANCH001(String), TRADE_SERVICE(String), POST(String), null, FRONTEND(String), 0:0:0:0:0:0:0:1(String), {"tradeId":"TRD123456","customerId":"CUST001"}(String), PROCESSING(String), 2025-08-18T00:26:11.121560600(LocalDateTime), null, null
2025-08-18 00:26:11.125 [SimpleAsyncTaskExecutor-12] DEBUG c.e.m.m.A.updateResponse - <==    Updates: 0
2025-08-18 00:26:11.125 [SimpleAsyncTaskExecutor-12] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.AuditLogMapper.updateResponse, Execution time: 7ms
2025-08-18 00:26:11.125 [SimpleAsyncTaskExecutor-12] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@169bfae]
2025-08-18 00:26:11.125 [SimpleAsyncTaskExecutor-12] DEBUG c.e.middleware.service.AuditService - Logged response completion for requestId: ESB-4c53f7ae-1d7c-4048-b081-32f168169d7a
2025-08-18 00:26:11.125 [SimpleAsyncTaskExecutor-11] DEBUG c.e.m.mapper.AuditLogMapper.insert - <==    Updates: 1
2025-08-18 00:26:11.125 [SimpleAsyncTaskExecutor-11] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.AuditLogMapper.insert, Execution time: 4ms
2025-08-18 00:26:11.125 [SimpleAsyncTaskExecutor-11] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ac25593]
2025-08-18 00:26:11.125 [SimpleAsyncTaskExecutor-11] DEBUG c.e.middleware.service.AuditService - Logged request initiation for requestId: ESB-4c53f7ae-1d7c-4048-b081-32f168169d7a
2025-08-18 00:26:19.585 [http-nio-8082-exec-5] INFO  c.e.m.controller.EsbRouterController - Received ESB request: branch=BRANCH001, endpoint=TRADE_SERVICE
2025-08-18 00:26:19.585 [http-nio-8082-exec-5] INFO  c.e.m.service.EsbRouterService - Processing request: requestId=ESB-0b0facab-6943-4212-bf59-7b73bb318d13, branch=BRANCH001, endpoint=TRADE_SERVICE
2025-08-18 00:26:19.585 [http-nio-8082-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:26:19.585 [http-nio-8082-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3af9bdb1] was not registered for synchronization because synchronization is not active
2025-08-18 00:26:19.585 [http-nio-8082-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1761630552 wrapping ConnectionID:1 ClientConnectionId: 981e7225-9ddf-407d-ac35-0ed67347faa0] will not be managed by Spring
2025-08-18 00:26:19.585 [http-nio-8082-exec-5] DEBUG c.e.m.m.R.findByBranchAndEndpoint - ==>  Preparing: SELECT id, branch_code, endpoint, method, plugin_id, target_url, headers, parameters, transformation_rule, enabled, priority, timeout, retry_count, description, created_by, created_date, modified_by, modified_date FROM route_config WHERE branch_code = ? AND endpoint = ? AND enabled = 1 ORDER BY priority DESC
2025-08-18 00:26:19.585 [http-nio-8082-exec-5] DEBUG c.e.m.m.R.findByBranchAndEndpoint - ==> Parameters: BRANCH001(String), TRADE_SERVICE(String)
2025-08-18 00:26:19.594 [http-nio-8082-exec-5] DEBUG c.e.m.m.R.findByBranchAndEndpoint - <==      Total: 0
2025-08-18 00:26:19.594 [http-nio-8082-exec-5] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.RouteConfigMapper.findByBranchAndEndpoint, Execution time: 9ms
2025-08-18 00:26:19.594 [http-nio-8082-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3af9bdb1]
2025-08-18 00:26:19.594 [http-nio-8082-exec-5] WARN  c.e.m.service.EsbRouterService - No route found for branch: BRANCH001, endpoint: TRADE_SERVICE
2025-08-18 00:26:19.594 [SimpleAsyncTaskExecutor-14] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:26:19.594 [SimpleAsyncTaskExecutor-13] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:26:19.594 [SimpleAsyncTaskExecutor-13] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ab4651a] was not registered for synchronization because synchronization is not active
2025-08-18 00:26:19.594 [SimpleAsyncTaskExecutor-13] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@611552828 wrapping ConnectionID:1 ClientConnectionId: 981e7225-9ddf-407d-ac35-0ed67347faa0] will not be managed by Spring
2025-08-18 00:26:19.594 [SimpleAsyncTaskExecutor-13] DEBUG c.e.m.mapper.AuditLogMapper.insert - ==>  Preparing: INSERT INTO audit_log ( request_id, correlation_id, branch_code, endpoint, method, plugin_id, source_system, source_ip, request_payload, status, request_time, headers, parameters ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? )
2025-08-18 00:26:19.594 [SimpleAsyncTaskExecutor-13] DEBUG c.e.m.mapper.AuditLogMapper.insert - ==> Parameters: ESB-0b0facab-6943-4212-bf59-7b73bb318d13(String), CORR-001(String), BRANCH001(String), TRADE_SERVICE(String), POST(String), null, FRONTEND(String), 0:0:0:0:0:0:0:1(String), {"tradeId":"TRD123456","customerId":"CUST001"}(String), PROCESSING(String), 2025-08-18T00:26:19.594457800(LocalDateTime), null, null
2025-08-18 00:26:19.594 [SimpleAsyncTaskExecutor-14] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e60b5c1] was not registered for synchronization because synchronization is not active
2025-08-18 00:26:19.600 [SimpleAsyncTaskExecutor-14] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1084703357 wrapping ConnectionID:2 ClientConnectionId: ff10fb0a-42e3-45f1-b20e-f6b53f61516d] will not be managed by Spring
2025-08-18 00:26:19.600 [SimpleAsyncTaskExecutor-14] DEBUG c.e.m.m.A.updateResponse - ==>  Preparing: UPDATE audit_log SET response_payload = ?, status = ?, status_code = ?, error_code = ?, error_message = ?, processing_time = ?, response_time = ? WHERE request_id = ?
2025-08-18 00:26:19.601 [SimpleAsyncTaskExecutor-14] DEBUG c.e.m.m.A.updateResponse - ==> Parameters: null, NOT_FOUND(String), 404(String), null, null, 9(Long), 2025-08-18T00:26:19.594457800(LocalDateTime), ESB-0b0facab-6943-4212-bf59-7b73bb318d13(String)
2025-08-18 00:26:19.603 [SimpleAsyncTaskExecutor-14] DEBUG c.e.m.m.A.updateResponse - <==    Updates: 0
2025-08-18 00:26:19.605 [SimpleAsyncTaskExecutor-14] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.AuditLogMapper.updateResponse, Execution time: 7ms
2025-08-18 00:26:19.605 [SimpleAsyncTaskExecutor-13] DEBUG c.e.m.mapper.AuditLogMapper.insert - <==    Updates: 1
2025-08-18 00:26:19.605 [SimpleAsyncTaskExecutor-14] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e60b5c1]
2025-08-18 00:26:19.605 [SimpleAsyncTaskExecutor-14] DEBUG c.e.middleware.service.AuditService - Logged response completion for requestId: ESB-0b0facab-6943-4212-bf59-7b73bb318d13
2025-08-18 00:26:19.605 [SimpleAsyncTaskExecutor-13] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.AuditLogMapper.insert, Execution time: 11ms
2025-08-18 00:26:19.605 [SimpleAsyncTaskExecutor-13] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ab4651a]
2025-08-18 00:26:19.605 [SimpleAsyncTaskExecutor-13] DEBUG c.e.middleware.service.AuditService - Logged request initiation for requestId: ESB-0b0facab-6943-4212-bf59-7b73bb318d13
2025-08-18 00:26:20.730 [http-nio-8082-exec-4] INFO  c.e.m.controller.EsbRouterController - Received ESB request: branch=BRANCH001, endpoint=TRADE_SERVICE
2025-08-18 00:26:20.730 [http-nio-8082-exec-4] INFO  c.e.m.service.EsbRouterService - Processing request: requestId=ESB-e58705ea-78d1-42ce-827b-c981944dced1, branch=BRANCH001, endpoint=TRADE_SERVICE
2025-08-18 00:26:20.734 [http-nio-8082-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:26:20.734 [http-nio-8082-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@156f7ba2] was not registered for synchronization because synchronization is not active
2025-08-18 00:26:20.734 [http-nio-8082-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1382719565 wrapping ConnectionID:1 ClientConnectionId: 981e7225-9ddf-407d-ac35-0ed67347faa0] will not be managed by Spring
2025-08-18 00:26:20.734 [http-nio-8082-exec-4] DEBUG c.e.m.m.R.findByBranchAndEndpoint - ==>  Preparing: SELECT id, branch_code, endpoint, method, plugin_id, target_url, headers, parameters, transformation_rule, enabled, priority, timeout, retry_count, description, created_by, created_date, modified_by, modified_date FROM route_config WHERE branch_code = ? AND endpoint = ? AND enabled = 1 ORDER BY priority DESC
2025-08-18 00:26:20.734 [http-nio-8082-exec-4] DEBUG c.e.m.m.R.findByBranchAndEndpoint - ==> Parameters: BRANCH001(String), TRADE_SERVICE(String)
2025-08-18 00:26:20.734 [http-nio-8082-exec-4] DEBUG c.e.m.m.R.findByBranchAndEndpoint - <==      Total: 0
2025-08-18 00:26:20.734 [http-nio-8082-exec-4] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.RouteConfigMapper.findByBranchAndEndpoint, Execution time: 0ms
2025-08-18 00:26:20.734 [http-nio-8082-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@156f7ba2]
2025-08-18 00:26:20.734 [http-nio-8082-exec-4] WARN  c.e.m.service.EsbRouterService - No route found for branch: BRANCH001, endpoint: TRADE_SERVICE
2025-08-18 00:26:20.734 [SimpleAsyncTaskExecutor-15] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:26:20.734 [SimpleAsyncTaskExecutor-15] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ccf83e2] was not registered for synchronization because synchronization is not active
2025-08-18 00:26:20.734 [SimpleAsyncTaskExecutor-16] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:26:20.734 [SimpleAsyncTaskExecutor-15] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@34106379 wrapping ConnectionID:1 ClientConnectionId: 981e7225-9ddf-407d-ac35-0ed67347faa0] will not be managed by Spring
2025-08-18 00:26:20.734 [SimpleAsyncTaskExecutor-15] DEBUG c.e.m.mapper.AuditLogMapper.insert - ==>  Preparing: INSERT INTO audit_log ( request_id, correlation_id, branch_code, endpoint, method, plugin_id, source_system, source_ip, request_payload, status, request_time, headers, parameters ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? )
2025-08-18 00:26:20.734 [SimpleAsyncTaskExecutor-16] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e5968c1] was not registered for synchronization because synchronization is not active
2025-08-18 00:26:20.734 [SimpleAsyncTaskExecutor-15] DEBUG c.e.m.mapper.AuditLogMapper.insert - ==> Parameters: ESB-e58705ea-78d1-42ce-827b-c981944dced1(String), CORR-001(String), BRANCH001(String), TRADE_SERVICE(String), POST(String), null, FRONTEND(String), 0:0:0:0:0:0:0:1(String), {"tradeId":"TRD123456","customerId":"CUST001"}(String), PROCESSING(String), 2025-08-18T00:26:20.734836300(LocalDateTime), null, null
2025-08-18 00:26:20.734 [SimpleAsyncTaskExecutor-16] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@547259258 wrapping ConnectionID:2 ClientConnectionId: ff10fb0a-42e3-45f1-b20e-f6b53f61516d] will not be managed by Spring
2025-08-18 00:26:20.734 [SimpleAsyncTaskExecutor-16] DEBUG c.e.m.m.A.updateResponse - ==>  Preparing: UPDATE audit_log SET response_payload = ?, status = ?, status_code = ?, error_code = ?, error_message = ?, processing_time = ?, response_time = ? WHERE request_id = ?
2025-08-18 00:26:20.734 [SimpleAsyncTaskExecutor-16] DEBUG c.e.m.m.A.updateResponse - ==> Parameters: null, NOT_FOUND(String), 404(String), null, null, 4(Long), 2025-08-18T00:26:20.734836300(LocalDateTime), ESB-e58705ea-78d1-42ce-827b-c981944dced1(String)
2025-08-18 00:26:20.739 [SimpleAsyncTaskExecutor-16] DEBUG c.e.m.m.A.updateResponse - <==    Updates: 0
2025-08-18 00:26:20.739 [SimpleAsyncTaskExecutor-16] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.AuditLogMapper.updateResponse, Execution time: 5ms
2025-08-18 00:26:20.739 [SimpleAsyncTaskExecutor-16] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e5968c1]
2025-08-18 00:26:20.739 [SimpleAsyncTaskExecutor-16] DEBUG c.e.middleware.service.AuditService - Logged response completion for requestId: ESB-e58705ea-78d1-42ce-827b-c981944dced1
2025-08-18 00:26:20.739 [SimpleAsyncTaskExecutor-15] DEBUG c.e.m.mapper.AuditLogMapper.insert - <==    Updates: 1
2025-08-18 00:26:20.739 [SimpleAsyncTaskExecutor-15] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.AuditLogMapper.insert, Execution time: 5ms
2025-08-18 00:26:20.739 [SimpleAsyncTaskExecutor-15] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ccf83e2]
2025-08-18 00:26:20.739 [SimpleAsyncTaskExecutor-15] DEBUG c.e.middleware.service.AuditService - Logged request initiation for requestId: ESB-e58705ea-78d1-42ce-827b-c981944dced1
2025-08-18 00:26:21.180 [http-nio-8082-exec-6] INFO  c.e.m.controller.EsbRouterController - Received ESB request: branch=BRANCH001, endpoint=TRADE_SERVICE
2025-08-18 00:26:21.180 [http-nio-8082-exec-6] INFO  c.e.m.service.EsbRouterService - Processing request: requestId=ESB-88273f21-0318-4152-a307-2f3bfb50f740, branch=BRANCH001, endpoint=TRADE_SERVICE
2025-08-18 00:26:21.180 [http-nio-8082-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:26:21.180 [http-nio-8082-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c638d87] was not registered for synchronization because synchronization is not active
2025-08-18 00:26:21.180 [http-nio-8082-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@328720997 wrapping ConnectionID:1 ClientConnectionId: 981e7225-9ddf-407d-ac35-0ed67347faa0] will not be managed by Spring
2025-08-18 00:26:21.180 [http-nio-8082-exec-6] DEBUG c.e.m.m.R.findByBranchAndEndpoint - ==>  Preparing: SELECT id, branch_code, endpoint, method, plugin_id, target_url, headers, parameters, transformation_rule, enabled, priority, timeout, retry_count, description, created_by, created_date, modified_by, modified_date FROM route_config WHERE branch_code = ? AND endpoint = ? AND enabled = 1 ORDER BY priority DESC
2025-08-18 00:26:21.180 [http-nio-8082-exec-6] DEBUG c.e.m.m.R.findByBranchAndEndpoint - ==> Parameters: BRANCH001(String), TRADE_SERVICE(String)
2025-08-18 00:26:21.186 [http-nio-8082-exec-6] DEBUG c.e.m.m.R.findByBranchAndEndpoint - <==      Total: 0
2025-08-18 00:26:21.186 [http-nio-8082-exec-6] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.RouteConfigMapper.findByBranchAndEndpoint, Execution time: 6ms
2025-08-18 00:26:21.186 [http-nio-8082-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c638d87]
2025-08-18 00:26:21.186 [http-nio-8082-exec-6] WARN  c.e.m.service.EsbRouterService - No route found for branch: BRANCH001, endpoint: TRADE_SERVICE
2025-08-18 00:26:21.190 [SimpleAsyncTaskExecutor-17] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:26:21.190 [SimpleAsyncTaskExecutor-18] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:26:21.190 [SimpleAsyncTaskExecutor-17] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d2e80d3] was not registered for synchronization because synchronization is not active
2025-08-18 00:26:21.190 [SimpleAsyncTaskExecutor-18] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b8c48c3] was not registered for synchronization because synchronization is not active
2025-08-18 00:26:21.190 [SimpleAsyncTaskExecutor-17] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@334064902 wrapping ConnectionID:1 ClientConnectionId: 981e7225-9ddf-407d-ac35-0ed67347faa0] will not be managed by Spring
2025-08-18 00:26:21.190 [SimpleAsyncTaskExecutor-17] DEBUG c.e.m.mapper.AuditLogMapper.insert - ==>  Preparing: INSERT INTO audit_log ( request_id, correlation_id, branch_code, endpoint, method, plugin_id, source_system, source_ip, request_payload, status, request_time, headers, parameters ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? )
2025-08-18 00:26:21.190 [SimpleAsyncTaskExecutor-18] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1635001267 wrapping ConnectionID:2 ClientConnectionId: ff10fb0a-42e3-45f1-b20e-f6b53f61516d] will not be managed by Spring
2025-08-18 00:26:21.190 [SimpleAsyncTaskExecutor-18] DEBUG c.e.m.m.A.updateResponse - ==>  Preparing: UPDATE audit_log SET response_payload = ?, status = ?, status_code = ?, error_code = ?, error_message = ?, processing_time = ?, response_time = ? WHERE request_id = ?
2025-08-18 00:26:21.190 [SimpleAsyncTaskExecutor-17] DEBUG c.e.m.mapper.AuditLogMapper.insert - ==> Parameters: ESB-88273f21-0318-4152-a307-2f3bfb50f740(String), CORR-001(String), BRANCH001(String), TRADE_SERVICE(String), POST(String), null, FRONTEND(String), 0:0:0:0:0:0:0:1(String), {"tradeId":"TRD123456","customerId":"CUST001"}(String), PROCESSING(String), 2025-08-18T00:26:21.190004200(LocalDateTime), null, null
2025-08-18 00:26:21.190 [SimpleAsyncTaskExecutor-18] DEBUG c.e.m.m.A.updateResponse - ==> Parameters: null, NOT_FOUND(String), 404(String), null, null, 6(Long), 2025-08-18T00:26:21.190004200(LocalDateTime), ESB-88273f21-0318-4152-a307-2f3bfb50f740(String)
2025-08-18 00:26:21.194 [SimpleAsyncTaskExecutor-17] DEBUG c.e.m.mapper.AuditLogMapper.insert - <==    Updates: 1
2025-08-18 00:26:21.194 [SimpleAsyncTaskExecutor-17] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.AuditLogMapper.insert, Execution time: 4ms
2025-08-18 00:26:21.196 [SimpleAsyncTaskExecutor-17] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d2e80d3]
2025-08-18 00:26:21.196 [SimpleAsyncTaskExecutor-17] DEBUG c.e.middleware.service.AuditService - Logged request initiation for requestId: ESB-88273f21-0318-4152-a307-2f3bfb50f740
2025-08-18 00:26:21.197 [SimpleAsyncTaskExecutor-18] DEBUG c.e.m.m.A.updateResponse - <==    Updates: 1
2025-08-18 00:26:21.197 [SimpleAsyncTaskExecutor-18] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.AuditLogMapper.updateResponse, Execution time: 7ms
2025-08-18 00:26:21.197 [SimpleAsyncTaskExecutor-18] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b8c48c3]
2025-08-18 00:26:21.197 [SimpleAsyncTaskExecutor-18] DEBUG c.e.middleware.service.AuditService - Logged response completion for requestId: ESB-88273f21-0318-4152-a307-2f3bfb50f740
2025-08-18 00:26:21.548 [http-nio-8082-exec-7] INFO  c.e.m.controller.EsbRouterController - Received ESB request: branch=BRANCH001, endpoint=TRADE_SERVICE
2025-08-18 00:26:21.548 [http-nio-8082-exec-7] INFO  c.e.m.service.EsbRouterService - Processing request: requestId=ESB-20fa11bf-9b7e-4697-8caf-834a66a9f6f6, branch=BRANCH001, endpoint=TRADE_SERVICE
2025-08-18 00:26:21.548 [http-nio-8082-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:26:21.548 [http-nio-8082-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@185c9fe3] was not registered for synchronization because synchronization is not active
2025-08-18 00:26:21.548 [http-nio-8082-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1472264411 wrapping ConnectionID:1 ClientConnectionId: 981e7225-9ddf-407d-ac35-0ed67347faa0] will not be managed by Spring
2025-08-18 00:26:21.548 [http-nio-8082-exec-7] DEBUG c.e.m.m.R.findByBranchAndEndpoint - ==>  Preparing: SELECT id, branch_code, endpoint, method, plugin_id, target_url, headers, parameters, transformation_rule, enabled, priority, timeout, retry_count, description, created_by, created_date, modified_by, modified_date FROM route_config WHERE branch_code = ? AND endpoint = ? AND enabled = 1 ORDER BY priority DESC
2025-08-18 00:26:21.548 [http-nio-8082-exec-7] DEBUG c.e.m.m.R.findByBranchAndEndpoint - ==> Parameters: BRANCH001(String), TRADE_SERVICE(String)
2025-08-18 00:26:21.551 [http-nio-8082-exec-7] DEBUG c.e.m.m.R.findByBranchAndEndpoint - <==      Total: 0
2025-08-18 00:26:21.551 [http-nio-8082-exec-7] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.RouteConfigMapper.findByBranchAndEndpoint, Execution time: 3ms
2025-08-18 00:26:21.551 [http-nio-8082-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@185c9fe3]
2025-08-18 00:26:21.551 [http-nio-8082-exec-7] WARN  c.e.m.service.EsbRouterService - No route found for branch: BRANCH001, endpoint: TRADE_SERVICE
2025-08-18 00:26:21.551 [SimpleAsyncTaskExecutor-19] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:26:21.551 [SimpleAsyncTaskExecutor-20] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:26:21.551 [SimpleAsyncTaskExecutor-19] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26bd213d] was not registered for synchronization because synchronization is not active
2025-08-18 00:26:21.551 [SimpleAsyncTaskExecutor-20] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7de0de0f] was not registered for synchronization because synchronization is not active
2025-08-18 00:26:21.551 [SimpleAsyncTaskExecutor-19] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@679136154 wrapping ConnectionID:1 ClientConnectionId: 981e7225-9ddf-407d-ac35-0ed67347faa0] will not be managed by Spring
2025-08-18 00:26:21.551 [SimpleAsyncTaskExecutor-20] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1931952067 wrapping ConnectionID:2 ClientConnectionId: ff10fb0a-42e3-45f1-b20e-f6b53f61516d] will not be managed by Spring
2025-08-18 00:26:21.551 [SimpleAsyncTaskExecutor-19] DEBUG c.e.m.mapper.AuditLogMapper.insert - ==>  Preparing: INSERT INTO audit_log ( request_id, correlation_id, branch_code, endpoint, method, plugin_id, source_system, source_ip, request_payload, status, request_time, headers, parameters ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? )
2025-08-18 00:26:21.551 [SimpleAsyncTaskExecutor-20] DEBUG c.e.m.m.A.updateResponse - ==>  Preparing: UPDATE audit_log SET response_payload = ?, status = ?, status_code = ?, error_code = ?, error_message = ?, processing_time = ?, response_time = ? WHERE request_id = ?
2025-08-18 00:26:21.551 [SimpleAsyncTaskExecutor-20] DEBUG c.e.m.m.A.updateResponse - ==> Parameters: null, NOT_FOUND(String), 404(String), null, null, 3(Long), 2025-08-18T00:26:21.551812200(LocalDateTime), ESB-20fa11bf-9b7e-4697-8caf-834a66a9f6f6(String)
2025-08-18 00:26:21.551 [SimpleAsyncTaskExecutor-19] DEBUG c.e.m.mapper.AuditLogMapper.insert - ==> Parameters: ESB-20fa11bf-9b7e-4697-8caf-834a66a9f6f6(String), CORR-001(String), BRANCH001(String), TRADE_SERVICE(String), POST(String), null, FRONTEND(String), 0:0:0:0:0:0:0:1(String), {"tradeId":"TRD123456","customerId":"CUST001"}(String), PROCESSING(String), 2025-08-18T00:26:21.551812200(LocalDateTime), null, null
2025-08-18 00:26:21.551 [SimpleAsyncTaskExecutor-20] DEBUG c.e.m.m.A.updateResponse - <==    Updates: 0
2025-08-18 00:26:21.554 [SimpleAsyncTaskExecutor-20] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.AuditLogMapper.updateResponse, Execution time: 3ms
2025-08-18 00:26:21.554 [SimpleAsyncTaskExecutor-20] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7de0de0f]
2025-08-18 00:26:21.554 [SimpleAsyncTaskExecutor-20] DEBUG c.e.middleware.service.AuditService - Logged response completion for requestId: ESB-20fa11bf-9b7e-4697-8caf-834a66a9f6f6
2025-08-18 00:26:21.554 [SimpleAsyncTaskExecutor-19] DEBUG c.e.m.mapper.AuditLogMapper.insert - <==    Updates: 1
2025-08-18 00:26:21.554 [SimpleAsyncTaskExecutor-19] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.AuditLogMapper.insert, Execution time: 3ms
2025-08-18 00:26:21.554 [SimpleAsyncTaskExecutor-19] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26bd213d]
2025-08-18 00:26:21.554 [SimpleAsyncTaskExecutor-19] DEBUG c.e.middleware.service.AuditService - Logged request initiation for requestId: ESB-20fa11bf-9b7e-4697-8caf-834a66a9f6f6
2025-08-18 00:26:21.914 [http-nio-8082-exec-8] INFO  c.e.m.controller.EsbRouterController - Received ESB request: branch=BRANCH001, endpoint=TRADE_SERVICE
2025-08-18 00:26:21.914 [http-nio-8082-exec-8] INFO  c.e.m.service.EsbRouterService - Processing request: requestId=ESB-e60c6f6c-9881-4a87-8e9d-79f133ae3062, branch=BRANCH001, endpoint=TRADE_SERVICE
2025-08-18 00:26:21.914 [http-nio-8082-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:26:21.914 [http-nio-8082-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38500983] was not registered for synchronization because synchronization is not active
2025-08-18 00:26:21.914 [http-nio-8082-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@475472439 wrapping ConnectionID:1 ClientConnectionId: 981e7225-9ddf-407d-ac35-0ed67347faa0] will not be managed by Spring
2025-08-18 00:26:21.914 [http-nio-8082-exec-8] DEBUG c.e.m.m.R.findByBranchAndEndpoint - ==>  Preparing: SELECT id, branch_code, endpoint, method, plugin_id, target_url, headers, parameters, transformation_rule, enabled, priority, timeout, retry_count, description, created_by, created_date, modified_by, modified_date FROM route_config WHERE branch_code = ? AND endpoint = ? AND enabled = 1 ORDER BY priority DESC
2025-08-18 00:26:21.914 [http-nio-8082-exec-8] DEBUG c.e.m.m.R.findByBranchAndEndpoint - ==> Parameters: BRANCH001(String), TRADE_SERVICE(String)
2025-08-18 00:26:21.914 [http-nio-8082-exec-8] DEBUG c.e.m.m.R.findByBranchAndEndpoint - <==      Total: 0
2025-08-18 00:26:21.914 [http-nio-8082-exec-8] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.RouteConfigMapper.findByBranchAndEndpoint, Execution time: 0ms
2025-08-18 00:26:21.914 [http-nio-8082-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38500983]
2025-08-18 00:26:21.914 [http-nio-8082-exec-8] WARN  c.e.m.service.EsbRouterService - No route found for branch: BRANCH001, endpoint: TRADE_SERVICE
2025-08-18 00:26:21.914 [SimpleAsyncTaskExecutor-21] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:26:21.914 [SimpleAsyncTaskExecutor-22] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:26:21.914 [SimpleAsyncTaskExecutor-21] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4edfc7fe] was not registered for synchronization because synchronization is not active
2025-08-18 00:26:21.914 [SimpleAsyncTaskExecutor-22] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bf99be2] was not registered for synchronization because synchronization is not active
2025-08-18 00:26:21.914 [SimpleAsyncTaskExecutor-22] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1698588909 wrapping ConnectionID:2 ClientConnectionId: ff10fb0a-42e3-45f1-b20e-f6b53f61516d] will not be managed by Spring
2025-08-18 00:26:21.914 [SimpleAsyncTaskExecutor-21] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1075322965 wrapping ConnectionID:1 ClientConnectionId: 981e7225-9ddf-407d-ac35-0ed67347faa0] will not be managed by Spring
2025-08-18 00:26:21.914 [SimpleAsyncTaskExecutor-21] DEBUG c.e.m.mapper.AuditLogMapper.insert - ==>  Preparing: INSERT INTO audit_log ( request_id, correlation_id, branch_code, endpoint, method, plugin_id, source_system, source_ip, request_payload, status, request_time, headers, parameters ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? )
2025-08-18 00:26:21.914 [SimpleAsyncTaskExecutor-22] DEBUG c.e.m.m.A.updateResponse - ==>  Preparing: UPDATE audit_log SET response_payload = ?, status = ?, status_code = ?, error_code = ?, error_message = ?, processing_time = ?, response_time = ? WHERE request_id = ?
2025-08-18 00:26:21.914 [SimpleAsyncTaskExecutor-21] DEBUG c.e.m.mapper.AuditLogMapper.insert - ==> Parameters: ESB-e60c6f6c-9881-4a87-8e9d-79f133ae3062(String), CORR-001(String), BRANCH001(String), TRADE_SERVICE(String), POST(String), null, FRONTEND(String), 0:0:0:0:0:0:0:1(String), {"tradeId":"TRD123456","customerId":"CUST001"}(String), PROCESSING(String), 2025-08-18T00:26:21.914865100(LocalDateTime), null, null
2025-08-18 00:26:21.914 [SimpleAsyncTaskExecutor-22] DEBUG c.e.m.m.A.updateResponse - ==> Parameters: null, NOT_FOUND(String), 404(String), null, null, 0(Long), 2025-08-18T00:26:21.914865100(LocalDateTime), ESB-e60c6f6c-9881-4a87-8e9d-79f133ae3062(String)
2025-08-18 00:26:21.923 [SimpleAsyncTaskExecutor-21] DEBUG c.e.m.mapper.AuditLogMapper.insert - <==    Updates: 1
2025-08-18 00:26:21.923 [SimpleAsyncTaskExecutor-21] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.AuditLogMapper.insert, Execution time: 9ms
2025-08-18 00:26:21.923 [SimpleAsyncTaskExecutor-21] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4edfc7fe]
2025-08-18 00:26:21.923 [SimpleAsyncTaskExecutor-22] DEBUG c.e.m.m.A.updateResponse - <==    Updates: 1
2025-08-18 00:26:21.923 [SimpleAsyncTaskExecutor-21] DEBUG c.e.middleware.service.AuditService - Logged request initiation for requestId: ESB-e60c6f6c-9881-4a87-8e9d-79f133ae3062
2025-08-18 00:26:21.923 [SimpleAsyncTaskExecutor-22] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.AuditLogMapper.updateResponse, Execution time: 9ms
2025-08-18 00:26:21.923 [SimpleAsyncTaskExecutor-22] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bf99be2]
2025-08-18 00:26:21.923 [SimpleAsyncTaskExecutor-22] DEBUG c.e.middleware.service.AuditService - Logged response completion for requestId: ESB-e60c6f6c-9881-4a87-8e9d-79f133ae3062
2025-08-18 00:26:22.464 [http-nio-8082-exec-9] INFO  c.e.m.controller.EsbRouterController - Received ESB request: branch=BRANCH001, endpoint=TRADE_SERVICE
2025-08-18 00:26:22.464 [http-nio-8082-exec-9] INFO  c.e.m.service.EsbRouterService - Processing request: requestId=ESB-916d0b2d-b5e4-4060-b3ea-0954fba5d8dc, branch=BRANCH001, endpoint=TRADE_SERVICE
2025-08-18 00:26:22.464 [http-nio-8082-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:26:22.464 [http-nio-8082-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a727e4] was not registered for synchronization because synchronization is not active
2025-08-18 00:26:22.464 [http-nio-8082-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@207673792 wrapping ConnectionID:1 ClientConnectionId: 981e7225-9ddf-407d-ac35-0ed67347faa0] will not be managed by Spring
2025-08-18 00:26:22.464 [http-nio-8082-exec-9] DEBUG c.e.m.m.R.findByBranchAndEndpoint - ==>  Preparing: SELECT id, branch_code, endpoint, method, plugin_id, target_url, headers, parameters, transformation_rule, enabled, priority, timeout, retry_count, description, created_by, created_date, modified_by, modified_date FROM route_config WHERE branch_code = ? AND endpoint = ? AND enabled = 1 ORDER BY priority DESC
2025-08-18 00:26:22.464 [http-nio-8082-exec-9] DEBUG c.e.m.m.R.findByBranchAndEndpoint - ==> Parameters: BRANCH001(String), TRADE_SERVICE(String)
2025-08-18 00:26:22.464 [http-nio-8082-exec-9] DEBUG c.e.m.m.R.findByBranchAndEndpoint - <==      Total: 0
2025-08-18 00:26:22.464 [http-nio-8082-exec-9] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.RouteConfigMapper.findByBranchAndEndpoint, Execution time: 0ms
2025-08-18 00:26:22.464 [http-nio-8082-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a727e4]
2025-08-18 00:26:22.464 [http-nio-8082-exec-9] WARN  c.e.m.service.EsbRouterService - No route found for branch: BRANCH001, endpoint: TRADE_SERVICE
2025-08-18 00:26:22.464 [SimpleAsyncTaskExecutor-23] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:26:22.464 [SimpleAsyncTaskExecutor-24] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:26:22.464 [SimpleAsyncTaskExecutor-24] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@590b89c1] was not registered for synchronization because synchronization is not active
2025-08-18 00:26:22.464 [SimpleAsyncTaskExecutor-23] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3116f3d2] was not registered for synchronization because synchronization is not active
2025-08-18 00:26:22.464 [SimpleAsyncTaskExecutor-24] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1473014928 wrapping ConnectionID:1 ClientConnectionId: 981e7225-9ddf-407d-ac35-0ed67347faa0] will not be managed by Spring
2025-08-18 00:26:22.464 [SimpleAsyncTaskExecutor-23] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1070668672 wrapping ConnectionID:2 ClientConnectionId: ff10fb0a-42e3-45f1-b20e-f6b53f61516d] will not be managed by Spring
2025-08-18 00:26:22.464 [SimpleAsyncTaskExecutor-23] DEBUG c.e.m.mapper.AuditLogMapper.insert - ==>  Preparing: INSERT INTO audit_log ( request_id, correlation_id, branch_code, endpoint, method, plugin_id, source_system, source_ip, request_payload, status, request_time, headers, parameters ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? )
2025-08-18 00:26:22.478 [SimpleAsyncTaskExecutor-24] DEBUG c.e.m.m.A.updateResponse - ==>  Preparing: UPDATE audit_log SET response_payload = ?, status = ?, status_code = ?, error_code = ?, error_message = ?, processing_time = ?, response_time = ? WHERE request_id = ?
2025-08-18 00:26:22.478 [SimpleAsyncTaskExecutor-23] DEBUG c.e.m.mapper.AuditLogMapper.insert - ==> Parameters: ESB-916d0b2d-b5e4-4060-b3ea-0954fba5d8dc(String), CORR-001(String), BRANCH001(String), TRADE_SERVICE(String), POST(String), null, FRONTEND(String), 0:0:0:0:0:0:0:1(String), {"tradeId":"TRD123456","customerId":"CUST001"}(String), PROCESSING(String), 2025-08-18T00:26:22.464814500(LocalDateTime), null, null
2025-08-18 00:26:22.478 [SimpleAsyncTaskExecutor-24] DEBUG c.e.m.m.A.updateResponse - ==> Parameters: null, NOT_FOUND(String), 404(String), null, null, 0(Long), 2025-08-18T00:26:22.464814500(LocalDateTime), ESB-916d0b2d-b5e4-4060-b3ea-0954fba5d8dc(String)
2025-08-18 00:26:22.481 [SimpleAsyncTaskExecutor-23] DEBUG c.e.m.mapper.AuditLogMapper.insert - <==    Updates: 1
2025-08-18 00:26:22.482 [SimpleAsyncTaskExecutor-23] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.AuditLogMapper.insert, Execution time: 18ms
2025-08-18 00:26:22.482 [SimpleAsyncTaskExecutor-23] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3116f3d2]
2025-08-18 00:26:22.482 [SimpleAsyncTaskExecutor-23] DEBUG c.e.middleware.service.AuditService - Logged request initiation for requestId: ESB-916d0b2d-b5e4-4060-b3ea-0954fba5d8dc
2025-08-18 00:26:22.483 [SimpleAsyncTaskExecutor-24] DEBUG c.e.m.m.A.updateResponse - <==    Updates: 1
2025-08-18 00:26:22.483 [SimpleAsyncTaskExecutor-24] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.AuditLogMapper.updateResponse, Execution time: 19ms
2025-08-18 00:26:22.483 [SimpleAsyncTaskExecutor-24] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@590b89c1]
2025-08-18 00:26:22.483 [SimpleAsyncTaskExecutor-24] DEBUG c.e.middleware.service.AuditService - Logged response completion for requestId: ESB-916d0b2d-b5e4-4060-b3ea-0954fba5d8dc
2025-08-18 00:26:22.830 [http-nio-8082-exec-10] INFO  c.e.m.controller.EsbRouterController - Received ESB request: branch=BRANCH001, endpoint=TRADE_SERVICE
2025-08-18 00:26:22.830 [http-nio-8082-exec-10] INFO  c.e.m.service.EsbRouterService - Processing request: requestId=ESB-cd6fcbde-0ad4-40dc-8d3c-a9e8bd4c8171, branch=BRANCH001, endpoint=TRADE_SERVICE
2025-08-18 00:26:22.830 [http-nio-8082-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:26:22.830 [http-nio-8082-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3821530a] was not registered for synchronization because synchronization is not active
2025-08-18 00:26:22.830 [http-nio-8082-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2099497578 wrapping ConnectionID:1 ClientConnectionId: 981e7225-9ddf-407d-ac35-0ed67347faa0] will not be managed by Spring
2025-08-18 00:26:22.830 [http-nio-8082-exec-10] DEBUG c.e.m.m.R.findByBranchAndEndpoint - ==>  Preparing: SELECT id, branch_code, endpoint, method, plugin_id, target_url, headers, parameters, transformation_rule, enabled, priority, timeout, retry_count, description, created_by, created_date, modified_by, modified_date FROM route_config WHERE branch_code = ? AND endpoint = ? AND enabled = 1 ORDER BY priority DESC
2025-08-18 00:26:22.830 [http-nio-8082-exec-10] DEBUG c.e.m.m.R.findByBranchAndEndpoint - ==> Parameters: BRANCH001(String), TRADE_SERVICE(String)
2025-08-18 00:26:22.830 [http-nio-8082-exec-10] DEBUG c.e.m.m.R.findByBranchAndEndpoint - <==      Total: 0
2025-08-18 00:26:22.830 [http-nio-8082-exec-10] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.RouteConfigMapper.findByBranchAndEndpoint, Execution time: 0ms
2025-08-18 00:26:22.830 [http-nio-8082-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3821530a]
2025-08-18 00:26:22.830 [http-nio-8082-exec-10] WARN  c.e.m.service.EsbRouterService - No route found for branch: BRANCH001, endpoint: TRADE_SERVICE
2025-08-18 00:26:22.837 [SimpleAsyncTaskExecutor-26] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:26:22.837 [SimpleAsyncTaskExecutor-25] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:26:22.837 [SimpleAsyncTaskExecutor-26] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@750a3b04] was not registered for synchronization because synchronization is not active
2025-08-18 00:26:22.837 [SimpleAsyncTaskExecutor-25] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a99429] was not registered for synchronization because synchronization is not active
2025-08-18 00:26:22.837 [SimpleAsyncTaskExecutor-26] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2077084629 wrapping ConnectionID:1 ClientConnectionId: 981e7225-9ddf-407d-ac35-0ed67347faa0] will not be managed by Spring
2025-08-18 00:26:22.837 [SimpleAsyncTaskExecutor-25] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@208562700 wrapping ConnectionID:2 ClientConnectionId: ff10fb0a-42e3-45f1-b20e-f6b53f61516d] will not be managed by Spring
2025-08-18 00:26:22.837 [SimpleAsyncTaskExecutor-26] DEBUG c.e.m.m.A.updateResponse - ==>  Preparing: UPDATE audit_log SET response_payload = ?, status = ?, status_code = ?, error_code = ?, error_message = ?, processing_time = ?, response_time = ? WHERE request_id = ?
2025-08-18 00:26:22.837 [SimpleAsyncTaskExecutor-25] DEBUG c.e.m.mapper.AuditLogMapper.insert - ==>  Preparing: INSERT INTO audit_log ( request_id, correlation_id, branch_code, endpoint, method, plugin_id, source_system, source_ip, request_payload, status, request_time, headers, parameters ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? )
2025-08-18 00:26:22.837 [SimpleAsyncTaskExecutor-26] DEBUG c.e.m.m.A.updateResponse - ==> Parameters: null, NOT_FOUND(String), 404(String), null, null, 0(Long), 2025-08-18T00:26:22.837136700(LocalDateTime), ESB-cd6fcbde-0ad4-40dc-8d3c-a9e8bd4c8171(String)
2025-08-18 00:26:22.837 [SimpleAsyncTaskExecutor-25] DEBUG c.e.m.mapper.AuditLogMapper.insert - ==> Parameters: ESB-cd6fcbde-0ad4-40dc-8d3c-a9e8bd4c8171(String), CORR-001(String), BRANCH001(String), TRADE_SERVICE(String), POST(String), null, FRONTEND(String), 0:0:0:0:0:0:0:1(String), {"tradeId":"TRD123456","customerId":"CUST001"}(String), PROCESSING(String), 2025-08-18T00:26:22.837136700(LocalDateTime), null, null
2025-08-18 00:26:22.839 [SimpleAsyncTaskExecutor-25] DEBUG c.e.m.mapper.AuditLogMapper.insert - <==    Updates: 1
2025-08-18 00:26:22.839 [SimpleAsyncTaskExecutor-26] DEBUG c.e.m.m.A.updateResponse - <==    Updates: 1
2025-08-18 00:26:22.839 [SimpleAsyncTaskExecutor-26] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.AuditLogMapper.updateResponse, Execution time: 2ms
2025-08-18 00:26:22.839 [SimpleAsyncTaskExecutor-25] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.AuditLogMapper.insert, Execution time: 2ms
2025-08-18 00:26:22.839 [SimpleAsyncTaskExecutor-25] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a99429]
2025-08-18 00:26:22.839 [SimpleAsyncTaskExecutor-26] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@750a3b04]
2025-08-18 00:26:22.839 [SimpleAsyncTaskExecutor-25] DEBUG c.e.middleware.service.AuditService - Logged request initiation for requestId: ESB-cd6fcbde-0ad4-40dc-8d3c-a9e8bd4c8171
2025-08-18 00:26:22.839 [SimpleAsyncTaskExecutor-26] DEBUG c.e.middleware.service.AuditService - Logged response completion for requestId: ESB-cd6fcbde-0ad4-40dc-8d3c-a9e8bd4c8171
2025-08-18 00:26:23.448 [http-nio-8082-exec-2] INFO  c.e.m.controller.EsbRouterController - Received ESB request: branch=BRANCH001, endpoint=TRADE_SERVICE
2025-08-18 00:26:23.448 [http-nio-8082-exec-2] INFO  c.e.m.service.EsbRouterService - Processing request: requestId=ESB-6e82b9df-8f74-4bc1-90de-58e0d5c9d641, branch=BRANCH001, endpoint=TRADE_SERVICE
2025-08-18 00:26:23.448 [http-nio-8082-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:26:23.448 [http-nio-8082-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e94079f] was not registered for synchronization because synchronization is not active
2025-08-18 00:26:23.448 [http-nio-8082-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1090111001 wrapping ConnectionID:1 ClientConnectionId: 981e7225-9ddf-407d-ac35-0ed67347faa0] will not be managed by Spring
2025-08-18 00:26:23.448 [http-nio-8082-exec-2] DEBUG c.e.m.m.R.findByBranchAndEndpoint - ==>  Preparing: SELECT id, branch_code, endpoint, method, plugin_id, target_url, headers, parameters, transformation_rule, enabled, priority, timeout, retry_count, description, created_by, created_date, modified_by, modified_date FROM route_config WHERE branch_code = ? AND endpoint = ? AND enabled = 1 ORDER BY priority DESC
2025-08-18 00:26:23.448 [http-nio-8082-exec-2] DEBUG c.e.m.m.R.findByBranchAndEndpoint - ==> Parameters: BRANCH001(String), TRADE_SERVICE(String)
2025-08-18 00:26:23.448 [http-nio-8082-exec-2] DEBUG c.e.m.m.R.findByBranchAndEndpoint - <==      Total: 0
2025-08-18 00:26:23.448 [http-nio-8082-exec-2] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.RouteConfigMapper.findByBranchAndEndpoint, Execution time: 0ms
2025-08-18 00:26:23.448 [http-nio-8082-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e94079f]
2025-08-18 00:26:23.448 [http-nio-8082-exec-2] WARN  c.e.m.service.EsbRouterService - No route found for branch: BRANCH001, endpoint: TRADE_SERVICE
2025-08-18 00:26:23.448 [SimpleAsyncTaskExecutor-27] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:26:23.448 [SimpleAsyncTaskExecutor-27] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60a3f883] was not registered for synchronization because synchronization is not active
2025-08-18 00:26:23.448 [SimpleAsyncTaskExecutor-27] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1852050151 wrapping ConnectionID:1 ClientConnectionId: 981e7225-9ddf-407d-ac35-0ed67347faa0] will not be managed by Spring
2025-08-18 00:26:23.448 [SimpleAsyncTaskExecutor-27] DEBUG c.e.m.mapper.AuditLogMapper.insert - ==>  Preparing: INSERT INTO audit_log ( request_id, correlation_id, branch_code, endpoint, method, plugin_id, source_system, source_ip, request_payload, status, request_time, headers, parameters ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? )
2025-08-18 00:26:23.455 [SimpleAsyncTaskExecutor-27] DEBUG c.e.m.mapper.AuditLogMapper.insert - ==> Parameters: ESB-6e82b9df-8f74-4bc1-90de-58e0d5c9d641(String), CORR-001(String), BRANCH001(String), TRADE_SERVICE(String), POST(String), null, FRONTEND(String), 0:0:0:0:0:0:0:1(String), {"tradeId":"TRD123456","customerId":"CUST001"}(String), PROCESSING(String), 2025-08-18T00:26:23.448153900(LocalDateTime), null, null
2025-08-18 00:26:23.455 [SimpleAsyncTaskExecutor-28] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:26:23.455 [SimpleAsyncTaskExecutor-28] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a2c5b84] was not registered for synchronization because synchronization is not active
2025-08-18 00:26:23.457 [SimpleAsyncTaskExecutor-28] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1156299953 wrapping ConnectionID:2 ClientConnectionId: ff10fb0a-42e3-45f1-b20e-f6b53f61516d] will not be managed by Spring
2025-08-18 00:26:23.457 [SimpleAsyncTaskExecutor-28] DEBUG c.e.m.m.A.updateResponse - ==>  Preparing: UPDATE audit_log SET response_payload = ?, status = ?, status_code = ?, error_code = ?, error_message = ?, processing_time = ?, response_time = ? WHERE request_id = ?
2025-08-18 00:26:23.457 [SimpleAsyncTaskExecutor-28] DEBUG c.e.m.m.A.updateResponse - ==> Parameters: null, NOT_FOUND(String), 404(String), null, null, 0(Long), 2025-08-18T00:26:23.455345100(LocalDateTime), ESB-6e82b9df-8f74-4bc1-90de-58e0d5c9d641(String)
2025-08-18 00:26:23.459 [SimpleAsyncTaskExecutor-27] DEBUG c.e.m.mapper.AuditLogMapper.insert - <==    Updates: 1
2025-08-18 00:26:23.459 [SimpleAsyncTaskExecutor-27] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.AuditLogMapper.insert, Execution time: 11ms
2025-08-18 00:26:23.459 [SimpleAsyncTaskExecutor-28] DEBUG c.e.m.m.A.updateResponse - <==    Updates: 1
2025-08-18 00:26:23.459 [SimpleAsyncTaskExecutor-27] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60a3f883]
2025-08-18 00:26:23.459 [SimpleAsyncTaskExecutor-28] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.AuditLogMapper.updateResponse, Execution time: 4ms
2025-08-18 00:26:23.459 [SimpleAsyncTaskExecutor-28] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a2c5b84]
2025-08-18 00:26:23.459 [SimpleAsyncTaskExecutor-27] DEBUG c.e.middleware.service.AuditService - Logged request initiation for requestId: ESB-6e82b9df-8f74-4bc1-90de-58e0d5c9d641
2025-08-18 00:26:23.459 [SimpleAsyncTaskExecutor-28] DEBUG c.e.middleware.service.AuditService - Logged response completion for requestId: ESB-6e82b9df-8f74-4bc1-90de-58e0d5c9d641
2025-08-18 00:26:23.798 [http-nio-8082-exec-1] INFO  c.e.m.controller.EsbRouterController - Received ESB request: branch=BRANCH001, endpoint=TRADE_SERVICE
2025-08-18 00:26:23.798 [http-nio-8082-exec-1] INFO  c.e.m.service.EsbRouterService - Processing request: requestId=ESB-262ff1bf-0f79-4949-8823-89550dcaaaac, branch=BRANCH001, endpoint=TRADE_SERVICE
2025-08-18 00:26:23.798 [http-nio-8082-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:26:23.798 [http-nio-8082-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@adc5628] was not registered for synchronization because synchronization is not active
2025-08-18 00:26:23.798 [http-nio-8082-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2092562405 wrapping ConnectionID:1 ClientConnectionId: 981e7225-9ddf-407d-ac35-0ed67347faa0] will not be managed by Spring
2025-08-18 00:26:23.798 [http-nio-8082-exec-1] DEBUG c.e.m.m.R.findByBranchAndEndpoint - ==>  Preparing: SELECT id, branch_code, endpoint, method, plugin_id, target_url, headers, parameters, transformation_rule, enabled, priority, timeout, retry_count, description, created_by, created_date, modified_by, modified_date FROM route_config WHERE branch_code = ? AND endpoint = ? AND enabled = 1 ORDER BY priority DESC
2025-08-18 00:26:23.798 [http-nio-8082-exec-1] DEBUG c.e.m.m.R.findByBranchAndEndpoint - ==> Parameters: BRANCH001(String), TRADE_SERVICE(String)
2025-08-18 00:26:23.798 [http-nio-8082-exec-1] DEBUG c.e.m.m.R.findByBranchAndEndpoint - <==      Total: 0
2025-08-18 00:26:23.798 [http-nio-8082-exec-1] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.RouteConfigMapper.findByBranchAndEndpoint, Execution time: 0ms
2025-08-18 00:26:23.798 [http-nio-8082-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@adc5628]
2025-08-18 00:26:23.798 [http-nio-8082-exec-1] WARN  c.e.m.service.EsbRouterService - No route found for branch: BRANCH001, endpoint: TRADE_SERVICE
2025-08-18 00:26:23.798 [SimpleAsyncTaskExecutor-29] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:26:23.798 [SimpleAsyncTaskExecutor-30] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:26:23.798 [SimpleAsyncTaskExecutor-29] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@487665fc] was not registered for synchronization because synchronization is not active
2025-08-18 00:26:23.798 [SimpleAsyncTaskExecutor-30] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@618ef267] was not registered for synchronization because synchronization is not active
2025-08-18 00:26:23.798 [SimpleAsyncTaskExecutor-30] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1867059238 wrapping ConnectionID:2 ClientConnectionId: ff10fb0a-42e3-45f1-b20e-f6b53f61516d] will not be managed by Spring
2025-08-18 00:26:23.798 [SimpleAsyncTaskExecutor-30] DEBUG c.e.m.m.A.updateResponse - ==>  Preparing: UPDATE audit_log SET response_payload = ?, status = ?, status_code = ?, error_code = ?, error_message = ?, processing_time = ?, response_time = ? WHERE request_id = ?
2025-08-18 00:26:23.798 [SimpleAsyncTaskExecutor-29] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1186038402 wrapping ConnectionID:1 ClientConnectionId: 981e7225-9ddf-407d-ac35-0ed67347faa0] will not be managed by Spring
2025-08-18 00:26:23.798 [SimpleAsyncTaskExecutor-29] DEBUG c.e.m.mapper.AuditLogMapper.insert - ==>  Preparing: INSERT INTO audit_log ( request_id, correlation_id, branch_code, endpoint, method, plugin_id, source_system, source_ip, request_payload, status, request_time, headers, parameters ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? )
2025-08-18 00:26:23.798 [SimpleAsyncTaskExecutor-30] DEBUG c.e.m.m.A.updateResponse - ==> Parameters: null, NOT_FOUND(String), 404(String), null, null, 0(Long), 2025-08-18T00:26:23.798057300(LocalDateTime), ESB-262ff1bf-0f79-4949-8823-89550dcaaaac(String)
2025-08-18 00:26:23.798 [SimpleAsyncTaskExecutor-29] DEBUG c.e.m.mapper.AuditLogMapper.insert - ==> Parameters: ESB-262ff1bf-0f79-4949-8823-89550dcaaaac(String), CORR-001(String), BRANCH001(String), TRADE_SERVICE(String), POST(String), null, FRONTEND(String), 0:0:0:0:0:0:0:1(String), {"tradeId":"TRD123456","customerId":"CUST001"}(String), PROCESSING(String), 2025-08-18T00:26:23.798057300(LocalDateTime), null, null
2025-08-18 00:26:23.804 [SimpleAsyncTaskExecutor-30] DEBUG c.e.m.m.A.updateResponse - <==    Updates: 0
2025-08-18 00:26:23.804 [SimpleAsyncTaskExecutor-30] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.AuditLogMapper.updateResponse, Execution time: 6ms
2025-08-18 00:26:23.804 [SimpleAsyncTaskExecutor-30] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@618ef267]
2025-08-18 00:26:23.804 [SimpleAsyncTaskExecutor-29] DEBUG c.e.m.mapper.AuditLogMapper.insert - <==    Updates: 1
2025-08-18 00:26:23.804 [SimpleAsyncTaskExecutor-30] DEBUG c.e.middleware.service.AuditService - Logged response completion for requestId: ESB-262ff1bf-0f79-4949-8823-89550dcaaaac
2025-08-18 00:26:23.804 [SimpleAsyncTaskExecutor-29] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.AuditLogMapper.insert, Execution time: 6ms
2025-08-18 00:26:23.806 [SimpleAsyncTaskExecutor-29] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@487665fc]
2025-08-18 00:26:23.806 [SimpleAsyncTaskExecutor-29] DEBUG c.e.middleware.service.AuditService - Logged request initiation for requestId: ESB-262ff1bf-0f79-4949-8823-89550dcaaaac
2025-08-18 00:26:24.248 [http-nio-8082-exec-3] INFO  c.e.m.controller.EsbRouterController - Received ESB request: branch=BRANCH001, endpoint=TRADE_SERVICE
2025-08-18 00:26:24.248 [http-nio-8082-exec-3] INFO  c.e.m.service.EsbRouterService - Processing request: requestId=ESB-e70904c1-7877-425b-9250-c1422cecf362, branch=BRANCH001, endpoint=TRADE_SERVICE
2025-08-18 00:26:24.248 [http-nio-8082-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:26:24.248 [http-nio-8082-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@608a07b4] was not registered for synchronization because synchronization is not active
2025-08-18 00:26:24.248 [http-nio-8082-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@629708225 wrapping ConnectionID:1 ClientConnectionId: 981e7225-9ddf-407d-ac35-0ed67347faa0] will not be managed by Spring
2025-08-18 00:26:24.248 [http-nio-8082-exec-3] DEBUG c.e.m.m.R.findByBranchAndEndpoint - ==>  Preparing: SELECT id, branch_code, endpoint, method, plugin_id, target_url, headers, parameters, transformation_rule, enabled, priority, timeout, retry_count, description, created_by, created_date, modified_by, modified_date FROM route_config WHERE branch_code = ? AND endpoint = ? AND enabled = 1 ORDER BY priority DESC
2025-08-18 00:26:24.248 [http-nio-8082-exec-3] DEBUG c.e.m.m.R.findByBranchAndEndpoint - ==> Parameters: BRANCH001(String), TRADE_SERVICE(String)
2025-08-18 00:26:24.248 [http-nio-8082-exec-3] DEBUG c.e.m.m.R.findByBranchAndEndpoint - <==      Total: 0
2025-08-18 00:26:24.248 [http-nio-8082-exec-3] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.RouteConfigMapper.findByBranchAndEndpoint, Execution time: 0ms
2025-08-18 00:26:24.248 [http-nio-8082-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@608a07b4]
2025-08-18 00:26:24.248 [http-nio-8082-exec-3] WARN  c.e.m.service.EsbRouterService - No route found for branch: BRANCH001, endpoint: TRADE_SERVICE
2025-08-18 00:26:24.248 [SimpleAsyncTaskExecutor-31] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:26:24.248 [SimpleAsyncTaskExecutor-32] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:26:24.248 [SimpleAsyncTaskExecutor-31] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c4fe158] was not registered for synchronization because synchronization is not active
2025-08-18 00:26:24.248 [SimpleAsyncTaskExecutor-32] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69caf2f7] was not registered for synchronization because synchronization is not active
2025-08-18 00:26:24.248 [SimpleAsyncTaskExecutor-31] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1921515681 wrapping ConnectionID:1 ClientConnectionId: 981e7225-9ddf-407d-ac35-0ed67347faa0] will not be managed by Spring
2025-08-18 00:26:24.248 [SimpleAsyncTaskExecutor-32] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1728909758 wrapping ConnectionID:2 ClientConnectionId: ff10fb0a-42e3-45f1-b20e-f6b53f61516d] will not be managed by Spring
2025-08-18 00:26:24.248 [SimpleAsyncTaskExecutor-32] DEBUG c.e.m.m.A.updateResponse - ==>  Preparing: UPDATE audit_log SET response_payload = ?, status = ?, status_code = ?, error_code = ?, error_message = ?, processing_time = ?, response_time = ? WHERE request_id = ?
2025-08-18 00:26:24.248 [SimpleAsyncTaskExecutor-31] DEBUG c.e.m.mapper.AuditLogMapper.insert - ==>  Preparing: INSERT INTO audit_log ( request_id, correlation_id, branch_code, endpoint, method, plugin_id, source_system, source_ip, request_payload, status, request_time, headers, parameters ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? )
2025-08-18 00:26:24.248 [SimpleAsyncTaskExecutor-32] DEBUG c.e.m.m.A.updateResponse - ==> Parameters: null, NOT_FOUND(String), 404(String), null, null, 0(Long), 2025-08-18T00:26:24.248086400(LocalDateTime), ESB-e70904c1-7877-425b-9250-c1422cecf362(String)
2025-08-18 00:26:24.248 [SimpleAsyncTaskExecutor-32] DEBUG c.e.m.m.A.updateResponse - <==    Updates: 0
2025-08-18 00:26:24.248 [SimpleAsyncTaskExecutor-31] DEBUG c.e.m.mapper.AuditLogMapper.insert - ==> Parameters: ESB-e70904c1-7877-425b-9250-c1422cecf362(String), CORR-001(String), BRANCH001(String), TRADE_SERVICE(String), POST(String), null, FRONTEND(String), 0:0:0:0:0:0:0:1(String), {"tradeId":"TRD123456","customerId":"CUST001"}(String), PROCESSING(String), 2025-08-18T00:26:24.248086400(LocalDateTime), null, null
2025-08-18 00:26:24.248 [SimpleAsyncTaskExecutor-32] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.AuditLogMapper.updateResponse, Execution time: 0ms
2025-08-18 00:26:24.248 [SimpleAsyncTaskExecutor-32] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69caf2f7]
2025-08-18 00:26:24.248 [SimpleAsyncTaskExecutor-32] DEBUG c.e.middleware.service.AuditService - Logged response completion for requestId: ESB-e70904c1-7877-425b-9250-c1422cecf362
2025-08-18 00:26:24.255 [SimpleAsyncTaskExecutor-31] DEBUG c.e.m.mapper.AuditLogMapper.insert - <==    Updates: 1
2025-08-18 00:26:24.255 [SimpleAsyncTaskExecutor-31] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.AuditLogMapper.insert, Execution time: 7ms
2025-08-18 00:26:24.255 [SimpleAsyncTaskExecutor-31] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c4fe158]
2025-08-18 00:26:24.255 [SimpleAsyncTaskExecutor-31] DEBUG c.e.middleware.service.AuditService - Logged request initiation for requestId: ESB-e70904c1-7877-425b-9250-c1422cecf362
2025-08-18 00:26:24.630 [http-nio-8082-exec-5] INFO  c.e.m.controller.EsbRouterController - Received ESB request: branch=BRANCH001, endpoint=TRADE_SERVICE
2025-08-18 00:26:24.630 [http-nio-8082-exec-5] INFO  c.e.m.service.EsbRouterService - Processing request: requestId=ESB-261723bc-30b4-47ce-9b35-1ca278099369, branch=BRANCH001, endpoint=TRADE_SERVICE
2025-08-18 00:26:24.630 [http-nio-8082-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:26:24.630 [http-nio-8082-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@314c2b3a] was not registered for synchronization because synchronization is not active
2025-08-18 00:26:24.630 [http-nio-8082-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1839838659 wrapping ConnectionID:1 ClientConnectionId: 981e7225-9ddf-407d-ac35-0ed67347faa0] will not be managed by Spring
2025-08-18 00:26:24.630 [http-nio-8082-exec-5] DEBUG c.e.m.m.R.findByBranchAndEndpoint - ==>  Preparing: SELECT id, branch_code, endpoint, method, plugin_id, target_url, headers, parameters, transformation_rule, enabled, priority, timeout, retry_count, description, created_by, created_date, modified_by, modified_date FROM route_config WHERE branch_code = ? AND endpoint = ? AND enabled = 1 ORDER BY priority DESC
2025-08-18 00:26:24.630 [http-nio-8082-exec-5] DEBUG c.e.m.m.R.findByBranchAndEndpoint - ==> Parameters: BRANCH001(String), TRADE_SERVICE(String)
2025-08-18 00:26:24.630 [http-nio-8082-exec-5] DEBUG c.e.m.m.R.findByBranchAndEndpoint - <==      Total: 0
2025-08-18 00:26:24.630 [http-nio-8082-exec-5] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.RouteConfigMapper.findByBranchAndEndpoint, Execution time: 0ms
2025-08-18 00:26:24.630 [http-nio-8082-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@314c2b3a]
2025-08-18 00:26:24.630 [http-nio-8082-exec-5] WARN  c.e.m.service.EsbRouterService - No route found for branch: BRANCH001, endpoint: TRADE_SERVICE
2025-08-18 00:26:24.630 [SimpleAsyncTaskExecutor-34] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:26:24.630 [SimpleAsyncTaskExecutor-33] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 00:26:24.630 [SimpleAsyncTaskExecutor-34] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36962d3] was not registered for synchronization because synchronization is not active
2025-08-18 00:26:24.630 [SimpleAsyncTaskExecutor-33] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d5f606a] was not registered for synchronization because synchronization is not active
2025-08-18 00:26:24.630 [SimpleAsyncTaskExecutor-33] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1402508721 wrapping ConnectionID:2 ClientConnectionId: ff10fb0a-42e3-45f1-b20e-f6b53f61516d] will not be managed by Spring
2025-08-18 00:26:24.630 [SimpleAsyncTaskExecutor-34] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@229543118 wrapping ConnectionID:1 ClientConnectionId: 981e7225-9ddf-407d-ac35-0ed67347faa0] will not be managed by Spring
2025-08-18 00:26:24.630 [SimpleAsyncTaskExecutor-33] DEBUG c.e.m.mapper.AuditLogMapper.insert - ==>  Preparing: INSERT INTO audit_log ( request_id, correlation_id, branch_code, endpoint, method, plugin_id, source_system, source_ip, request_payload, status, request_time, headers, parameters ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? )
2025-08-18 00:26:24.630 [SimpleAsyncTaskExecutor-34] DEBUG c.e.m.m.A.updateResponse - ==>  Preparing: UPDATE audit_log SET response_payload = ?, status = ?, status_code = ?, error_code = ?, error_message = ?, processing_time = ?, response_time = ? WHERE request_id = ?
2025-08-18 00:26:24.630 [SimpleAsyncTaskExecutor-34] DEBUG c.e.m.m.A.updateResponse - ==> Parameters: null, NOT_FOUND(String), 404(String), null, null, 0(Long), 2025-08-18T00:26:24.630777100(LocalDateTime), ESB-261723bc-30b4-47ce-9b35-1ca278099369(String)
2025-08-18 00:26:24.630 [SimpleAsyncTaskExecutor-33] DEBUG c.e.m.mapper.AuditLogMapper.insert - ==> Parameters: ESB-261723bc-30b4-47ce-9b35-1ca278099369(String), CORR-001(String), BRANCH001(String), TRADE_SERVICE(String), POST(String), null, FRONTEND(String), 0:0:0:0:0:0:0:1(String), {"tradeId":"TRD123456","customerId":"CUST001"}(String), PROCESSING(String), 2025-08-18T00:26:24.630777100(LocalDateTime), null, null
2025-08-18 00:26:24.636 [SimpleAsyncTaskExecutor-34] DEBUG c.e.m.m.A.updateResponse - <==    Updates: 0
2025-08-18 00:26:24.636 [SimpleAsyncTaskExecutor-34] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.AuditLogMapper.updateResponse, Execution time: 6ms
2025-08-18 00:26:24.636 [SimpleAsyncTaskExecutor-34] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36962d3]
2025-08-18 00:26:24.636 [SimpleAsyncTaskExecutor-34] DEBUG c.e.middleware.service.AuditService - Logged response completion for requestId: ESB-261723bc-30b4-47ce-9b35-1ca278099369
2025-08-18 00:26:24.636 [SimpleAsyncTaskExecutor-33] DEBUG c.e.m.mapper.AuditLogMapper.insert - <==    Updates: 1
2025-08-18 00:26:24.636 [SimpleAsyncTaskExecutor-33] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.AuditLogMapper.insert, Execution time: 6ms
2025-08-18 00:26:24.636 [SimpleAsyncTaskExecutor-33] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d5f606a]
2025-08-18 00:26:24.636 [SimpleAsyncTaskExecutor-33] DEBUG c.e.middleware.service.AuditService - Logged request initiation for requestId: ESB-261723bc-30b4-47ce-9b35-1ca278099369
2025-08-18 18:49:01.087 [main] INFO  c.e.middleware.EsbRouterApplication - Starting EsbRouterApplication using Java 17.0.12 on DESKTOP-6CLQBDH with PID 10980 (C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes started by Admin in C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main)
2025-08-18 18:49:01.090 [main] DEBUG c.e.middleware.EsbRouterApplication - Running with Spring Boot v2.7.14, Spring v5.3.29
2025-08-18 18:49:01.090 [main] INFO  c.e.middleware.EsbRouterApplication - No active profile set, falling back to 1 default profile: "dev"
2025-08-18 18:49:02.003 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\AuditLogMapper.class]
2025-08-18 18:49:02.004 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\PluginConfigMapper.class]
2025-08-18 18:49:02.004 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\RouteConfigMapper.class]
2025-08-18 18:49:02.005 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'auditLogMapper' and 'com.esb.middleware.mapper.AuditLogMapper' mapperInterface
2025-08-18 18:49:02.010 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'auditLogMapper'.
2025-08-18 18:49:02.011 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'pluginConfigMapper' and 'com.esb.middleware.mapper.PluginConfigMapper' mapperInterface
2025-08-18 18:49:02.013 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'pluginConfigMapper'.
2025-08-18 18:49:02.013 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'routeConfigMapper' and 'com.esb.middleware.mapper.RouteConfigMapper' mapperInterface
2025-08-18 18:49:02.014 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'routeConfigMapper'.
2025-08-18 18:49:02.578 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8082 (http)
2025-08-18 18:49:02.590 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-18 18:49:02.590 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
2025-08-18 18:49:02.700 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-18 18:49:02.700 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1551 ms
2025-08-18 18:49:02.884 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Starting...
2025-08-18 18:49:03.233 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Start completed.
2025-08-18 18:49:03.555 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed configuration file: 'class path resource [mybatis-config.xml]'
2025-08-18 18:49:03.626 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\mappers\AuditLogMapper.xml]'
2025-08-18 18:49:03.648 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\mappers\PluginConfigMapper.xml]'
2025-08-18 18:49:03.662 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\mappers\RouteConfigMapper.xml]'
2025-08-18 18:49:03.682 [main] INFO  c.e.m.service.ConfigurationService - Initializing route configuration cache
2025-08-18 18:49:03.683 [main] INFO  c.e.m.service.ConfigurationService - Refreshing route configuration cache
2025-08-18 18:49:03.690 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 18:49:03.697 [main] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15d114ce] was not registered for synchronization because synchronization is not active
2025-08-18 18:49:03.706 [main] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@715213542 wrapping ConnectionID:1 ClientConnectionId: 4dd12d8f-0c8d-4b3d-9860-ce0c125410c9] will not be managed by Spring
2025-08-18 18:49:03.712 [main] DEBUG c.e.m.m.R.findAllEnabled - ==>  Preparing: SELECT id, branch_code, endpoint, method, plugin_id, target_url, headers, parameters, transformation_rule, enabled, priority, timeout, retry_count, description, created_by, created_date, modified_by, modified_date FROM route_config WHERE enabled = 1 ORDER BY branch_code, priority DESC, endpoint
2025-08-18 18:49:03.740 [main] DEBUG c.e.m.m.R.findAllEnabled - ==> Parameters: 
2025-08-18 18:49:03.775 [main] DEBUG c.e.m.m.R.findAllEnabled - <==      Total: 6
2025-08-18 18:49:03.784 [main] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.RouteConfigMapper.findAllEnabled, Execution time: 86ms
2025-08-18 18:49:03.784 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15d114ce]
2025-08-18 18:49:03.787 [main] INFO  c.e.m.service.ConfigurationService - Route configuration cache refreshed with 6 routes
2025-08-18 18:49:03.787 [main] INFO  c.e.m.service.ConfigurationService - Route configuration cache initialized with 6 routes
2025-08-18 18:49:03.798 [main] INFO  c.e.m.service.PluginManagerService - Initializing plugin manager and loading plugins from database
2025-08-18 18:49:03.798 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 18:49:03.799 [main] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27ec8754] was not registered for synchronization because synchronization is not active
2025-08-18 18:49:03.799 [main] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1002380301 wrapping ConnectionID:1 ClientConnectionId: 4dd12d8f-0c8d-4b3d-9860-ce0c125410c9] will not be managed by Spring
2025-08-18 18:49:03.799 [main] DEBUG c.e.m.m.P.findAllEnabled - ==>  Preparing: SELECT id, plugin_id, plugin_name, version, jar_file_name, main_class, description, author, vendor, supported_endpoints, configuration, enabled, priority, status, loaded_time, created_by, created_date, modified_by, modified_date FROM plugin_config WHERE enabled = 1 ORDER BY priority DESC, plugin_name
2025-08-18 18:49:03.800 [main] DEBUG c.e.m.m.P.findAllEnabled - ==> Parameters: 
2025-08-18 18:49:03.804 [main] DEBUG c.e.m.m.P.findAllEnabled - <==      Total: 0
2025-08-18 18:49:03.804 [main] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.PluginConfigMapper.findAllEnabled, Execution time: 5ms
2025-08-18 18:49:03.804 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27ec8754]
2025-08-18 18:49:03.804 [main] INFO  c.e.m.service.PluginManagerService - Found 0 enabled plugins in database
2025-08-18 18:49:03.804 [main] INFO  c.e.m.service.PluginManagerService - Plugin initialization completed. Loaded 0 plugins
2025-08-18 18:49:04.274 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoint(s) beneath base path '/actuator'
2025-08-18 18:49:04.318 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8082 (http) with context path ''
2025-08-18 18:49:04.333 [scheduling-1] DEBUG c.e.m.service.PluginManagerService - Checking for plugin updates
2025-08-18 18:49:04.336 [main] INFO  c.e.middleware.EsbRouterApplication - Started EsbRouterApplication in 3.74 seconds (JVM running for 4.243)
2025-08-18 18:54:04.343 [scheduling-1] DEBUG c.e.m.service.PluginManagerService - Checking for plugin updates
2025-08-18 18:57:43.368 [main] INFO  c.e.middleware.EsbRouterApplication - Starting EsbRouterApplication using Java 17.0.12 on DESKTOP-6CLQBDH with PID 1112 (C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes started by Admin in C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main)
2025-08-18 18:57:43.372 [main] DEBUG c.e.middleware.EsbRouterApplication - Running with Spring Boot v2.7.14, Spring v5.3.29
2025-08-18 18:57:43.373 [main] INFO  c.e.middleware.EsbRouterApplication - No active profile set, falling back to 1 default profile: "dev"
2025-08-18 18:57:44.188 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\AuditLogMapper.class]
2025-08-18 18:57:44.188 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\PluginConfigMapper.class]
2025-08-18 18:57:44.188 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\RouteConfigMapper.class]
2025-08-18 18:57:44.189 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'auditLogMapper' and 'com.esb.middleware.mapper.AuditLogMapper' mapperInterface
2025-08-18 18:57:44.192 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'auditLogMapper'.
2025-08-18 18:57:44.193 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'pluginConfigMapper' and 'com.esb.middleware.mapper.PluginConfigMapper' mapperInterface
2025-08-18 18:57:44.193 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'pluginConfigMapper'.
2025-08-18 18:57:44.193 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'routeConfigMapper' and 'com.esb.middleware.mapper.RouteConfigMapper' mapperInterface
2025-08-18 18:57:44.194 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'routeConfigMapper'.
2025-08-18 18:57:44.654 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8082 (http)
2025-08-18 18:57:44.668 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-18 18:57:44.668 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
2025-08-18 18:57:44.754 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-18 18:57:44.756 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1339 ms
2025-08-18 18:57:44.898 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Starting...
2025-08-18 18:57:45.153 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Start completed.
2025-08-18 18:57:45.406 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed configuration file: 'class path resource [mybatis-config.xml]'
2025-08-18 18:57:45.467 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\mappers\AuditLogMapper.xml]'
2025-08-18 18:57:45.489 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\mappers\PluginConfigMapper.xml]'
2025-08-18 18:57:45.502 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\mappers\RouteConfigMapper.xml]'
2025-08-18 18:57:45.520 [main] INFO  c.e.m.service.ConfigurationService - Initializing route configuration cache
2025-08-18 18:57:45.521 [main] INFO  c.e.m.service.ConfigurationService - Refreshing route configuration cache
2025-08-18 18:57:45.527 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 18:57:45.535 [main] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6af65f29] was not registered for synchronization because synchronization is not active
2025-08-18 18:57:45.545 [main] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1295338046 wrapping ConnectionID:1 ClientConnectionId: 50977e59-7202-4806-9903-b2e874d58306] will not be managed by Spring
2025-08-18 18:57:45.550 [main] DEBUG c.e.m.m.R.findAllEnabled - ==>  Preparing: SELECT id, branch_code, endpoint, method, plugin_id, target_url, headers, parameters, transformation_rule, enabled, priority, timeout, retry_count, description, created_by, created_date, modified_by, modified_date FROM route_config WHERE enabled = 1 ORDER BY branch_code, priority DESC, endpoint
2025-08-18 18:57:45.577 [main] DEBUG c.e.m.m.R.findAllEnabled - ==> Parameters: 
2025-08-18 18:57:45.609 [main] DEBUG c.e.m.m.R.findAllEnabled - <==      Total: 6
2025-08-18 18:57:45.617 [main] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.RouteConfigMapper.findAllEnabled, Execution time: 81ms
2025-08-18 18:57:45.618 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6af65f29]
2025-08-18 18:57:45.620 [main] INFO  c.e.m.service.ConfigurationService - Route configuration cache refreshed with 6 routes
2025-08-18 18:57:45.620 [main] INFO  c.e.m.service.ConfigurationService - Route configuration cache initialized with 6 routes
2025-08-18 18:57:45.630 [main] INFO  c.e.m.service.PluginManagerService - Initializing plugin manager and loading plugins from database
2025-08-18 18:57:45.631 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 18:57:45.631 [main] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@310d57b1] was not registered for synchronization because synchronization is not active
2025-08-18 18:57:45.631 [main] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@339734447 wrapping ConnectionID:1 ClientConnectionId: 50977e59-7202-4806-9903-b2e874d58306] will not be managed by Spring
2025-08-18 18:57:45.631 [main] DEBUG c.e.m.m.P.findAllEnabled - ==>  Preparing: SELECT id, plugin_id, plugin_name, version, jar_file_name, main_class, description, author, vendor, supported_endpoints, configuration, enabled, priority, status, loaded_time, created_by, created_date, modified_by, modified_date FROM plugin_config WHERE enabled = 1 ORDER BY priority DESC, plugin_name
2025-08-18 18:57:45.631 [main] DEBUG c.e.m.m.P.findAllEnabled - ==> Parameters: 
2025-08-18 18:57:45.634 [main] DEBUG c.e.m.m.P.findAllEnabled - <==      Total: 1
2025-08-18 18:57:45.634 [main] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.PluginConfigMapper.findAllEnabled, Execution time: 3ms
2025-08-18 18:57:45.634 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@310d57b1]
2025-08-18 18:57:45.634 [main] INFO  c.e.m.service.PluginManagerService - Found 1 enabled plugins in database
2025-08-18 18:57:45.635 [main] INFO  c.e.m.service.PluginManagerService - Loading plugin: trade-plugin from config
2025-08-18 18:57:45.639 [main] ERROR c.e.m.service.PluginManagerService - Failed to load plugin: trade-plugin
com.esb.plugin.PluginException: JAR file not found: C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\.\plugins\esb-trade-plugin-1.0.0.jar
	at com.esb.middleware.service.PluginManagerService.loadPluginFromConfig(PluginManagerService.java:90)
	at com.esb.middleware.service.PluginManagerService.initializePlugins(PluginManagerService.java:63)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:333)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:157)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:642)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:642)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:921)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)
	at com.esb.middleware.EsbRouterApplication.main(EsbRouterApplication.java:24)
2025-08-18 18:57:45.641 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 18:57:45.641 [main] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44dfdd58] was not registered for synchronization because synchronization is not active
2025-08-18 18:57:45.641 [main] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1490297742 wrapping ConnectionID:1 ClientConnectionId: 50977e59-7202-4806-9903-b2e874d58306] will not be managed by Spring
2025-08-18 18:57:45.642 [main] DEBUG c.e.m.m.P.updateStatus - ==>  Preparing: UPDATE plugin_config SET enabled = ?, status = ?, modified_date = GETDATE() WHERE plugin_id = ?
2025-08-18 18:57:45.647 [main] DEBUG c.e.m.m.P.updateStatus - ==> Parameters: false(Boolean), ERROR(String), trade-plugin(String)
2025-08-18 18:57:45.655 [main] DEBUG c.e.m.m.P.updateStatus - <==    Updates: 1
2025-08-18 18:57:45.655 [main] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.PluginConfigMapper.updateStatus, Execution time: 14ms
2025-08-18 18:57:45.656 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44dfdd58]
2025-08-18 18:57:45.656 [main] INFO  c.e.m.service.PluginManagerService - Plugin initialization completed. Loaded 0 plugins
2025-08-18 18:57:46.106 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoint(s) beneath base path '/actuator'
2025-08-18 18:57:46.143 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8082 (http) with context path ''
2025-08-18 18:57:46.154 [scheduling-1] DEBUG c.e.m.service.PluginManagerService - Checking for plugin updates
2025-08-18 18:57:46.158 [main] INFO  c.e.middleware.EsbRouterApplication - Started EsbRouterApplication in 3.226 seconds (JVM running for 3.566)
2025-08-18 19:02:46.161 [scheduling-1] DEBUG c.e.m.service.PluginManagerService - Checking for plugin updates
2025-08-18 19:07:46.169 [scheduling-1] DEBUG c.e.m.service.PluginManagerService - Checking for plugin updates
2025-08-18 19:12:46.171 [scheduling-1] DEBUG c.e.m.service.PluginManagerService - Checking for plugin updates
2025-08-18 19:22:42.977 [ESB-HikariCP housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - ESB-HikariCP - Thread starvation or clock leap detected (housekeeper delta=9m27s574ms607s600ns).
2025-08-18 19:30:16.039 [main] INFO  c.e.middleware.EsbRouterApplication - Starting EsbRouterApplication using Java 17.0.12 on DESKTOP-6CLQBDH with PID 7612 (C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes started by Admin in C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main)
2025-08-18 19:30:16.045 [main] DEBUG c.e.middleware.EsbRouterApplication - Running with Spring Boot v2.7.14, Spring v5.3.29
2025-08-18 19:30:16.045 [main] INFO  c.e.middleware.EsbRouterApplication - No active profile set, falling back to 1 default profile: "dev"
2025-08-18 19:30:16.877 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\AuditLogMapper.class]
2025-08-18 19:30:16.878 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\PluginConfigMapper.class]
2025-08-18 19:30:16.878 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\RouteConfigMapper.class]
2025-08-18 19:30:16.879 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'auditLogMapper' and 'com.esb.middleware.mapper.AuditLogMapper' mapperInterface
2025-08-18 19:30:16.883 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'auditLogMapper'.
2025-08-18 19:30:16.883 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'pluginConfigMapper' and 'com.esb.middleware.mapper.PluginConfigMapper' mapperInterface
2025-08-18 19:30:16.884 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'pluginConfigMapper'.
2025-08-18 19:30:16.884 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'routeConfigMapper' and 'com.esb.middleware.mapper.RouteConfigMapper' mapperInterface
2025-08-18 19:30:16.885 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'routeConfigMapper'.
2025-08-18 19:30:17.347 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8082 (http)
2025-08-18 19:30:17.350 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-18 19:30:17.350 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
2025-08-18 19:30:17.460 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-18 19:30:17.460 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1356 ms
2025-08-18 19:30:17.600 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Starting...
2025-08-18 19:30:17.854 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Start completed.
2025-08-18 19:30:18.105 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed configuration file: 'class path resource [mybatis-config.xml]'
2025-08-18 19:30:18.157 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\mappers\AuditLogMapper.xml]'
2025-08-18 19:30:18.189 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\mappers\PluginConfigMapper.xml]'
2025-08-18 19:30:18.202 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\mappers\RouteConfigMapper.xml]'
2025-08-18 19:30:18.220 [main] INFO  c.e.m.service.ConfigurationService - Initializing route configuration cache
2025-08-18 19:30:18.222 [main] INFO  c.e.m.service.ConfigurationService - Refreshing route configuration cache
2025-08-18 19:30:18.228 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 19:30:18.237 [main] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b0dbfb] was not registered for synchronization because synchronization is not active
2025-08-18 19:30:18.246 [main] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1770453310 wrapping ConnectionID:1 ClientConnectionId: c3229c92-dd4a-46b9-a245-f8fb8c903c4d] will not be managed by Spring
2025-08-18 19:30:18.251 [main] DEBUG c.e.m.m.R.findAllEnabled - ==>  Preparing: SELECT id, branch_code, endpoint, method, plugin_id, target_url, headers, parameters, transformation_rule, enabled, priority, timeout, retry_count, description, created_by, created_date, modified_by, modified_date FROM route_config WHERE enabled = 1 ORDER BY branch_code, priority DESC, endpoint
2025-08-18 19:30:18.274 [main] DEBUG c.e.m.m.R.findAllEnabled - ==> Parameters: 
2025-08-18 19:30:18.310 [main] DEBUG c.e.m.m.R.findAllEnabled - <==      Total: 6
2025-08-18 19:30:18.318 [main] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.RouteConfigMapper.findAllEnabled, Execution time: 81ms
2025-08-18 19:30:18.318 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b0dbfb]
2025-08-18 19:30:18.321 [main] INFO  c.e.m.service.ConfigurationService - Route configuration cache refreshed with 6 routes
2025-08-18 19:30:18.321 [main] INFO  c.e.m.service.ConfigurationService - Route configuration cache initialized with 6 routes
2025-08-18 19:30:18.332 [main] INFO  c.e.m.service.PluginManagerService - Initializing plugin manager and loading plugins from database
2025-08-18 19:30:18.333 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 19:30:18.333 [main] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66e341e9] was not registered for synchronization because synchronization is not active
2025-08-18 19:30:18.333 [main] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1531506932 wrapping ConnectionID:1 ClientConnectionId: c3229c92-dd4a-46b9-a245-f8fb8c903c4d] will not be managed by Spring
2025-08-18 19:30:18.333 [main] DEBUG c.e.m.m.P.findAllEnabled - ==>  Preparing: SELECT id, plugin_id, plugin_name, version, jar_file_name, main_class, description, author, vendor, supported_endpoints, configuration, enabled, priority, status, loaded_time, created_by, created_date, modified_by, modified_date FROM plugin_config WHERE enabled = 1 ORDER BY priority DESC, plugin_name
2025-08-18 19:30:18.334 [main] DEBUG c.e.m.m.P.findAllEnabled - ==> Parameters: 
2025-08-18 19:30:18.337 [main] DEBUG c.e.m.m.P.findAllEnabled - <==      Total: 0
2025-08-18 19:30:18.338 [main] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.PluginConfigMapper.findAllEnabled, Execution time: 5ms
2025-08-18 19:30:18.338 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66e341e9]
2025-08-18 19:30:18.338 [main] INFO  c.e.m.service.PluginManagerService - Found 0 enabled plugins in database
2025-08-18 19:30:18.338 [main] INFO  c.e.m.service.PluginManagerService - Plugin initialization completed. Loaded 0 plugins
2025-08-18 19:30:18.793 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoint(s) beneath base path '/actuator'
2025-08-18 19:30:18.828 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8082 (http) with context path ''
2025-08-18 19:30:18.845 [scheduling-1] DEBUG c.e.m.service.PluginManagerService - Checking for plugin updates
2025-08-18 19:30:18.846 [main] INFO  c.e.middleware.EsbRouterApplication - Started EsbRouterApplication in 3.249 seconds (JVM running for 3.596)
2025-08-18 19:33:16.206 [main] INFO  c.e.middleware.EsbRouterApplication - Starting EsbRouterApplication using Java 17.0.12 on DESKTOP-6CLQBDH with PID 14604 (C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes started by Admin in C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main)
2025-08-18 19:33:16.211 [main] DEBUG c.e.middleware.EsbRouterApplication - Running with Spring Boot v2.7.14, Spring v5.3.29
2025-08-18 19:33:16.212 [main] INFO  c.e.middleware.EsbRouterApplication - No active profile set, falling back to 1 default profile: "dev"
2025-08-18 19:33:17.068 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\AuditLogMapper.class]
2025-08-18 19:33:17.068 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\PluginConfigMapper.class]
2025-08-18 19:33:17.068 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\RouteConfigMapper.class]
2025-08-18 19:33:17.069 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'auditLogMapper' and 'com.esb.middleware.mapper.AuditLogMapper' mapperInterface
2025-08-18 19:33:17.072 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'auditLogMapper'.
2025-08-18 19:33:17.072 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'pluginConfigMapper' and 'com.esb.middleware.mapper.PluginConfigMapper' mapperInterface
2025-08-18 19:33:17.074 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'pluginConfigMapper'.
2025-08-18 19:33:17.075 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'routeConfigMapper' and 'com.esb.middleware.mapper.RouteConfigMapper' mapperInterface
2025-08-18 19:33:17.076 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'routeConfigMapper'.
2025-08-18 19:33:17.544 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8082 (http)
2025-08-18 19:33:17.552 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-18 19:33:17.559 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
2025-08-18 19:33:17.653 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-18 19:33:17.654 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1383 ms
2025-08-18 19:33:17.802 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Starting...
2025-08-18 19:33:18.059 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Start completed.
2025-08-18 19:33:18.314 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed configuration file: 'class path resource [mybatis-config.xml]'
2025-08-18 19:33:18.381 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\mappers\AuditLogMapper.xml]'
2025-08-18 19:33:18.394 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\mappers\PluginConfigMapper.xml]'
2025-08-18 19:33:18.414 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\mappers\RouteConfigMapper.xml]'
2025-08-18 19:33:18.433 [main] INFO  c.e.m.service.ConfigurationService - Initializing route configuration cache
2025-08-18 19:33:18.438 [main] INFO  c.e.m.service.ConfigurationService - Refreshing route configuration cache
2025-08-18 19:33:18.443 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 19:33:18.452 [main] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6af65f29] was not registered for synchronization because synchronization is not active
2025-08-18 19:33:18.461 [main] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1295338046 wrapping ConnectionID:1 ClientConnectionId: cc766fa8-8848-42b1-aec7-6cd37f1753a0] will not be managed by Spring
2025-08-18 19:33:18.468 [main] DEBUG c.e.m.m.R.findAllEnabled - ==>  Preparing: SELECT id, branch_code, endpoint, method, plugin_id, target_url, headers, parameters, transformation_rule, enabled, priority, timeout, retry_count, description, created_by, created_date, modified_by, modified_date FROM route_config WHERE enabled = 1 ORDER BY branch_code, priority DESC, endpoint
2025-08-18 19:33:18.497 [main] DEBUG c.e.m.m.R.findAllEnabled - ==> Parameters: 
2025-08-18 19:33:18.532 [main] DEBUG c.e.m.m.R.findAllEnabled - <==      Total: 6
2025-08-18 19:33:18.540 [main] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.RouteConfigMapper.findAllEnabled, Execution time: 88ms
2025-08-18 19:33:18.542 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6af65f29]
2025-08-18 19:33:18.544 [main] INFO  c.e.m.service.ConfigurationService - Route configuration cache refreshed with 6 routes
2025-08-18 19:33:18.544 [main] INFO  c.e.m.service.ConfigurationService - Route configuration cache initialized with 6 routes
2025-08-18 19:33:18.551 [main] INFO  c.e.m.service.PluginManagerService - Initializing plugin manager and loading plugins from database
2025-08-18 19:33:18.551 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 19:33:18.557 [main] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@310d57b1] was not registered for synchronization because synchronization is not active
2025-08-18 19:33:18.557 [main] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@339734447 wrapping ConnectionID:1 ClientConnectionId: cc766fa8-8848-42b1-aec7-6cd37f1753a0] will not be managed by Spring
2025-08-18 19:33:18.557 [main] DEBUG c.e.m.m.P.findAllEnabled - ==>  Preparing: SELECT id, plugin_id, plugin_name, version, jar_file_name, main_class, description, author, vendor, supported_endpoints, configuration, enabled, priority, status, loaded_time, created_by, created_date, modified_by, modified_date FROM plugin_config WHERE enabled = 1 ORDER BY priority DESC, plugin_name
2025-08-18 19:33:18.557 [main] DEBUG c.e.m.m.P.findAllEnabled - ==> Parameters: 
2025-08-18 19:33:18.561 [main] DEBUG c.e.m.m.P.findAllEnabled - <==      Total: 1
2025-08-18 19:33:18.561 [main] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.PluginConfigMapper.findAllEnabled, Execution time: 4ms
2025-08-18 19:33:18.561 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@310d57b1]
2025-08-18 19:33:18.562 [main] INFO  c.e.m.service.PluginManagerService - Found 1 enabled plugins in database
2025-08-18 19:33:18.562 [main] INFO  c.e.m.service.PluginManagerService - Loading plugin: trade-plugin from config
2025-08-18 19:33:18.566 [main] ERROR c.e.m.service.PluginManagerService - Failed to load plugin: trade-plugin
com.esb.plugin.PluginException: JAR file not found: C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\.\plugins\esb-trade-plugin-1.0.0.jar
	at com.esb.middleware.service.PluginManagerService.loadPluginFromConfig(PluginManagerService.java:90)
	at com.esb.middleware.service.PluginManagerService.initializePlugins(PluginManagerService.java:63)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:333)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:157)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:642)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:642)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:921)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)
	at com.esb.middleware.EsbRouterApplication.main(EsbRouterApplication.java:24)
2025-08-18 19:33:18.568 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 19:33:18.568 [main] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44dfdd58] was not registered for synchronization because synchronization is not active
2025-08-18 19:33:18.568 [main] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1490297742 wrapping ConnectionID:1 ClientConnectionId: cc766fa8-8848-42b1-aec7-6cd37f1753a0] will not be managed by Spring
2025-08-18 19:33:18.568 [main] DEBUG c.e.m.m.P.updateStatus - ==>  Preparing: UPDATE plugin_config SET enabled = ?, status = ?, modified_date = GETDATE() WHERE plugin_id = ?
2025-08-18 19:33:18.573 [main] DEBUG c.e.m.m.P.updateStatus - ==> Parameters: false(Boolean), ERROR(String), trade-plugin(String)
2025-08-18 19:33:18.581 [main] DEBUG c.e.m.m.P.updateStatus - <==    Updates: 1
2025-08-18 19:33:18.581 [main] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.PluginConfigMapper.updateStatus, Execution time: 13ms
2025-08-18 19:33:18.581 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44dfdd58]
2025-08-18 19:33:18.581 [main] INFO  c.e.m.service.PluginManagerService - Plugin initialization completed. Loaded 0 plugins
2025-08-18 19:33:19.041 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoint(s) beneath base path '/actuator'
2025-08-18 19:33:19.059 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8082 is already in use
2025-08-18 19:33:19.067 [main] INFO  c.e.m.service.PluginManagerService - Shutting down plugin manager
2025-08-18 19:33:19.067 [main] INFO  c.esb.middleware.plugin.PluginLoader - Shutting down plugin loader and unloading all plugins
2025-08-18 19:33:19.067 [main] INFO  c.esb.middleware.plugin.PluginLoader - Plugin loader shutdown completed
2025-08-18 19:33:19.068 [main] INFO  c.e.middleware.plugin.PluginRegistry - Clearing plugin registry
2025-08-18 19:33:19.068 [main] INFO  c.e.m.service.PluginManagerService - Plugin manager shutdown completed
2025-08-18 19:33:19.069 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Shutdown initiated...
2025-08-18 19:33:19.073 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Shutdown completed.
2025-08-18 19:33:19.077 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-18 19:33:19.090 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-18 19:33:19.103 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8082 was already in use.

Action:

Identify and stop the process that's listening on port 8082 or configure this application to listen on another port.

2025-08-18 19:35:18.859 [scheduling-1] DEBUG c.e.m.service.PluginManagerService - Checking for plugin updates
2025-08-18 19:42:43.166 [main] INFO  c.e.middleware.EsbRouterApplication - Starting EsbRouterApplication using Java 17.0.12 on DESKTOP-6CLQBDH with PID 4272 (C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes started by Admin in C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main)
2025-08-18 19:42:43.169 [main] DEBUG c.e.middleware.EsbRouterApplication - Running with Spring Boot v2.7.14, Spring v5.3.29
2025-08-18 19:42:43.169 [main] INFO  c.e.middleware.EsbRouterApplication - No active profile set, falling back to 1 default profile: "dev"
2025-08-18 19:42:43.970 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\AuditLogMapper.class]
2025-08-18 19:42:43.971 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\PluginConfigMapper.class]
2025-08-18 19:42:43.971 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\RouteConfigMapper.class]
2025-08-18 19:42:43.972 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'auditLogMapper' and 'com.esb.middleware.mapper.AuditLogMapper' mapperInterface
2025-08-18 19:42:43.975 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'auditLogMapper'.
2025-08-18 19:42:43.976 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'pluginConfigMapper' and 'com.esb.middleware.mapper.PluginConfigMapper' mapperInterface
2025-08-18 19:42:43.976 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'pluginConfigMapper'.
2025-08-18 19:42:43.977 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'routeConfigMapper' and 'com.esb.middleware.mapper.RouteConfigMapper' mapperInterface
2025-08-18 19:42:43.977 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'routeConfigMapper'.
2025-08-18 19:42:44.442 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8082 (http)
2025-08-18 19:42:44.445 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-18 19:42:44.445 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
2025-08-18 19:42:44.543 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-18 19:42:44.551 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1327 ms
2025-08-18 19:42:44.685 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Starting...
2025-08-18 19:42:44.955 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Start completed.
2025-08-18 19:42:45.211 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed configuration file: 'class path resource [mybatis-config.xml]'
2025-08-18 19:42:45.276 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\mappers\AuditLogMapper.xml]'
2025-08-18 19:42:45.295 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\mappers\PluginConfigMapper.xml]'
2025-08-18 19:42:45.311 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\mappers\RouteConfigMapper.xml]'
2025-08-18 19:42:45.331 [main] INFO  c.e.m.service.ConfigurationService - Initializing route configuration cache
2025-08-18 19:42:45.331 [main] INFO  c.e.m.service.ConfigurationService - Refreshing route configuration cache
2025-08-18 19:42:45.338 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 19:42:45.347 [main] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@118041c7] was not registered for synchronization because synchronization is not active
2025-08-18 19:42:45.357 [main] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2090142523 wrapping ConnectionID:1 ClientConnectionId: be1099b8-fad4-43e4-931b-070566c84f4a] will not be managed by Spring
2025-08-18 19:42:45.363 [main] DEBUG c.e.m.m.R.findAllEnabled - ==>  Preparing: SELECT id, branch_code, endpoint, method, plugin_id, target_url, headers, parameters, transformation_rule, enabled, priority, timeout, retry_count, description, created_by, created_date, modified_by, modified_date FROM route_config WHERE enabled = 1 ORDER BY branch_code, priority DESC, endpoint
2025-08-18 19:42:45.391 [main] DEBUG c.e.m.m.R.findAllEnabled - ==> Parameters: 
2025-08-18 19:42:45.430 [main] DEBUG c.e.m.m.R.findAllEnabled - <==      Total: 6
2025-08-18 19:42:45.440 [main] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.RouteConfigMapper.findAllEnabled, Execution time: 93ms
2025-08-18 19:42:45.441 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@118041c7]
2025-08-18 19:42:45.442 [main] INFO  c.e.m.service.ConfigurationService - Route configuration cache refreshed with 6 routes
2025-08-18 19:42:45.442 [main] INFO  c.e.m.service.ConfigurationService - Route configuration cache initialized with 6 routes
2025-08-18 19:42:45.447 [main] INFO  c.e.m.service.PluginManagerService - Initializing plugin manager and loading plugins from database
2025-08-18 19:42:45.447 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 19:42:45.457 [main] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@93bf0e0] was not registered for synchronization because synchronization is not active
2025-08-18 19:42:45.457 [main] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1233246555 wrapping ConnectionID:1 ClientConnectionId: be1099b8-fad4-43e4-931b-070566c84f4a] will not be managed by Spring
2025-08-18 19:42:45.457 [main] DEBUG c.e.m.m.P.findAllEnabled - ==>  Preparing: SELECT id, plugin_id, plugin_name, version, jar_file_name, main_class, description, author, vendor, supported_endpoints, configuration, enabled, priority, status, loaded_time, created_by, created_date, modified_by, modified_date FROM plugin_config WHERE enabled = 1 ORDER BY priority DESC, plugin_name
2025-08-18 19:42:45.457 [main] DEBUG c.e.m.m.P.findAllEnabled - ==> Parameters: 
2025-08-18 19:42:45.461 [main] DEBUG c.e.m.m.P.findAllEnabled - <==      Total: 0
2025-08-18 19:42:45.462 [main] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.PluginConfigMapper.findAllEnabled, Execution time: 5ms
2025-08-18 19:42:45.462 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@93bf0e0]
2025-08-18 19:42:45.462 [main] INFO  c.e.m.service.PluginManagerService - Found 0 enabled plugins in database
2025-08-18 19:42:45.462 [main] INFO  c.e.m.service.PluginManagerService - Plugin initialization completed. Loaded 0 plugins
2025-08-18 19:42:45.933 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoint(s) beneath base path '/actuator'
2025-08-18 19:42:45.966 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8082 (http) with context path ''
2025-08-18 19:42:45.983 [scheduling-1] DEBUG c.e.m.service.PluginManagerService - Checking for plugin updates
2025-08-18 19:42:45.985 [main] INFO  c.e.middleware.EsbRouterApplication - Started EsbRouterApplication in 3.261 seconds (JVM running for 3.611)
2025-08-18 19:43:04.854 [main] INFO  c.e.middleware.EsbRouterApplication - Starting EsbRouterApplication using Java 17.0.12 on DESKTOP-6CLQBDH with PID 1468 (C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes started by Admin in C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main)
2025-08-18 19:43:04.857 [main] DEBUG c.e.middleware.EsbRouterApplication - Running with Spring Boot v2.7.14, Spring v5.3.29
2025-08-18 19:43:04.857 [main] INFO  c.e.middleware.EsbRouterApplication - No active profile set, falling back to 1 default profile: "dev"
2025-08-18 19:43:05.688 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\AuditLogMapper.class]
2025-08-18 19:43:05.689 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\PluginConfigMapper.class]
2025-08-18 19:43:05.689 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\RouteConfigMapper.class]
2025-08-18 19:43:05.690 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'auditLogMapper' and 'com.esb.middleware.mapper.AuditLogMapper' mapperInterface
2025-08-18 19:43:05.693 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'auditLogMapper'.
2025-08-18 19:43:05.693 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'pluginConfigMapper' and 'com.esb.middleware.mapper.PluginConfigMapper' mapperInterface
2025-08-18 19:43:05.694 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'pluginConfigMapper'.
2025-08-18 19:43:05.694 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'routeConfigMapper' and 'com.esb.middleware.mapper.RouteConfigMapper' mapperInterface
2025-08-18 19:43:05.695 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'routeConfigMapper'.
2025-08-18 19:43:06.173 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8082 (http)
2025-08-18 19:43:06.183 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-18 19:43:06.183 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
2025-08-18 19:43:06.285 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-18 19:43:06.285 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1371 ms
2025-08-18 19:43:06.434 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Starting...
2025-08-18 19:43:06.686 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Start completed.
2025-08-18 19:43:06.938 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed configuration file: 'class path resource [mybatis-config.xml]'
2025-08-18 19:43:07.001 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\mappers\AuditLogMapper.xml]'
2025-08-18 19:43:07.015 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\mappers\PluginConfigMapper.xml]'
2025-08-18 19:43:07.035 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\mappers\RouteConfigMapper.xml]'
2025-08-18 19:43:07.054 [main] INFO  c.e.m.service.ConfigurationService - Initializing route configuration cache
2025-08-18 19:43:07.054 [main] INFO  c.e.m.service.ConfigurationService - Refreshing route configuration cache
2025-08-18 19:43:07.061 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 19:43:07.069 [main] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b0dbfb] was not registered for synchronization because synchronization is not active
2025-08-18 19:43:07.078 [main] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1770453310 wrapping ConnectionID:1 ClientConnectionId: 11175b9d-4b4a-41ad-9e05-2d6fca22373e] will not be managed by Spring
2025-08-18 19:43:07.084 [main] DEBUG c.e.m.m.R.findAllEnabled - ==>  Preparing: SELECT id, branch_code, endpoint, method, plugin_id, target_url, headers, parameters, transformation_rule, enabled, priority, timeout, retry_count, description, created_by, created_date, modified_by, modified_date FROM route_config WHERE enabled = 1 ORDER BY branch_code, priority DESC, endpoint
2025-08-18 19:43:07.114 [main] DEBUG c.e.m.m.R.findAllEnabled - ==> Parameters: 
2025-08-18 19:43:07.146 [main] DEBUG c.e.m.m.R.findAllEnabled - <==      Total: 6
2025-08-18 19:43:07.155 [main] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.RouteConfigMapper.findAllEnabled, Execution time: 84ms
2025-08-18 19:43:07.155 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b0dbfb]
2025-08-18 19:43:07.157 [main] INFO  c.e.m.service.ConfigurationService - Route configuration cache refreshed with 6 routes
2025-08-18 19:43:07.157 [main] INFO  c.e.m.service.ConfigurationService - Route configuration cache initialized with 6 routes
2025-08-18 19:43:07.168 [main] INFO  c.e.m.service.PluginManagerService - Initializing plugin manager and loading plugins from database
2025-08-18 19:43:07.168 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 19:43:07.168 [main] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66e341e9] was not registered for synchronization because synchronization is not active
2025-08-18 19:43:07.170 [main] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1531506932 wrapping ConnectionID:1 ClientConnectionId: 11175b9d-4b4a-41ad-9e05-2d6fca22373e] will not be managed by Spring
2025-08-18 19:43:07.170 [main] DEBUG c.e.m.m.P.findAllEnabled - ==>  Preparing: SELECT id, plugin_id, plugin_name, version, jar_file_name, main_class, description, author, vendor, supported_endpoints, configuration, enabled, priority, status, loaded_time, created_by, created_date, modified_by, modified_date FROM plugin_config WHERE enabled = 1 ORDER BY priority DESC, plugin_name
2025-08-18 19:43:07.170 [main] DEBUG c.e.m.m.P.findAllEnabled - ==> Parameters: 
2025-08-18 19:43:07.173 [main] DEBUG c.e.m.m.P.findAllEnabled - <==      Total: 1
2025-08-18 19:43:07.173 [main] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.PluginConfigMapper.findAllEnabled, Execution time: 5ms
2025-08-18 19:43:07.174 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66e341e9]
2025-08-18 19:43:07.174 [main] INFO  c.e.m.service.PluginManagerService - Found 1 enabled plugins in database
2025-08-18 19:43:07.174 [main] INFO  c.e.m.service.PluginManagerService - Loading plugin: trade-plugin from config
2025-08-18 19:43:07.178 [main] ERROR c.e.m.service.PluginManagerService - Failed to load plugin: trade-plugin
com.esb.plugin.PluginException: JAR file not found: C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\plugins\esb-trade-plugin-1.0.0.jar
	at com.esb.middleware.service.PluginManagerService.loadPluginFromConfig(PluginManagerService.java:90)
	at com.esb.middleware.service.PluginManagerService.initializePlugins(PluginManagerService.java:63)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:333)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:157)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:642)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:642)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:921)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)
	at com.esb.middleware.EsbRouterApplication.main(EsbRouterApplication.java:24)
2025-08-18 19:43:07.179 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 19:43:07.179 [main] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@756808cc] was not registered for synchronization because synchronization is not active
2025-08-18 19:43:07.180 [main] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1392027380 wrapping ConnectionID:1 ClientConnectionId: 11175b9d-4b4a-41ad-9e05-2d6fca22373e] will not be managed by Spring
2025-08-18 19:43:07.180 [main] DEBUG c.e.m.m.P.updateStatus - ==>  Preparing: UPDATE plugin_config SET enabled = ?, status = ?, modified_date = GETDATE() WHERE plugin_id = ?
2025-08-18 19:43:07.185 [main] DEBUG c.e.m.m.P.updateStatus - ==> Parameters: false(Boolean), ERROR(String), trade-plugin(String)
2025-08-18 19:43:07.192 [main] DEBUG c.e.m.m.P.updateStatus - <==    Updates: 1
2025-08-18 19:43:07.192 [main] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.PluginConfigMapper.updateStatus, Execution time: 13ms
2025-08-18 19:43:07.192 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@756808cc]
2025-08-18 19:43:07.192 [main] INFO  c.e.m.service.PluginManagerService - Plugin initialization completed. Loaded 0 plugins
2025-08-18 19:43:07.708 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoint(s) beneath base path '/actuator'
2025-08-18 19:43:07.749 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8082 (http) with context path ''
2025-08-18 19:43:07.762 [scheduling-1] DEBUG c.e.m.service.PluginManagerService - Checking for plugin updates
2025-08-18 19:43:07.765 [main] INFO  c.e.middleware.EsbRouterApplication - Started EsbRouterApplication in 3.354 seconds (JVM running for 3.74)
2025-08-18 19:45:28.266 [main] INFO  c.e.middleware.EsbRouterApplication - Starting EsbRouterApplication using Java 17.0.12 on DESKTOP-6CLQBDH with PID 9096 (C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes started by Admin in C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main)
2025-08-18 19:45:28.272 [main] DEBUG c.e.middleware.EsbRouterApplication - Running with Spring Boot v2.7.14, Spring v5.3.29
2025-08-18 19:45:28.274 [main] INFO  c.e.middleware.EsbRouterApplication - No active profile set, falling back to 1 default profile: "dev"
2025-08-18 19:45:29.100 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\AuditLogMapper.class]
2025-08-18 19:45:29.101 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\PluginConfigMapper.class]
2025-08-18 19:45:29.101 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\RouteConfigMapper.class]
2025-08-18 19:45:29.102 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'auditLogMapper' and 'com.esb.middleware.mapper.AuditLogMapper' mapperInterface
2025-08-18 19:45:29.106 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'auditLogMapper'.
2025-08-18 19:45:29.106 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'pluginConfigMapper' and 'com.esb.middleware.mapper.PluginConfigMapper' mapperInterface
2025-08-18 19:45:29.107 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'pluginConfigMapper'.
2025-08-18 19:45:29.107 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'routeConfigMapper' and 'com.esb.middleware.mapper.RouteConfigMapper' mapperInterface
2025-08-18 19:45:29.108 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'routeConfigMapper'.
2025-08-18 19:45:29.564 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8082 (http)
2025-08-18 19:45:29.566 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-18 19:45:29.575 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
2025-08-18 19:45:29.665 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-18 19:45:29.665 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1342 ms
2025-08-18 19:45:29.806 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Starting...
2025-08-18 19:45:30.070 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Start completed.
2025-08-18 19:45:30.313 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed configuration file: 'class path resource [mybatis-config.xml]'
2025-08-18 19:45:30.376 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\mappers\AuditLogMapper.xml]'
2025-08-18 19:45:30.399 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\mappers\PluginConfigMapper.xml]'
2025-08-18 19:45:30.411 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\mappers\RouteConfigMapper.xml]'
2025-08-18 19:45:30.431 [main] INFO  c.e.m.service.ConfigurationService - Initializing route configuration cache
2025-08-18 19:45:30.432 [main] INFO  c.e.m.service.ConfigurationService - Refreshing route configuration cache
2025-08-18 19:45:30.438 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 19:45:30.447 [main] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21f7e537] was not registered for synchronization because synchronization is not active
2025-08-18 19:45:30.456 [main] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1014698874 wrapping ConnectionID:1 ClientConnectionId: 91285fa6-3b64-4ef2-94c4-0e98bb77dbfb] will not be managed by Spring
2025-08-18 19:45:30.462 [main] DEBUG c.e.m.m.R.findAllEnabled - ==>  Preparing: SELECT id, branch_code, endpoint, method, plugin_id, target_url, headers, parameters, transformation_rule, enabled, priority, timeout, retry_count, description, created_by, created_date, modified_by, modified_date FROM route_config WHERE enabled = 1 ORDER BY branch_code, priority DESC, endpoint
2025-08-18 19:45:30.491 [main] DEBUG c.e.m.m.R.findAllEnabled - ==> Parameters: 
2025-08-18 19:45:30.525 [main] DEBUG c.e.m.m.R.findAllEnabled - <==      Total: 6
2025-08-18 19:45:30.533 [main] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.RouteConfigMapper.findAllEnabled, Execution time: 86ms
2025-08-18 19:45:30.534 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21f7e537]
2025-08-18 19:45:30.535 [main] INFO  c.e.m.service.ConfigurationService - Route configuration cache refreshed with 6 routes
2025-08-18 19:45:30.535 [main] INFO  c.e.m.service.ConfigurationService - Route configuration cache initialized with 6 routes
2025-08-18 19:45:30.546 [main] INFO  c.e.m.service.PluginManagerService - Initializing plugin manager and loading plugins from database
2025-08-18 19:45:30.546 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 19:45:30.546 [main] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b867ee7] was not registered for synchronization because synchronization is not active
2025-08-18 19:45:30.547 [main] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1038892935 wrapping ConnectionID:1 ClientConnectionId: 91285fa6-3b64-4ef2-94c4-0e98bb77dbfb] will not be managed by Spring
2025-08-18 19:45:30.547 [main] DEBUG c.e.m.m.P.findAllEnabled - ==>  Preparing: SELECT id, plugin_id, plugin_name, version, jar_file_name, main_class, description, author, vendor, supported_endpoints, configuration, enabled, priority, status, loaded_time, created_by, created_date, modified_by, modified_date FROM plugin_config WHERE enabled = 1 ORDER BY priority DESC, plugin_name
2025-08-18 19:45:30.547 [main] DEBUG c.e.m.m.P.findAllEnabled - ==> Parameters: 
2025-08-18 19:45:30.551 [main] DEBUG c.e.m.m.P.findAllEnabled - <==      Total: 1
2025-08-18 19:45:30.552 [main] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.PluginConfigMapper.findAllEnabled, Execution time: 5ms
2025-08-18 19:45:30.552 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b867ee7]
2025-08-18 19:45:30.552 [main] INFO  c.e.m.service.PluginManagerService - Found 1 enabled plugins in database
2025-08-18 19:45:30.552 [main] INFO  c.e.m.service.PluginManagerService - Loading plugin: trade-plugin from config
2025-08-18 19:45:30.552 [main] INFO  c.esb.middleware.plugin.PluginLoader - Loading plugin: trade-plugin from JAR: esb-trade-plugin-1.0.0.jar
2025-08-18 19:45:30.555 [main] INFO  c.esb.middleware.plugin.PluginLoader - Successfully loaded plugin: trade-plugin
2025-08-18 19:45:30.555 [main] INFO  com.esb.plugin.trade.TradePlugin - Initializing Trade Plugin with config: PluginConfiguration{pluginId='trade-plugin', environment='production', debugMode=false, properties=3 items, settings=0 items}
2025-08-18 19:45:30.560 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'esbRouterController': Unsatisfied dependency expressed through field 'esbRouterService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'esbRouterService': Unsatisfied dependency expressed through field 'pluginManagerService'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'pluginManagerService': Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: org/apache/http/HttpEntity
2025-08-18 19:45:30.560 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Shutdown initiated...
2025-08-18 19:45:30.562 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Shutdown completed.
2025-08-18 19:45:30.566 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-18 19:45:30.579 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-18 19:45:30.600 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'esbRouterController': Unsatisfied dependency expressed through field 'esbRouterService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'esbRouterService': Unsatisfied dependency expressed through field 'pluginManagerService'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'pluginManagerService': Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: org/apache/http/HttpEntity
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:662)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:642)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:921)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)
	at com.esb.middleware.EsbRouterApplication.main(EsbRouterApplication.java:24)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'esbRouterService': Unsatisfied dependency expressed through field 'pluginManagerService'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'pluginManagerService': Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: org/apache/http/HttpEntity
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:662)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:642)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	... 20 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'pluginManagerService': Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: org/apache/http/HttpEntity
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:160)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	... 34 common frames omitted
Caused by: java.lang.NoClassDefFoundError: org/apache/http/HttpEntity
	at com.esb.plugin.trade.TradePlugin.initialize(TradePlugin.java:27)
	at com.esb.middleware.service.PluginManagerService.loadPluginFromConfig(PluginManagerService.java:98)
	at com.esb.middleware.service.PluginManagerService.initializePlugins(PluginManagerService.java:63)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:333)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:157)
	... 46 common frames omitted
Caused by: java.lang.ClassNotFoundException: org.apache.http.HttpEntity
	at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:592)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:525)
	... 56 common frames omitted
2025-08-18 19:48:07.762 [scheduling-1] DEBUG c.e.m.service.PluginManagerService - Checking for plugin updates
2025-08-18 19:53:07.776 [scheduling-1] DEBUG c.e.m.service.PluginManagerService - Checking for plugin updates
2025-08-18 19:58:07.782 [scheduling-1] DEBUG c.e.m.service.PluginManagerService - Checking for plugin updates
2025-08-18 19:59:39.851 [main] INFO  c.e.middleware.EsbRouterApplication - Starting EsbRouterApplication using Java 17.0.12 on DESKTOP-6CLQBDH with PID 7816 (C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes started by Admin in C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main)
2025-08-18 19:59:39.855 [main] DEBUG c.e.middleware.EsbRouterApplication - Running with Spring Boot v2.7.14, Spring v5.3.29
2025-08-18 19:59:39.855 [main] INFO  c.e.middleware.EsbRouterApplication - No active profile set, falling back to 1 default profile: "dev"
2025-08-18 19:59:40.703 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\AuditLogMapper.class]
2025-08-18 19:59:40.703 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\PluginConfigMapper.class]
2025-08-18 19:59:40.703 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\RouteConfigMapper.class]
2025-08-18 19:59:40.704 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'auditLogMapper' and 'com.esb.middleware.mapper.AuditLogMapper' mapperInterface
2025-08-18 19:59:40.707 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'auditLogMapper'.
2025-08-18 19:59:40.707 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'pluginConfigMapper' and 'com.esb.middleware.mapper.PluginConfigMapper' mapperInterface
2025-08-18 19:59:40.709 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'pluginConfigMapper'.
2025-08-18 19:59:40.709 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'routeConfigMapper' and 'com.esb.middleware.mapper.RouteConfigMapper' mapperInterface
2025-08-18 19:59:40.709 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'routeConfigMapper'.
2025-08-18 19:59:41.198 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8082 (http)
2025-08-18 19:59:41.210 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-18 19:59:41.210 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
2025-08-18 19:59:41.314 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-18 19:59:41.316 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1408 ms
2025-08-18 19:59:41.479 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Starting...
2025-08-18 19:59:41.719 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Start completed.
2025-08-18 19:59:41.979 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed configuration file: 'class path resource [mybatis-config.xml]'
2025-08-18 19:59:42.031 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\mappers\AuditLogMapper.xml]'
2025-08-18 19:59:42.056 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\mappers\PluginConfigMapper.xml]'
2025-08-18 19:59:42.077 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\mappers\RouteConfigMapper.xml]'
2025-08-18 19:59:42.099 [main] INFO  c.e.m.service.ConfigurationService - Initializing route configuration cache
2025-08-18 19:59:42.099 [main] INFO  c.e.m.service.ConfigurationService - Refreshing route configuration cache
2025-08-18 19:59:42.109 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 19:59:42.117 [main] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c588adc] was not registered for synchronization because synchronization is not active
2025-08-18 19:59:42.125 [main] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@883035926 wrapping ConnectionID:1 ClientConnectionId: 00ea34e6-cf20-4cb1-9cf4-2ba7568b7b4d] will not be managed by Spring
2025-08-18 19:59:42.131 [main] DEBUG c.e.m.m.R.findAllEnabled - ==>  Preparing: SELECT id, branch_code, endpoint, method, plugin_id, target_url, headers, parameters, transformation_rule, enabled, priority, timeout, retry_count, description, created_by, created_date, modified_by, modified_date FROM route_config WHERE enabled = 1 ORDER BY branch_code, priority DESC, endpoint
2025-08-18 19:59:42.160 [main] DEBUG c.e.m.m.R.findAllEnabled - ==> Parameters: 
2025-08-18 19:59:42.193 [main] DEBUG c.e.m.m.R.findAllEnabled - <==      Total: 6
2025-08-18 19:59:42.200 [main] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.RouteConfigMapper.findAllEnabled, Execution time: 83ms
2025-08-18 19:59:42.202 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c588adc]
2025-08-18 19:59:42.203 [main] INFO  c.e.m.service.ConfigurationService - Route configuration cache refreshed with 6 routes
2025-08-18 19:59:42.203 [main] INFO  c.e.m.service.ConfigurationService - Route configuration cache initialized with 6 routes
2025-08-18 19:59:42.236 [main] INFO  c.e.m.service.PluginManagerService - Initializing plugin manager and loading plugins from database
2025-08-18 19:59:42.236 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 19:59:42.236 [main] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e3899fd] was not registered for synchronization because synchronization is not active
2025-08-18 19:59:42.236 [main] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2101891021 wrapping ConnectionID:1 ClientConnectionId: 00ea34e6-cf20-4cb1-9cf4-2ba7568b7b4d] will not be managed by Spring
2025-08-18 19:59:42.236 [main] DEBUG c.e.m.m.P.findAllEnabled - ==>  Preparing: SELECT id, plugin_id, plugin_name, version, jar_file_name, main_class, description, author, vendor, supported_endpoints, configuration, enabled, priority, status, loaded_time, created_by, created_date, modified_by, modified_date FROM plugin_config WHERE enabled = 1 ORDER BY priority DESC, plugin_name
2025-08-18 19:59:42.237 [main] DEBUG c.e.m.m.P.findAllEnabled - ==> Parameters: 
2025-08-18 19:59:42.240 [main] DEBUG c.e.m.m.P.findAllEnabled - <==      Total: 1
2025-08-18 19:59:42.240 [main] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.PluginConfigMapper.findAllEnabled, Execution time: 4ms
2025-08-18 19:59:42.241 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e3899fd]
2025-08-18 19:59:42.241 [main] INFO  c.e.m.service.PluginManagerService - Found 1 enabled plugins in database
2025-08-18 19:59:42.241 [main] INFO  c.e.m.service.PluginManagerService - Loading plugin: trade-plugin from config
2025-08-18 19:59:42.241 [main] INFO  c.esb.middleware.plugin.PluginLoader - Loading plugin: trade-plugin from JAR: esb-trade-plugin-1.0.0.jar
2025-08-18 19:59:42.243 [main] INFO  c.esb.middleware.plugin.PluginLoader - Successfully loaded plugin: trade-plugin
2025-08-18 19:59:42.243 [main] INFO  com.esb.plugin.trade.TradePlugin - Initializing Trade Plugin with config: PluginConfiguration{pluginId='trade-plugin', environment='production', debugMode=false, properties=3 items, settings=0 items}
2025-08-18 19:59:42.250 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'esbRouterController': Unsatisfied dependency expressed through field 'esbRouterService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'esbRouterService': Unsatisfied dependency expressed through field 'pluginManagerService'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'pluginManagerService': Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: org/apache/http/HttpEntity
2025-08-18 19:59:42.250 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Shutdown initiated...
2025-08-18 19:59:42.252 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Shutdown completed.
2025-08-18 19:59:42.255 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-18 19:59:42.269 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-18 19:59:42.281 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'esbRouterController': Unsatisfied dependency expressed through field 'esbRouterService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'esbRouterService': Unsatisfied dependency expressed through field 'pluginManagerService'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'pluginManagerService': Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: org/apache/http/HttpEntity
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:662)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:642)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:921)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)
	at com.esb.middleware.EsbRouterApplication.main(EsbRouterApplication.java:24)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'esbRouterService': Unsatisfied dependency expressed through field 'pluginManagerService'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'pluginManagerService': Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: org/apache/http/HttpEntity
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:662)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:642)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	... 20 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'pluginManagerService': Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: org/apache/http/HttpEntity
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:160)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	... 34 common frames omitted
Caused by: java.lang.NoClassDefFoundError: org/apache/http/HttpEntity
	at com.esb.plugin.trade.TradePlugin.initialize(TradePlugin.java:27)
	at com.esb.middleware.service.PluginManagerService.loadPluginFromConfig(PluginManagerService.java:98)
	at com.esb.middleware.service.PluginManagerService.initializePlugins(PluginManagerService.java:63)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:333)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:157)
	... 46 common frames omitted
Caused by: java.lang.ClassNotFoundException: org.apache.http.HttpEntity
	at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:592)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:525)
	... 56 common frames omitted
2025-08-18 20:03:54.889 [main] INFO  c.e.middleware.EsbRouterApplication - Starting EsbRouterApplication using Java 17.0.12 on DESKTOP-6CLQBDH with PID 12328 (C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes started by Admin in C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main)
2025-08-18 20:03:54.892 [main] DEBUG c.e.middleware.EsbRouterApplication - Running with Spring Boot v2.7.14, Spring v5.3.29
2025-08-18 20:03:54.892 [main] INFO  c.e.middleware.EsbRouterApplication - No active profile set, falling back to 1 default profile: "dev"
2025-08-18 20:03:55.726 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\AuditLogMapper.class]
2025-08-18 20:03:55.727 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\PluginConfigMapper.class]
2025-08-18 20:03:55.727 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\RouteConfigMapper.class]
2025-08-18 20:03:55.728 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'auditLogMapper' and 'com.esb.middleware.mapper.AuditLogMapper' mapperInterface
2025-08-18 20:03:55.731 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'auditLogMapper'.
2025-08-18 20:03:55.731 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'pluginConfigMapper' and 'com.esb.middleware.mapper.PluginConfigMapper' mapperInterface
2025-08-18 20:03:55.733 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'pluginConfigMapper'.
2025-08-18 20:03:55.733 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'routeConfigMapper' and 'com.esb.middleware.mapper.RouteConfigMapper' mapperInterface
2025-08-18 20:03:55.733 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'routeConfigMapper'.
2025-08-18 20:03:56.237 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8082 (http)
2025-08-18 20:03:56.240 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-18 20:03:56.240 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
2025-08-18 20:03:56.339 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-18 20:03:56.343 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1398 ms
2025-08-18 20:03:56.485 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Starting...
2025-08-18 20:03:56.760 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Start completed.
2025-08-18 20:03:57.017 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed configuration file: 'class path resource [mybatis-config.xml]'
2025-08-18 20:03:57.073 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\mappers\AuditLogMapper.xml]'
2025-08-18 20:03:57.104 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\mappers\PluginConfigMapper.xml]'
2025-08-18 20:03:57.116 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\mappers\RouteConfigMapper.xml]'
2025-08-18 20:03:57.137 [main] INFO  c.e.m.service.ConfigurationService - Initializing route configuration cache
2025-08-18 20:03:57.137 [main] INFO  c.e.m.service.ConfigurationService - Refreshing route configuration cache
2025-08-18 20:03:57.146 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 20:03:57.155 [main] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5968800d] was not registered for synchronization because synchronization is not active
2025-08-18 20:03:57.165 [main] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@438051252 wrapping ConnectionID:1 ClientConnectionId: 65720900-b410-4260-a3ce-ed63b4f82fe1] will not be managed by Spring
2025-08-18 20:03:57.171 [main] DEBUG c.e.m.m.R.findAllEnabled - ==>  Preparing: SELECT id, branch_code, endpoint, method, plugin_id, target_url, headers, parameters, transformation_rule, enabled, priority, timeout, retry_count, description, created_by, created_date, modified_by, modified_date FROM route_config WHERE enabled = 1 ORDER BY branch_code, priority DESC, endpoint
2025-08-18 20:03:57.203 [main] DEBUG c.e.m.m.R.findAllEnabled - ==> Parameters: 
2025-08-18 20:03:57.239 [main] DEBUG c.e.m.m.R.findAllEnabled - <==      Total: 6
2025-08-18 20:03:57.241 [main] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.RouteConfigMapper.findAllEnabled, Execution time: 86ms
2025-08-18 20:03:57.247 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5968800d]
2025-08-18 20:03:57.248 [main] INFO  c.e.m.service.ConfigurationService - Route configuration cache refreshed with 6 routes
2025-08-18 20:03:57.248 [main] INFO  c.e.m.service.ConfigurationService - Route configuration cache initialized with 6 routes
2025-08-18 20:03:57.281 [main] INFO  c.e.m.service.PluginManagerService - Initializing plugin manager and loading plugins from database
2025-08-18 20:03:57.281 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 20:03:57.281 [main] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@788e3702] was not registered for synchronization because synchronization is not active
2025-08-18 20:03:57.281 [main] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@220588152 wrapping ConnectionID:1 ClientConnectionId: 65720900-b410-4260-a3ce-ed63b4f82fe1] will not be managed by Spring
2025-08-18 20:03:57.282 [main] DEBUG c.e.m.m.P.findAllEnabled - ==>  Preparing: SELECT id, plugin_id, plugin_name, version, jar_file_name, main_class, description, author, vendor, supported_endpoints, configuration, enabled, priority, status, loaded_time, created_by, created_date, modified_by, modified_date FROM plugin_config WHERE enabled = 1 ORDER BY priority DESC, plugin_name
2025-08-18 20:03:57.282 [main] DEBUG c.e.m.m.P.findAllEnabled - ==> Parameters: 
2025-08-18 20:03:57.286 [main] DEBUG c.e.m.m.P.findAllEnabled - <==      Total: 1
2025-08-18 20:03:57.286 [main] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.PluginConfigMapper.findAllEnabled, Execution time: 5ms
2025-08-18 20:03:57.286 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@788e3702]
2025-08-18 20:03:57.288 [main] INFO  c.e.m.service.PluginManagerService - Found 1 enabled plugins in database
2025-08-18 20:03:57.288 [main] INFO  c.e.m.service.PluginManagerService - Loading plugin: trade-plugin from config
2025-08-18 20:03:57.288 [main] INFO  c.esb.middleware.plugin.PluginLoader - Loading plugin: trade-plugin from JAR: esb-trade-plugin-1.0.0.jar
2025-08-18 20:03:57.290 [main] INFO  c.esb.middleware.plugin.PluginLoader - Successfully loaded plugin: trade-plugin
2025-08-18 20:03:57.290 [main] INFO  com.esb.plugin.trade.TradePlugin - Initializing Trade Plugin with config: PluginConfiguration{pluginId='trade-plugin', environment='production', debugMode=false, properties=3 items, settings=0 items}
2025-08-18 20:03:57.296 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'esbRouterController': Unsatisfied dependency expressed through field 'esbRouterService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'esbRouterService': Unsatisfied dependency expressed through field 'pluginManagerService'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'pluginManagerService': Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: org/apache/http/HttpEntity
2025-08-18 20:03:57.297 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Shutdown initiated...
2025-08-18 20:03:57.299 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Shutdown completed.
2025-08-18 20:03:57.303 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-18 20:03:57.316 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-18 20:03:57.336 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'esbRouterController': Unsatisfied dependency expressed through field 'esbRouterService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'esbRouterService': Unsatisfied dependency expressed through field 'pluginManagerService'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'pluginManagerService': Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: org/apache/http/HttpEntity
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:662)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:642)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:921)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)
	at com.esb.middleware.EsbRouterApplication.main(EsbRouterApplication.java:24)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'esbRouterService': Unsatisfied dependency expressed through field 'pluginManagerService'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'pluginManagerService': Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: org/apache/http/HttpEntity
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:662)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:642)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	... 20 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'pluginManagerService': Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: org/apache/http/HttpEntity
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:160)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	... 34 common frames omitted
Caused by: java.lang.NoClassDefFoundError: org/apache/http/HttpEntity
	at com.esb.plugin.trade.TradePlugin.initialize(TradePlugin.java:27)
	at com.esb.middleware.service.PluginManagerService.loadPluginFromConfig(PluginManagerService.java:98)
	at com.esb.middleware.service.PluginManagerService.initializePlugins(PluginManagerService.java:63)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:333)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:157)
	... 46 common frames omitted
Caused by: java.lang.ClassNotFoundException: org.apache.http.HttpEntity
	at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:592)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:525)
	... 56 common frames omitted
2025-08-18 20:12:36.402 [main] INFO  c.e.middleware.EsbRouterApplication - Starting EsbRouterApplication using Java 17.0.12 on DESKTOP-6CLQBDH with PID 6492 (C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes started by Admin in C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main)
2025-08-18 20:12:36.406 [main] DEBUG c.e.middleware.EsbRouterApplication - Running with Spring Boot v2.7.14, Spring v5.3.29
2025-08-18 20:12:36.407 [main] INFO  c.e.middleware.EsbRouterApplication - No active profile set, falling back to 1 default profile: "dev"
2025-08-18 20:12:37.230 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\AuditLogMapper.class]
2025-08-18 20:12:37.230 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\PluginConfigMapper.class]
2025-08-18 20:12:37.230 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\RouteConfigMapper.class]
2025-08-18 20:12:37.233 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'auditLogMapper' and 'com.esb.middleware.mapper.AuditLogMapper' mapperInterface
2025-08-18 20:12:37.236 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'auditLogMapper'.
2025-08-18 20:12:37.236 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'pluginConfigMapper' and 'com.esb.middleware.mapper.PluginConfigMapper' mapperInterface
2025-08-18 20:12:37.237 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'pluginConfigMapper'.
2025-08-18 20:12:37.237 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'routeConfigMapper' and 'com.esb.middleware.mapper.RouteConfigMapper' mapperInterface
2025-08-18 20:12:37.237 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'routeConfigMapper'.
2025-08-18 20:12:37.729 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8082 (http)
2025-08-18 20:12:37.739 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-18 20:12:37.739 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
2025-08-18 20:12:37.829 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-18 20:12:37.838 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1376 ms
2025-08-18 20:12:37.985 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Starting...
2025-08-18 20:12:38.229 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Start completed.
2025-08-18 20:12:38.478 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed configuration file: 'class path resource [mybatis-config.xml]'
2025-08-18 20:12:38.541 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\mappers\AuditLogMapper.xml]'
2025-08-18 20:12:38.561 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\mappers\PluginConfigMapper.xml]'
2025-08-18 20:12:38.575 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\mappers\RouteConfigMapper.xml]'
2025-08-18 20:12:38.583 [main] INFO  c.e.m.service.ConfigurationService - Initializing route configuration cache
2025-08-18 20:12:38.598 [main] INFO  c.e.m.service.ConfigurationService - Refreshing route configuration cache
2025-08-18 20:12:38.603 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 20:12:38.611 [main] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@526f6427] was not registered for synchronization because synchronization is not active
2025-08-18 20:12:38.619 [main] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@402622480 wrapping ConnectionID:1 ClientConnectionId: 4d2d40ab-9b78-4277-a7fb-b297870d9040] will not be managed by Spring
2025-08-18 20:12:38.624 [main] DEBUG c.e.m.m.R.findAllEnabled - ==>  Preparing: SELECT id, branch_code, endpoint, method, plugin_id, target_url, headers, parameters, transformation_rule, enabled, priority, timeout, retry_count, description, created_by, created_date, modified_by, modified_date FROM route_config WHERE enabled = 1 ORDER BY branch_code, priority DESC, endpoint
2025-08-18 20:12:38.654 [main] DEBUG c.e.m.m.R.findAllEnabled - ==> Parameters: 
2025-08-18 20:12:38.688 [main] DEBUG c.e.m.m.R.findAllEnabled - <==      Total: 6
2025-08-18 20:12:38.695 [main] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.RouteConfigMapper.findAllEnabled, Execution time: 84ms
2025-08-18 20:12:38.695 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@526f6427]
2025-08-18 20:12:38.696 [main] INFO  c.e.m.service.ConfigurationService - Route configuration cache refreshed with 6 routes
2025-08-18 20:12:38.696 [main] INFO  c.e.m.service.ConfigurationService - Route configuration cache initialized with 6 routes
2025-08-18 20:12:38.729 [main] INFO  c.e.m.service.PluginManagerService - Initializing plugin manager and loading plugins from database
2025-08-18 20:12:38.730 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 20:12:38.730 [main] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78116659] was not registered for synchronization because synchronization is not active
2025-08-18 20:12:38.730 [main] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1898870910 wrapping ConnectionID:1 ClientConnectionId: 4d2d40ab-9b78-4277-a7fb-b297870d9040] will not be managed by Spring
2025-08-18 20:12:38.730 [main] DEBUG c.e.m.m.P.findAllEnabled - ==>  Preparing: SELECT id, plugin_id, plugin_name, version, jar_file_name, main_class, description, author, vendor, supported_endpoints, configuration, enabled, priority, status, loaded_time, created_by, created_date, modified_by, modified_date FROM plugin_config WHERE enabled = 1 ORDER BY priority DESC, plugin_name
2025-08-18 20:12:38.731 [main] DEBUG c.e.m.m.P.findAllEnabled - ==> Parameters: 
2025-08-18 20:12:38.735 [main] DEBUG c.e.m.m.P.findAllEnabled - <==      Total: 1
2025-08-18 20:12:38.735 [main] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.PluginConfigMapper.findAllEnabled, Execution time: 5ms
2025-08-18 20:12:38.736 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78116659]
2025-08-18 20:12:38.736 [main] INFO  c.e.m.service.PluginManagerService - Found 1 enabled plugins in database
2025-08-18 20:12:38.736 [main] INFO  c.e.m.service.PluginManagerService - Loading plugin: trade-plugin from config
2025-08-18 20:12:38.736 [main] INFO  c.esb.middleware.plugin.PluginLoader - Loading plugin: trade-plugin from JAR: esb-trade-plugin-1.0.0.jar
2025-08-18 20:12:38.738 [main] INFO  c.esb.middleware.plugin.PluginLoader - Successfully loaded plugin: trade-plugin
2025-08-18 20:12:38.739 [main] INFO  com.esb.plugin.trade.TradePlugin - Initializing Trade Plugin with config: PluginConfiguration{pluginId='trade-plugin', environment='production', debugMode=false, properties=3 items, settings=0 items}
2025-08-18 20:12:38.745 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'esbRouterController': Unsatisfied dependency expressed through field 'esbRouterService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'esbRouterService': Unsatisfied dependency expressed through field 'pluginManagerService'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'pluginManagerService': Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: org/apache/http/HttpEntity
2025-08-18 20:12:38.745 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Shutdown initiated...
2025-08-18 20:12:38.748 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Shutdown completed.
2025-08-18 20:12:38.752 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-18 20:12:38.765 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-18 20:12:38.786 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'esbRouterController': Unsatisfied dependency expressed through field 'esbRouterService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'esbRouterService': Unsatisfied dependency expressed through field 'pluginManagerService'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'pluginManagerService': Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: org/apache/http/HttpEntity
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:662)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:642)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:921)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)
	at com.esb.middleware.EsbRouterApplication.main(EsbRouterApplication.java:24)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'esbRouterService': Unsatisfied dependency expressed through field 'pluginManagerService'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'pluginManagerService': Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: org/apache/http/HttpEntity
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:662)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:642)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	... 20 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'pluginManagerService': Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: org/apache/http/HttpEntity
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:160)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	... 34 common frames omitted
Caused by: java.lang.NoClassDefFoundError: org/apache/http/HttpEntity
	at com.esb.plugin.trade.TradePlugin.initialize(TradePlugin.java:27)
	at com.esb.middleware.service.PluginManagerService.loadPluginFromConfig(PluginManagerService.java:98)
	at com.esb.middleware.service.PluginManagerService.initializePlugins(PluginManagerService.java:63)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:333)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:157)
	... 46 common frames omitted
Caused by: java.lang.ClassNotFoundException: org.apache.http.HttpEntity
	at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:592)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:525)
	... 56 common frames omitted
2025-08-18 22:02:55.412 [main] INFO  c.e.middleware.EsbRouterApplication - Starting EsbRouterApplication using Java 17.0.12 on DESKTOP-6CLQBDH with PID 14796 (C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes started by Admin in C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main)
2025-08-18 22:02:55.415 [main] DEBUG c.e.middleware.EsbRouterApplication - Running with Spring Boot v2.7.14, Spring v5.3.29
2025-08-18 22:02:55.415 [main] INFO  c.e.middleware.EsbRouterApplication - No active profile set, falling back to 1 default profile: "dev"
2025-08-18 22:02:56.258 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\AuditLogMapper.class]
2025-08-18 22:02:56.258 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\PluginConfigMapper.class]
2025-08-18 22:02:56.258 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\RouteConfigMapper.class]
2025-08-18 22:02:56.259 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'auditLogMapper' and 'com.esb.middleware.mapper.AuditLogMapper' mapperInterface
2025-08-18 22:02:56.263 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'auditLogMapper'.
2025-08-18 22:02:56.263 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'pluginConfigMapper' and 'com.esb.middleware.mapper.PluginConfigMapper' mapperInterface
2025-08-18 22:02:56.263 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'pluginConfigMapper'.
2025-08-18 22:02:56.263 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'routeConfigMapper' and 'com.esb.middleware.mapper.RouteConfigMapper' mapperInterface
2025-08-18 22:02:56.265 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'routeConfigMapper'.
2025-08-18 22:02:56.775 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8082 (http)
2025-08-18 22:02:56.785 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-18 22:02:56.785 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
2025-08-18 22:02:56.883 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-18 22:02:56.887 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1420 ms
2025-08-18 22:02:57.041 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Starting...
2025-08-18 22:02:57.302 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Start completed.
2025-08-18 22:02:57.566 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed configuration file: 'class path resource [mybatis-config.xml]'
2025-08-18 22:02:57.624 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\mappers\AuditLogMapper.xml]'
2025-08-18 22:02:57.647 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\mappers\PluginConfigMapper.xml]'
2025-08-18 22:02:57.659 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\mappers\RouteConfigMapper.xml]'
2025-08-18 22:02:57.678 [main] INFO  c.e.m.service.ConfigurationService - Initializing route configuration cache
2025-08-18 22:02:57.682 [main] INFO  c.e.m.service.ConfigurationService - Refreshing route configuration cache
2025-08-18 22:02:57.688 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 22:02:57.696 [main] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bd8afc8] was not registered for synchronization because synchronization is not active
2025-08-18 22:02:57.705 [main] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@683573228 wrapping ConnectionID:1 ClientConnectionId: 15cea8fe-eb3b-4336-ad4c-79ef5457a155] will not be managed by Spring
2025-08-18 22:02:57.712 [main] DEBUG c.e.m.m.R.findAllEnabled - ==>  Preparing: SELECT id, branch_code, endpoint, method, plugin_id, target_url, headers, parameters, transformation_rule, enabled, priority, timeout, retry_count, description, created_by, created_date, modified_by, modified_date FROM route_config WHERE enabled = 1 ORDER BY branch_code, priority DESC, endpoint
2025-08-18 22:02:57.734 [main] DEBUG c.e.m.m.R.findAllEnabled - ==> Parameters: 
2025-08-18 22:02:57.773 [main] DEBUG c.e.m.m.R.findAllEnabled - <==      Total: 6
2025-08-18 22:02:57.781 [main] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.RouteConfigMapper.findAllEnabled, Execution time: 85ms
2025-08-18 22:02:57.781 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bd8afc8]
2025-08-18 22:02:57.783 [main] INFO  c.e.m.service.ConfigurationService - Route configuration cache refreshed with 6 routes
2025-08-18 22:02:57.783 [main] INFO  c.e.m.service.ConfigurationService - Route configuration cache initialized with 6 routes
2025-08-18 22:02:57.810 [main] INFO  c.e.m.service.PluginManagerService - Initializing plugin manager and loading plugins from database
2025-08-18 22:02:57.817 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 22:02:57.817 [main] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70be89ec] was not registered for synchronization because synchronization is not active
2025-08-18 22:02:57.817 [main] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@720242436 wrapping ConnectionID:1 ClientConnectionId: 15cea8fe-eb3b-4336-ad4c-79ef5457a155] will not be managed by Spring
2025-08-18 22:02:57.817 [main] DEBUG c.e.m.m.P.findAllEnabled - ==>  Preparing: SELECT id, plugin_id, plugin_name, version, jar_file_name, main_class, description, author, vendor, supported_endpoints, configuration, enabled, priority, status, loaded_time, created_by, created_date, modified_by, modified_date FROM plugin_config WHERE enabled = 1 ORDER BY priority DESC, plugin_name
2025-08-18 22:02:57.818 [main] DEBUG c.e.m.m.P.findAllEnabled - ==> Parameters: 
2025-08-18 22:02:57.822 [main] DEBUG c.e.m.m.P.findAllEnabled - <==      Total: 1
2025-08-18 22:02:57.822 [main] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.PluginConfigMapper.findAllEnabled, Execution time: 5ms
2025-08-18 22:02:57.822 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70be89ec]
2025-08-18 22:02:57.822 [main] INFO  c.e.m.service.PluginManagerService - Found 1 enabled plugins in database
2025-08-18 22:02:57.822 [main] INFO  c.e.m.service.PluginManagerService - Loading plugin: trade-plugin from config
2025-08-18 22:02:57.823 [main] INFO  c.esb.middleware.plugin.PluginLoader - Loading plugin: trade-plugin from JAR: esb-trade-plugin-1.0.0.jar
2025-08-18 22:02:57.824 [main] INFO  c.esb.middleware.plugin.PluginLoader - Successfully loaded plugin: trade-plugin
2025-08-18 22:02:57.825 [main] INFO  com.esb.plugin.trade.TradePlugin - Initializing Trade Plugin with config: PluginConfiguration{pluginId='trade-plugin', environment='Dev', debugMode=true, properties=3 items, settings=0 items}
2025-08-18 22:02:57.831 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'esbRouterController': Unsatisfied dependency expressed through field 'esbRouterService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'esbRouterService': Unsatisfied dependency expressed through field 'pluginManagerService'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'pluginManagerService': Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: org/apache/http/HttpEntity
2025-08-18 22:02:57.832 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Shutdown initiated...
2025-08-18 22:02:57.834 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Shutdown completed.
2025-08-18 22:02:57.837 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-18 22:02:57.851 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-18 22:02:57.870 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'esbRouterController': Unsatisfied dependency expressed through field 'esbRouterService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'esbRouterService': Unsatisfied dependency expressed through field 'pluginManagerService'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'pluginManagerService': Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: org/apache/http/HttpEntity
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:662)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:642)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:921)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)
	at com.esb.middleware.EsbRouterApplication.main(EsbRouterApplication.java:24)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'esbRouterService': Unsatisfied dependency expressed through field 'pluginManagerService'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'pluginManagerService': Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: org/apache/http/HttpEntity
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:662)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:642)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	... 20 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'pluginManagerService': Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: org/apache/http/HttpEntity
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:160)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	... 34 common frames omitted
Caused by: java.lang.NoClassDefFoundError: org/apache/http/HttpEntity
	at com.esb.plugin.trade.TradePlugin.initialize(TradePlugin.java:27)
	at com.esb.middleware.service.PluginManagerService.loadPluginFromConfig(PluginManagerService.java:98)
	at com.esb.middleware.service.PluginManagerService.initializePlugins(PluginManagerService.java:63)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:333)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:157)
	... 46 common frames omitted
Caused by: java.lang.ClassNotFoundException: org.apache.http.HttpEntity
	at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:592)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:525)
	... 56 common frames omitted
2025-08-18 22:30:31.027 [main] INFO  c.e.middleware.EsbRouterApplication - Starting EsbRouterApplication using Java 17.0.12 on DESKTOP-6CLQBDH with PID 2536 (C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes started by Admin in C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main)
2025-08-18 22:30:31.031 [main] DEBUG c.e.middleware.EsbRouterApplication - Running with Spring Boot v2.7.14, Spring v5.3.29
2025-08-18 22:30:31.032 [main] INFO  c.e.middleware.EsbRouterApplication - No active profile set, falling back to 1 default profile: "dev"
2025-08-18 22:30:31.882 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\AuditLogMapper.class]
2025-08-18 22:30:31.882 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\PluginConfigMapper.class]
2025-08-18 22:30:31.882 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\RouteConfigMapper.class]
2025-08-18 22:30:31.883 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'auditLogMapper' and 'com.esb.middleware.mapper.AuditLogMapper' mapperInterface
2025-08-18 22:30:31.887 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'auditLogMapper'.
2025-08-18 22:30:31.887 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'pluginConfigMapper' and 'com.esb.middleware.mapper.PluginConfigMapper' mapperInterface
2025-08-18 22:30:31.887 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'pluginConfigMapper'.
2025-08-18 22:30:31.888 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'routeConfigMapper' and 'com.esb.middleware.mapper.RouteConfigMapper' mapperInterface
2025-08-18 22:30:31.888 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'routeConfigMapper'.
2025-08-18 22:30:32.390 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8082 (http)
2025-08-18 22:30:32.399 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-18 22:30:32.400 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
2025-08-18 22:30:32.496 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-18 22:30:32.498 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1410 ms
2025-08-18 22:30:32.651 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Starting...
2025-08-18 22:30:32.918 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Start completed.
2025-08-18 22:30:33.168 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed configuration file: 'class path resource [mybatis-config.xml]'
2025-08-18 22:30:33.236 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\mappers\AuditLogMapper.xml]'
2025-08-18 22:30:33.250 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\mappers\PluginConfigMapper.xml]'
2025-08-18 22:30:33.270 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\mappers\RouteConfigMapper.xml]'
2025-08-18 22:30:33.296 [main] INFO  c.e.m.service.ConfigurationService - Initializing route configuration cache
2025-08-18 22:30:33.299 [main] INFO  c.e.m.service.ConfigurationService - Refreshing route configuration cache
2025-08-18 22:30:33.305 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 22:30:33.315 [main] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c588adc] was not registered for synchronization because synchronization is not active
2025-08-18 22:30:33.325 [main] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@883035926 wrapping ConnectionID:1 ClientConnectionId: 0ab16119-6643-4a47-888b-10c4cb7aef70] will not be managed by Spring
2025-08-18 22:30:33.331 [main] DEBUG c.e.m.m.R.findAllEnabled - ==>  Preparing: SELECT id, branch_code, endpoint, method, plugin_id, target_url, headers, parameters, transformation_rule, enabled, priority, timeout, retry_count, description, created_by, created_date, modified_by, modified_date FROM route_config WHERE enabled = 1 ORDER BY branch_code, priority DESC, endpoint
2025-08-18 22:30:33.355 [main] DEBUG c.e.m.m.R.findAllEnabled - ==> Parameters: 
2025-08-18 22:30:33.394 [main] DEBUG c.e.m.m.R.findAllEnabled - <==      Total: 6
2025-08-18 22:30:33.399 [main] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.RouteConfigMapper.findAllEnabled, Execution time: 83ms
2025-08-18 22:30:33.403 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c588adc]
2025-08-18 22:30:33.404 [main] INFO  c.e.m.service.ConfigurationService - Route configuration cache refreshed with 6 routes
2025-08-18 22:30:33.404 [main] INFO  c.e.m.service.ConfigurationService - Route configuration cache initialized with 6 routes
2025-08-18 22:30:33.436 [main] INFO  c.e.m.service.PluginManagerService - Initializing plugin manager and loading plugins from database
2025-08-18 22:30:33.436 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 22:30:33.436 [main] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e3899fd] was not registered for synchronization because synchronization is not active
2025-08-18 22:30:33.436 [main] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2101891021 wrapping ConnectionID:1 ClientConnectionId: 0ab16119-6643-4a47-888b-10c4cb7aef70] will not be managed by Spring
2025-08-18 22:30:33.436 [main] DEBUG c.e.m.m.P.findAllEnabled - ==>  Preparing: SELECT id, plugin_id, plugin_name, version, jar_file_name, main_class, description, author, vendor, supported_endpoints, configuration, enabled, priority, status, loaded_time, created_by, created_date, modified_by, modified_date FROM plugin_config WHERE enabled = 1 ORDER BY priority DESC, plugin_name
2025-08-18 22:30:33.437 [main] DEBUG c.e.m.m.P.findAllEnabled - ==> Parameters: 
2025-08-18 22:30:33.441 [main] DEBUG c.e.m.m.P.findAllEnabled - <==      Total: 1
2025-08-18 22:30:33.441 [main] DEBUG c.e.m.i.SqlPerformanceInterceptor - SQL executed - ID: com.esb.middleware.mapper.PluginConfigMapper.findAllEnabled, Execution time: 5ms
2025-08-18 22:30:33.441 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e3899fd]
2025-08-18 22:30:33.441 [main] INFO  c.e.m.service.PluginManagerService - Found 1 enabled plugins in database
2025-08-18 22:30:33.441 [main] INFO  c.e.m.service.PluginManagerService - Loading plugin: trade-plugin from config
2025-08-18 22:30:33.442 [main] INFO  c.esb.middleware.plugin.PluginLoader - Loading plugin: trade-plugin from JAR: esb-trade-plugin-1.0.0.jar
2025-08-18 22:30:33.443 [main] INFO  c.esb.middleware.plugin.PluginLoader - Successfully loaded plugin: trade-plugin
2025-08-18 22:30:33.444 [main] INFO  com.esb.plugin.trade.TradePlugin - Initializing Trade Plugin with config: PluginConfiguration{pluginId='trade-plugin', environment='Dev', debugMode=true, properties=3 items, settings=0 items}
2025-08-18 22:30:33.449 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'esbRouterController': Unsatisfied dependency expressed through field 'esbRouterService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'esbRouterService': Unsatisfied dependency expressed through field 'pluginManagerService'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'pluginManagerService': Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: org/apache/http/HttpEntity
2025-08-18 22:30:33.449 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Shutdown initiated...
2025-08-18 22:30:33.451 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Shutdown completed.
2025-08-18 22:30:33.455 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-18 22:30:33.468 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-18 22:30:33.488 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'esbRouterController': Unsatisfied dependency expressed through field 'esbRouterService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'esbRouterService': Unsatisfied dependency expressed through field 'pluginManagerService'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'pluginManagerService': Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: org/apache/http/HttpEntity
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:662)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:642)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:921)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)
	at com.esb.middleware.EsbRouterApplication.main(EsbRouterApplication.java:24)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'esbRouterService': Unsatisfied dependency expressed through field 'pluginManagerService'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'pluginManagerService': Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: org/apache/http/HttpEntity
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:662)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:642)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	... 20 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'pluginManagerService': Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: org/apache/http/HttpEntity
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:160)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	... 34 common frames omitted
Caused by: java.lang.NoClassDefFoundError: org/apache/http/HttpEntity
	at com.esb.plugin.trade.TradePlugin.initialize(TradePlugin.java:27)
	at com.esb.middleware.service.PluginManagerService.loadPluginFromConfig(PluginManagerService.java:98)
	at com.esb.middleware.service.PluginManagerService.initializePlugins(PluginManagerService.java:63)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:333)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:157)
	... 46 common frames omitted
Caused by: java.lang.ClassNotFoundException: org.apache.http.HttpEntity
	at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:592)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:525)
	... 56 common frames omitted
2025-08-18 22:49:41.181 [main] INFO  c.e.middleware.EsbRouterApplication - Starting EsbRouterApplication using Java 17.0.12 on DESKTOP-6CLQBDH with PID 1736 (C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes started by Admin in C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main)
2025-08-18 22:49:41.184 [main] DEBUG c.e.middleware.EsbRouterApplication - Running with Spring Boot v2.7.14, Spring v5.3.29
2025-08-18 22:49:41.185 [main] INFO  c.e.middleware.EsbRouterApplication - No active profile set, falling back to 1 default profile: "dev"
2025-08-18 22:49:42.053 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\AuditLogMapper.class]
2025-08-18 22:49:42.054 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\PluginConfigMapper.class]
2025-08-18 22:49:42.054 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\RouteConfigMapper.class]
2025-08-18 22:49:42.055 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'auditLogMapper' and 'com.esb.middleware.mapper.AuditLogMapper' mapperInterface
2025-08-18 22:49:42.058 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'auditLogMapper'.
2025-08-18 22:49:42.060 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'pluginConfigMapper' and 'com.esb.middleware.mapper.PluginConfigMapper' mapperInterface
2025-08-18 22:49:42.060 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'pluginConfigMapper'.
2025-08-18 22:49:42.060 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'routeConfigMapper' and 'com.esb.middleware.mapper.RouteConfigMapper' mapperInterface
2025-08-18 22:49:42.061 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'routeConfigMapper'.
2025-08-18 22:49:42.564 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8082 (http)
2025-08-18 22:49:42.573 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-18 22:49:42.573 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
2025-08-18 22:49:42.665 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-18 22:49:42.665 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1421 ms
2025-08-18 22:49:42.831 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Starting...
2025-08-18 22:49:43.108 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Start completed.
2025-08-18 22:49:43.384 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed configuration file: 'class path resource [mybatis-config.xml]'
2025-08-18 22:49:43.447 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\mappers\AuditLogMapper.xml]'
2025-08-18 22:49:43.475 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\mappers\PluginConfigMapper.xml]'
2025-08-18 22:49:43.488 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace1\esb-middleware-parent\esb-router-main\target\classes\mappers\RouteConfigMapper.xml]'
2025-08-18 22:49:43.512 [main] INFO  c.e.m.service.ConfigurationService - Initializing route configuration cache
2025-08-18 22:49:43.512 [main] INFO  c.e.m.service.ConfigurationService - Refreshing route configuration cache
2025-08-18 22:49:43.520 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 22:49:43.525 [main] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11f23038] was not registered for synchronization because synchronization is not active
2025-08-18 22:49:43.535 [main] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@184410212 wrapping ConnectionID:1 ClientConnectionId: 33b17196-9e85-4716-a07c-6fee8eb124c4] will not be managed by Spring
2025-08-18 22:49:43.541 [main] DEBUG c.e.m.m.R.findAllEnabled - ==>  Preparing: SELECT id, branch_code, endpoint, method, plugin_id, target_url, headers, parameters, transformation_rule, enabled, priority, timeout, retry_count, description, created_by, created_date, modified_by, modified_date FROM route_config WHERE enabled = 1 ORDER BY branch_code, priority DESC, endpoint
2025-08-18 22:49:43.566 [main] DEBUG c.e.m.m.R.findAllEnabled - ==> Parameters: 
2025-08-18 22:49:43.595 [main] DEBUG c.e.m.m.R.findAllEnabled - <==      Total: 6
2025-08-18 22:49:43.604 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11f23038]
2025-08-18 22:49:43.605 [main] INFO  c.e.m.service.ConfigurationService - Route configuration cache refreshed with 6 routes
2025-08-18 22:49:43.606 [main] INFO  c.e.m.service.ConfigurationService - Route configuration cache initialized with 6 routes
2025-08-18 22:49:43.630 [main] INFO  c.e.m.service.PluginManagerService - Initializing plugin manager and loading plugins from database
2025-08-18 22:49:43.640 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 22:49:43.640 [main] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18a98913] was not registered for synchronization because synchronization is not active
2025-08-18 22:49:43.640 [main] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@131837504 wrapping ConnectionID:1 ClientConnectionId: 33b17196-9e85-4716-a07c-6fee8eb124c4] will not be managed by Spring
2025-08-18 22:49:43.640 [main] DEBUG c.e.m.m.P.findAllEnabled - ==>  Preparing: SELECT id, plugin_id, plugin_name, version, jar_file_name, main_class, description, author, vendor, supported_endpoints, configuration, enabled, priority, status, loaded_time, created_by, created_date, modified_by, modified_date FROM plugin_config WHERE enabled = 1 ORDER BY priority DESC, plugin_name
2025-08-18 22:49:43.640 [main] DEBUG c.e.m.m.P.findAllEnabled - ==> Parameters: 
2025-08-18 22:49:43.644 [main] DEBUG c.e.m.m.P.findAllEnabled - <==      Total: 1
2025-08-18 22:49:43.644 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18a98913]
2025-08-18 22:49:43.644 [main] INFO  c.e.m.service.PluginManagerService - Found 1 enabled plugins in database
2025-08-18 22:49:43.644 [main] INFO  c.e.m.service.PluginManagerService - Loading plugin: trade-plugin from config
2025-08-18 22:49:43.644 [main] INFO  c.esb.middleware.plugin.PluginLoader - Loading plugin: trade-plugin from JAR: esb-trade-plugin-1.0.0.jar
2025-08-18 22:49:43.647 [main] INFO  c.esb.middleware.plugin.PluginLoader - Successfully loaded plugin: trade-plugin
2025-08-18 22:49:43.647 [main] INFO  com.esb.plugin.trade.TradePlugin - Initializing Trade Plugin with config: PluginConfiguration{pluginId='trade-plugin', environment='Dev', debugMode=true, properties=3 items, settings=0 items}
2025-08-18 22:49:43.652 [main] INFO  com.esb.plugin.trade.TradeService - Initializing Trade Service
2025-08-18 22:49:43.735 [main] INFO  com.esb.plugin.trade.TradeService - Trade Service initialized with baseUrl: http://localhost:8081/trade, timeout: 30000ms
2025-08-18 22:49:43.736 [main] INFO  com.esb.plugin.trade.TradePlugin - Trade Plugin initialized successfully
2025-08-18 22:49:43.736 [main] INFO  c.e.middleware.plugin.PluginRegistry - Registering plugin: trade-plugin
2025-08-18 22:49:43.736 [main] INFO  c.e.middleware.plugin.PluginRegistry - Successfully registered plugin: trade-plugin with 3 endpoints
2025-08-18 22:49:43.738 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 22:49:43.738 [main] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@113dcaf8] was not registered for synchronization because synchronization is not active
2025-08-18 22:49:43.738 [main] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@190684958 wrapping ConnectionID:1 ClientConnectionId: 33b17196-9e85-4716-a07c-6fee8eb124c4] will not be managed by Spring
2025-08-18 22:49:43.738 [main] DEBUG c.e.m.m.P.updateLoadedTime - ==>  Preparing: UPDATE plugin_config SET loaded_time = ?, modified_date = GETDATE() WHERE plugin_id = ?
2025-08-18 22:49:43.744 [main] DEBUG c.e.m.m.P.updateLoadedTime - ==> Parameters: 2025-08-18T22:49:43.737368600(LocalDateTime), trade-plugin(String)
2025-08-18 22:49:43.755 [main] DEBUG c.e.m.m.P.updateLoadedTime - <==    Updates: 1
2025-08-18 22:49:43.755 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@113dcaf8]
2025-08-18 22:49:43.755 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 22:49:43.755 [main] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b01cb8d] was not registered for synchronization because synchronization is not active
2025-08-18 22:49:43.755 [main] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@952393960 wrapping ConnectionID:1 ClientConnectionId: 33b17196-9e85-4716-a07c-6fee8eb124c4] will not be managed by Spring
2025-08-18 22:49:43.755 [main] DEBUG c.e.m.m.P.updateStatus - ==>  Preparing: UPDATE plugin_config SET enabled = ?, status = ?, modified_date = GETDATE() WHERE plugin_id = ?
2025-08-18 22:49:43.756 [main] DEBUG c.e.m.m.P.updateStatus - ==> Parameters: true(Boolean), LOADED(String), trade-plugin(String)
2025-08-18 22:49:43.761 [main] DEBUG c.e.m.m.P.updateStatus - <==    Updates: 1
2025-08-18 22:49:43.761 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b01cb8d]
2025-08-18 22:49:43.761 [main] INFO  c.e.m.service.PluginManagerService - Successfully loaded and initialized plugin: trade-plugin
2025-08-18 22:49:43.761 [main] INFO  c.e.m.service.PluginManagerService - Plugin initialization completed. Loaded 1 plugins
2025-08-18 22:49:44.264 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoint(s) beneath base path '/actuator'
2025-08-18 22:49:44.306 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8082 (http) with context path ''
2025-08-18 22:49:44.320 [scheduling-1] DEBUG c.e.m.service.PluginManagerService - Checking for plugin updates
2025-08-18 22:49:44.320 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 22:49:44.320 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64c36f9d] was not registered for synchronization because synchronization is not active
2025-08-18 22:49:44.321 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1778683253 wrapping ConnectionID:1 ClientConnectionId: 33b17196-9e85-4716-a07c-6fee8eb124c4] will not be managed by Spring
2025-08-18 22:49:44.321 [scheduling-1] DEBUG c.e.m.m.P.findByPluginId - ==>  Preparing: SELECT id, plugin_id, plugin_name, version, jar_file_name, main_class, description, author, vendor, supported_endpoints, configuration, enabled, priority, status, loaded_time, created_by, created_date, modified_by, modified_date FROM plugin_config WHERE plugin_id = ?
2025-08-18 22:49:44.322 [scheduling-1] DEBUG c.e.m.m.P.findByPluginId - ==> Parameters: trade-plugin(String)
2025-08-18 22:49:44.323 [main] INFO  c.e.middleware.EsbRouterApplication - Started EsbRouterApplication in 3.597 seconds (JVM running for 3.956)
2025-08-18 22:49:44.326 [scheduling-1] DEBUG c.e.m.m.P.findByPluginId - <==      Total: 1
2025-08-18 22:49:44.326 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64c36f9d]
2025-08-18 22:50:38.900 [http-nio-8082-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-18 22:50:38.900 [http-nio-8082-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-18 22:50:38.902 [http-nio-8082-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-08-18 22:50:39.089 [http-nio-8082-exec-2] INFO  c.e.m.controller.EsbRouterController - Received ESB request: branch=BRANCH001, endpoint=TRADE_SERVICE
2025-08-18 22:50:39.090 [http-nio-8082-exec-2] INFO  c.e.m.service.EsbRouterService - Processing request: requestId=ESB-f9cdc6f1-9541-4042-8d87-14b4e3689056, branch=BRANCH001, endpoint=TRADE_SERVICE
2025-08-18 22:50:39.123 [http-nio-8082-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 22:50:39.123 [http-nio-8082-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27e85e89] was not registered for synchronization because synchronization is not active
2025-08-18 22:50:39.126 [http-nio-8082-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1773800471 wrapping ConnectionID:1 ClientConnectionId: 33b17196-9e85-4716-a07c-6fee8eb124c4] will not be managed by Spring
2025-08-18 22:50:39.127 [http-nio-8082-exec-2] DEBUG c.e.m.m.R.findByBranchAndEndpoint - ==>  Preparing: SELECT id, branch_code, endpoint, method, plugin_id, target_url, headers, parameters, transformation_rule, enabled, priority, timeout, retry_count, description, created_by, created_date, modified_by, modified_date FROM route_config WHERE branch_code = ? AND endpoint = ? AND enabled = 1 ORDER BY priority DESC
2025-08-18 22:50:39.128 [http-nio-8082-exec-2] DEBUG c.e.m.m.R.findByBranchAndEndpoint - ==> Parameters: BRANCH001(String), TRADE_SERVICE(String)
2025-08-18 22:50:39.133 [http-nio-8082-exec-2] DEBUG c.e.m.m.R.findByBranchAndEndpoint - <==      Total: 0
2025-08-18 22:50:39.133 [http-nio-8082-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27e85e89]
2025-08-18 22:50:39.137 [http-nio-8082-exec-2] ERROR c.e.m.controller.EsbRouterController - Unexpected error in route endpoint
java.lang.NullPointerException: Cannot invoke "com.esb.middleware.model.EsbResponse.getStatus()" because "response" is null
	at com.esb.middleware.controller.EsbRouterController.mapResponseStatus(EsbRouterController.java:306)
	at com.esb.middleware.controller.EsbRouterController.routeRequest(EsbRouterController.java:68)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-08-18 22:52:24.123 [http-nio-8082-exec-4] INFO  c.e.m.controller.EsbRouterController - Received ESB request: branch=BRANCH001, endpoint=trade-inquiry
2025-08-18 22:52:24.123 [http-nio-8082-exec-4] INFO  c.e.m.service.EsbRouterService - Processing request: requestId=ESB-8bb0d559-8821-4911-a253-ed7769c09f34, branch=BRANCH001, endpoint=trade-inquiry
2025-08-18 22:52:24.123 [http-nio-8082-exec-4] INFO  o.s.s.a.AnnotationAsyncExecutionInterceptor - More than one TaskExecutor bean found within the context, and none is named 'taskExecutor'. Mark one of them as primary or name it 'taskExecutor' (possibly as an alias) in order to use it for async processing: [pluginExecutor, taskScheduler]
2025-08-18 22:52:24.123 [http-nio-8082-exec-4] INFO  com.esb.plugin.trade.TradePlugin - Processing trade request: requestId=ESB-8bb0d559-8821-4911-a253-ed7769c09f34, endpoint=trade-inquiry
2025-08-18 22:52:24.123 [http-nio-8082-exec-4] INFO  com.esb.plugin.trade.TradeService - Processing trade inquiry: requestId=ESB-8bb0d559-8821-4911-a253-ed7769c09f34
2025-08-18 22:52:24.140 [SimpleAsyncTaskExecutor-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 22:52:24.140 [SimpleAsyncTaskExecutor-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35b55258] was not registered for synchronization because synchronization is not active
2025-08-18 22:52:24.145 [http-nio-8082-exec-4] DEBUG com.esb.plugin.trade.TradeService - Calling trade ESB: url=http://trade-esb-server:8080/trade/inquiry, attempt=1
2025-08-18 22:52:24.156 [SimpleAsyncTaskExecutor-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1849106477 wrapping ConnectionID:1 ClientConnectionId: 33b17196-9e85-4716-a07c-6fee8eb124c4] will not be managed by Spring
2025-08-18 22:52:24.156 [SimpleAsyncTaskExecutor-1] DEBUG c.e.m.mapper.AuditLogMapper.insert - ==>  Preparing: INSERT INTO audit_log ( request_id, correlation_id, branch_code, endpoint, method, plugin_id, source_system, source_ip, request_payload, status, request_time, headers, parameters ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? )
2025-08-18 22:52:24.157 [SimpleAsyncTaskExecutor-1] DEBUG c.e.m.mapper.AuditLogMapper.insert - ==> Parameters: ESB-8bb0d559-8821-4911-a253-ed7769c09f34(String), CORR-001(String), BRANCH001(String), trade-inquiry(String), POST(String), trade-plugin(String), FRONTEND(String), 0:0:0:0:0:0:0:1(String), {"tradeId":"TRD123456","customerId":"CUST001"}(String), PROCESSING(String), 2025-08-18T22:52:24.140487300(LocalDateTime), null, {"retryCount":"3","targetUrl":"http://trade-esb-server:8080/trade/inquiry","timeout":"30000"}(String)
2025-08-18 22:52:24.161 [SimpleAsyncTaskExecutor-1] DEBUG c.e.m.mapper.AuditLogMapper.insert - <==    Updates: 1
2025-08-18 22:52:24.161 [SimpleAsyncTaskExecutor-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35b55258]
2025-08-18 22:52:24.161 [SimpleAsyncTaskExecutor-1] DEBUG c.e.middleware.service.AuditService - Logged request initiation for requestId: ESB-8bb0d559-8821-4911-a253-ed7769c09f34
2025-08-18 22:52:25.476 [http-nio-8082-exec-4] WARN  com.esb.plugin.trade.TradeService - Trade ESB call failed, attempt 1/3: No such host is known (trade-esb-server)
2025-08-18 22:52:26.489 [http-nio-8082-exec-4] DEBUG com.esb.plugin.trade.TradeService - Calling trade ESB: url=http://trade-esb-server:8080/trade/inquiry, attempt=2
2025-08-18 22:52:26.490 [http-nio-8082-exec-4] WARN  com.esb.plugin.trade.TradeService - Trade ESB call failed, attempt 2/3: trade-esb-server
2025-08-18 22:52:28.505 [http-nio-8082-exec-4] DEBUG com.esb.plugin.trade.TradeService - Calling trade ESB: url=http://trade-esb-server:8080/trade/inquiry, attempt=3
2025-08-18 22:52:28.506 [http-nio-8082-exec-4] WARN  com.esb.plugin.trade.TradeService - Trade ESB call failed, attempt 3/3: trade-esb-server
2025-08-18 22:52:28.509 [http-nio-8082-exec-4] ERROR com.esb.plugin.trade.TradePlugin - Error processing trade request: requestId=ESB-8bb0d559-8821-4911-a253-ed7769c09f34
com.esb.plugin.PluginException: All 3 attempts to call trade ESB failed. Last error: trade-esb-server
	at com.esb.plugin.trade.TradeService.callTradeESB(TradeService.java:205)
	at com.esb.plugin.trade.TradeService.processTradeInquiry(TradeService.java:75)
	at com.esb.plugin.trade.TradePlugin.process(TradePlugin.java:58)
	at com.esb.middleware.service.EsbRouterService.processRequest(EsbRouterService.java:92)
	at com.esb.middleware.controller.EsbRouterController.routeRequest(EsbRouterController.java:65)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.net.UnknownHostException: trade-esb-server
	at java.base/java.net.InetAddress$CachedAddresses.get(InetAddress.java:801)
	at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1532)
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1384)
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1305)
	at org.apache.http.impl.conn.SystemDefaultDnsResolver.resolve(SystemDefaultDnsResolver.java:45)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:112)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108)
	at com.esb.plugin.trade.TradeService.callTradeESB(TradeService.java:168)
	... 58 common frames omitted
2025-08-18 22:52:28.509 [http-nio-8082-exec-4] INFO  c.e.m.service.EsbRouterService - Successfully processed request: requestId=ESB-8bb0d559-8821-4911-a253-ed7769c09f34, status=ERROR, time=4386ms
2025-08-18 22:52:28.509 [SimpleAsyncTaskExecutor-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 22:52:28.509 [SimpleAsyncTaskExecutor-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65f4281b] was not registered for synchronization because synchronization is not active
2025-08-18 22:52:28.515 [SimpleAsyncTaskExecutor-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@553036481 wrapping ConnectionID:1 ClientConnectionId: 33b17196-9e85-4716-a07c-6fee8eb124c4] will not be managed by Spring
2025-08-18 22:52:28.515 [SimpleAsyncTaskExecutor-2] DEBUG c.e.m.m.A.updateResponse - ==>  Preparing: UPDATE audit_log SET response_payload = ?, status = ?, status_code = ?, error_code = ?, error_message = ?, processing_time = ?, response_time = ? WHERE request_id = ?
2025-08-18 22:52:28.515 [SimpleAsyncTaskExecutor-2] DEBUG c.e.m.m.A.updateResponse - ==> Parameters: null, ERROR(String), 500(String), PROCESSING_ERROR(String), Trade processing failed: All 3 attempts to call trade ESB failed. Last error: trade-esb-server(String), 4386(Long), 2025-08-18T22:52:28.509093600(LocalDateTime), ESB-8bb0d559-8821-4911-a253-ed7769c09f34(String)
2025-08-18 22:52:28.523 [SimpleAsyncTaskExecutor-2] DEBUG c.e.m.m.A.updateResponse - <==    Updates: 1
2025-08-18 22:52:28.523 [SimpleAsyncTaskExecutor-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65f4281b]
2025-08-18 22:52:28.523 [SimpleAsyncTaskExecutor-2] DEBUG c.e.middleware.service.AuditService - Logged response completion for requestId: ESB-8bb0d559-8821-4911-a253-ed7769c09f34
2025-08-18 22:54:44.330 [scheduling-1] DEBUG c.e.m.service.PluginManagerService - Checking for plugin updates
2025-08-18 22:54:44.330 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 22:54:44.330 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5479ba33] was not registered for synchronization because synchronization is not active
2025-08-18 22:54:44.346 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@442034924 wrapping ConnectionID:1 ClientConnectionId: 33b17196-9e85-4716-a07c-6fee8eb124c4] will not be managed by Spring
2025-08-18 22:54:44.346 [scheduling-1] DEBUG c.e.m.m.P.findByPluginId - ==>  Preparing: SELECT id, plugin_id, plugin_name, version, jar_file_name, main_class, description, author, vendor, supported_endpoints, configuration, enabled, priority, status, loaded_time, created_by, created_date, modified_by, modified_date FROM plugin_config WHERE plugin_id = ?
2025-08-18 22:54:44.346 [scheduling-1] DEBUG c.e.m.m.P.findByPluginId - ==> Parameters: trade-plugin(String)
2025-08-18 22:54:44.351 [scheduling-1] DEBUG c.e.m.m.P.findByPluginId - <==      Total: 1
2025-08-18 22:54:44.351 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5479ba33]
2025-08-18 22:56:34.516 [http-nio-8082-exec-6] INFO  c.e.m.controller.EsbRouterController - Received ESB request: branch=BRANCH001, endpoint=trade-inquiry
2025-08-18 22:56:34.516 [http-nio-8082-exec-6] INFO  c.e.m.service.EsbRouterService - Processing request: requestId=ESB-8812da37-2275-4bdf-a9ab-6d2cc43a68f3, branch=BRANCH001, endpoint=trade-inquiry
2025-08-18 22:56:34.516 [http-nio-8082-exec-6] INFO  com.esb.plugin.trade.TradePlugin - Processing trade request: requestId=ESB-8812da37-2275-4bdf-a9ab-6d2cc43a68f3, endpoint=trade-inquiry
2025-08-18 22:56:34.516 [http-nio-8082-exec-6] INFO  com.esb.plugin.trade.TradeService - Processing trade inquiry: requestId=ESB-8812da37-2275-4bdf-a9ab-6d2cc43a68f3
2025-08-18 22:56:34.516 [SimpleAsyncTaskExecutor-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 22:56:34.516 [SimpleAsyncTaskExecutor-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47adae68] was not registered for synchronization because synchronization is not active
2025-08-18 22:56:34.516 [http-nio-8082-exec-6] DEBUG com.esb.plugin.trade.TradeService - Calling trade ESB: url=http://trade-esb-server:8080/trade/inquiry, attempt=1
2025-08-18 22:56:34.527 [SimpleAsyncTaskExecutor-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1231702253 wrapping ConnectionID:1 ClientConnectionId: 33b17196-9e85-4716-a07c-6fee8eb124c4] will not be managed by Spring
2025-08-18 22:56:34.527 [SimpleAsyncTaskExecutor-3] DEBUG c.e.m.mapper.AuditLogMapper.insert - ==>  Preparing: INSERT INTO audit_log ( request_id, correlation_id, branch_code, endpoint, method, plugin_id, source_system, source_ip, request_payload, status, request_time, headers, parameters ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? )
2025-08-18 22:56:34.528 [SimpleAsyncTaskExecutor-3] DEBUG c.e.m.mapper.AuditLogMapper.insert - ==> Parameters: ESB-8812da37-2275-4bdf-a9ab-6d2cc43a68f3(String), CORR-001(String), BRANCH001(String), trade-inquiry(String), POST(String), trade-plugin(String), FRONTEND(String), 0:0:0:0:0:0:0:1(String), {"tradeId":"TRD123456","customerId":"CUST001"}(String), PROCESSING(String), 2025-08-18T22:56:34.516071300(LocalDateTime), null, {"retryCount":"3","targetUrl":"http://trade-esb-server:8080/trade/inquiry","timeout":"30000"}(String)
2025-08-18 22:56:34.532 [SimpleAsyncTaskExecutor-3] DEBUG c.e.m.mapper.AuditLogMapper.insert - <==    Updates: 1
2025-08-18 22:56:34.532 [SimpleAsyncTaskExecutor-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47adae68]
2025-08-18 22:56:34.532 [SimpleAsyncTaskExecutor-3] DEBUG c.e.middleware.service.AuditService - Logged request initiation for requestId: ESB-8812da37-2275-4bdf-a9ab-6d2cc43a68f3
2025-08-18 22:56:35.801 [http-nio-8082-exec-6] WARN  com.esb.plugin.trade.TradeService - Trade ESB call failed, attempt 1/3: No such host is known (trade-esb-server)
2025-08-18 22:56:36.802 [http-nio-8082-exec-6] DEBUG com.esb.plugin.trade.TradeService - Calling trade ESB: url=http://trade-esb-server:8080/trade/inquiry, attempt=2
2025-08-18 22:56:36.805 [http-nio-8082-exec-6] WARN  com.esb.plugin.trade.TradeService - Trade ESB call failed, attempt 2/3: trade-esb-server
2025-08-18 22:56:38.818 [http-nio-8082-exec-6] DEBUG com.esb.plugin.trade.TradeService - Calling trade ESB: url=http://trade-esb-server:8080/trade/inquiry, attempt=3
2025-08-18 22:56:38.819 [http-nio-8082-exec-6] WARN  com.esb.plugin.trade.TradeService - Trade ESB call failed, attempt 3/3: trade-esb-server
2025-08-18 22:56:38.823 [http-nio-8082-exec-6] ERROR com.esb.plugin.trade.TradePlugin - Error processing trade request: requestId=ESB-8812da37-2275-4bdf-a9ab-6d2cc43a68f3
com.esb.plugin.PluginException: All 3 attempts to call trade ESB failed. Last error: trade-esb-server
	at com.esb.plugin.trade.TradeService.callTradeESB(TradeService.java:205)
	at com.esb.plugin.trade.TradeService.processTradeInquiry(TradeService.java:75)
	at com.esb.plugin.trade.TradePlugin.process(TradePlugin.java:58)
	at com.esb.middleware.service.EsbRouterService.processRequest(EsbRouterService.java:92)
	at com.esb.middleware.controller.EsbRouterController.routeRequest(EsbRouterController.java:65)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.net.UnknownHostException: trade-esb-server
	at java.base/java.net.InetAddress$CachedAddresses.get(InetAddress.java:801)
	at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1532)
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1384)
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1305)
	at org.apache.http.impl.conn.SystemDefaultDnsResolver.resolve(SystemDefaultDnsResolver.java:45)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:112)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108)
	at com.esb.plugin.trade.TradeService.callTradeESB(TradeService.java:168)
	... 58 common frames omitted
2025-08-18 22:56:38.825 [http-nio-8082-exec-6] INFO  c.e.m.service.EsbRouterService - Successfully processed request: requestId=ESB-8812da37-2275-4bdf-a9ab-6d2cc43a68f3, status=ERROR, time=4309ms
2025-08-18 22:56:38.825 [SimpleAsyncTaskExecutor-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 22:56:38.825 [SimpleAsyncTaskExecutor-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44c715d8] was not registered for synchronization because synchronization is not active
2025-08-18 22:56:38.826 [SimpleAsyncTaskExecutor-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1241572144 wrapping ConnectionID:1 ClientConnectionId: 33b17196-9e85-4716-a07c-6fee8eb124c4] will not be managed by Spring
2025-08-18 22:56:38.826 [SimpleAsyncTaskExecutor-4] DEBUG c.e.m.m.A.updateResponse - ==>  Preparing: UPDATE audit_log SET response_payload = ?, status = ?, status_code = ?, error_code = ?, error_message = ?, processing_time = ?, response_time = ? WHERE request_id = ?
2025-08-18 22:56:38.827 [SimpleAsyncTaskExecutor-4] DEBUG c.e.m.m.A.updateResponse - ==> Parameters: null, ERROR(String), 500(String), PROCESSING_ERROR(String), Trade processing failed: All 3 attempts to call trade ESB failed. Last error: trade-esb-server(String), 4309(Long), 2025-08-18T22:56:38.825123200(LocalDateTime), ESB-8812da37-2275-4bdf-a9ab-6d2cc43a68f3(String)
2025-08-18 22:56:38.831 [SimpleAsyncTaskExecutor-4] DEBUG c.e.m.m.A.updateResponse - <==    Updates: 1
2025-08-18 22:56:38.832 [SimpleAsyncTaskExecutor-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44c715d8]
2025-08-18 22:56:38.832 [SimpleAsyncTaskExecutor-4] DEBUG c.e.middleware.service.AuditService - Logged response completion for requestId: ESB-8812da37-2275-4bdf-a9ab-6d2cc43a68f3
2025-08-18 22:59:44.360 [scheduling-1] DEBUG c.e.m.service.PluginManagerService - Checking for plugin updates
2025-08-18 22:59:44.360 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 22:59:44.360 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cf28926] was not registered for synchronization because synchronization is not active
2025-08-18 22:59:44.377 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1259763713 wrapping ConnectionID:1 ClientConnectionId: 33b17196-9e85-4716-a07c-6fee8eb124c4] will not be managed by Spring
2025-08-18 22:59:44.378 [scheduling-1] DEBUG c.e.m.m.P.findByPluginId - ==>  Preparing: SELECT id, plugin_id, plugin_name, version, jar_file_name, main_class, description, author, vendor, supported_endpoints, configuration, enabled, priority, status, loaded_time, created_by, created_date, modified_by, modified_date FROM plugin_config WHERE plugin_id = ?
2025-08-18 22:59:44.378 [scheduling-1] DEBUG c.e.m.m.P.findByPluginId - ==> Parameters: trade-plugin(String)
2025-08-18 22:59:44.383 [scheduling-1] DEBUG c.e.m.m.P.findByPluginId - <==      Total: 1
2025-08-18 22:59:44.385 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cf28926]
2025-08-18 23:04:44.399 [scheduling-1] DEBUG c.e.m.service.PluginManagerService - Checking for plugin updates
2025-08-18 23:04:44.400 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 23:04:44.400 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2249494c] was not registered for synchronization because synchronization is not active
2025-08-18 23:04:44.415 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@104496689 wrapping ConnectionID:1 ClientConnectionId: 33b17196-9e85-4716-a07c-6fee8eb124c4] will not be managed by Spring
2025-08-18 23:04:44.415 [scheduling-1] DEBUG c.e.m.m.P.findByPluginId - ==>  Preparing: SELECT id, plugin_id, plugin_name, version, jar_file_name, main_class, description, author, vendor, supported_endpoints, configuration, enabled, priority, status, loaded_time, created_by, created_date, modified_by, modified_date FROM plugin_config WHERE plugin_id = ?
2025-08-18 23:04:44.416 [scheduling-1] DEBUG c.e.m.m.P.findByPluginId - ==> Parameters: trade-plugin(String)
2025-08-18 23:04:44.419 [scheduling-1] DEBUG c.e.m.m.P.findByPluginId - <==      Total: 1
2025-08-18 23:04:44.419 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2249494c]
2025-08-18 23:09:44.432 [scheduling-1] DEBUG c.e.m.service.PluginManagerService - Checking for plugin updates
2025-08-18 23:09:44.433 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-18 23:09:44.433 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@271ceb8] was not registered for synchronization because synchronization is not active
2025-08-18 23:09:44.448 [scheduling-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@194845935 wrapping ConnectionID:1 ClientConnectionId: 33b17196-9e85-4716-a07c-6fee8eb124c4] will not be managed by Spring
2025-08-18 23:09:44.449 [scheduling-1] DEBUG c.e.m.m.P.findByPluginId - ==>  Preparing: SELECT id, plugin_id, plugin_name, version, jar_file_name, main_class, description, author, vendor, supported_endpoints, configuration, enabled, priority, status, loaded_time, created_by, created_date, modified_by, modified_date FROM plugin_config WHERE plugin_id = ?
2025-08-18 23:09:44.449 [scheduling-1] DEBUG c.e.m.m.P.findByPluginId - ==> Parameters: trade-plugin(String)
2025-08-18 23:09:44.450 [scheduling-1] DEBUG c.e.m.m.P.findByPluginId - <==      Total: 1
2025-08-18 23:09:44.450 [scheduling-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@271ceb8]
2025-08-30 14:22:08.894 [main] INFO  c.e.middleware.EsbRouterApplication - Starting EsbRouterApplication using Java 21.0.2 on DESKTOP-6CLQBDH with PID 9260 (C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes started by Admin in C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main)
2025-08-30 14:22:08.898 [main] DEBUG c.e.middleware.EsbRouterApplication - Running with Spring Boot v2.7.14, Spring v5.3.29
2025-08-30 14:22:08.898 [main] INFO  c.e.middleware.EsbRouterApplication - No active profile set, falling back to 1 default profile: "dev"
2025-08-30 14:22:09.751 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\AuditLogMapper.class]
2025-08-30 14:22:09.751 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\PluginConfigMapper.class]
2025-08-30 14:22:09.751 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\RouteConfigMapper.class]
2025-08-30 14:22:09.752 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'auditLogMapper' and 'com.esb.middleware.mapper.AuditLogMapper' mapperInterface
2025-08-30 14:22:09.756 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'auditLogMapper'.
2025-08-30 14:22:09.756 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'pluginConfigMapper' and 'com.esb.middleware.mapper.PluginConfigMapper' mapperInterface
2025-08-30 14:22:09.756 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'pluginConfigMapper'.
2025-08-30 14:22:09.758 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'routeConfigMapper' and 'com.esb.middleware.mapper.RouteConfigMapper' mapperInterface
2025-08-30 14:22:09.758 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'routeConfigMapper'.
2025-08-30 14:22:10.254 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8082 (http)
2025-08-30 14:22:10.255 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-30 14:22:10.255 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
2025-08-30 14:22:10.375 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-30 14:22:10.376 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1418 ms
2025-08-30 14:22:10.566 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Starting...
2025-08-30 14:22:10.955 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Start completed.
2025-08-30 14:22:11.269 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed configuration file: 'class path resource [mybatis-config.xml]'
2025-08-30 14:22:11.320 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\mappers\AuditLogMapper.xml]'
2025-08-30 14:22:11.347 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\mappers\PluginConfigMapper.xml]'
2025-08-30 14:22:11.363 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\mappers\RouteConfigMapper.xml]'
2025-08-30 14:22:11.387 [main] INFO  c.e.m.service.ConfigurationService - Initializing route configuration cache
2025-08-30 14:22:11.388 [main] INFO  c.e.m.service.ConfigurationService - Refreshing route configuration cache
2025-08-30 14:22:11.393 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-30 14:22:11.398 [main] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6629643d] was not registered for synchronization because synchronization is not active
2025-08-30 14:22:11.407 [main] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@319618119 wrapping ConnectionID:1 ClientConnectionId: 7bc561d0-d761-4415-a3ae-f813dddb512b] will not be managed by Spring
2025-08-30 14:22:11.412 [main] DEBUG c.e.m.m.R.findAllEnabled - ==>  Preparing: SELECT id, branch_code, endpoint, method, plugin_id, target_url, headers, parameters, transformation_rule, enabled, priority, timeout, retry_count, description, created_by, created_date, modified_by, modified_date FROM route_config WHERE enabled = 1 ORDER BY branch_code, priority DESC, endpoint
2025-08-30 14:22:11.442 [main] DEBUG c.e.m.m.R.findAllEnabled - ==> Parameters: 
2025-08-30 14:22:11.507 [main] DEBUG c.e.m.m.R.findAllEnabled - <==      Total: 6
2025-08-30 14:22:11.507 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6629643d]
2025-08-30 14:22:11.518 [main] INFO  c.e.m.service.ConfigurationService - Route configuration cache refreshed with 6 routes
2025-08-30 14:22:11.518 [main] INFO  c.e.m.service.ConfigurationService - Route configuration cache initialized with 6 routes
2025-08-30 14:22:11.561 [main] INFO  c.e.m.service.PluginManagerService - Initializing plugin manager and loading plugins from database
2025-08-30 14:22:11.561 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-30 14:22:11.561 [main] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4703c998] was not registered for synchronization because synchronization is not active
2025-08-30 14:22:11.562 [main] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1897292616 wrapping ConnectionID:1 ClientConnectionId: 7bc561d0-d761-4415-a3ae-f813dddb512b] will not be managed by Spring
2025-08-30 14:22:11.562 [main] DEBUG c.e.m.m.P.findAllEnabled - ==>  Preparing: SELECT id, plugin_id, plugin_name, version, jar_file_name, main_class, description, author, vendor, supported_endpoints, configuration, enabled, priority, status, loaded_time, created_by, created_date, modified_by, modified_date FROM plugin_config WHERE enabled = 1 ORDER BY priority DESC, plugin_name
2025-08-30 14:22:11.562 [main] DEBUG c.e.m.m.P.findAllEnabled - ==> Parameters: 
2025-08-30 14:22:11.574 [main] DEBUG c.e.m.m.P.findAllEnabled - <==      Total: 0
2025-08-30 14:22:11.574 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4703c998]
2025-08-30 14:22:11.574 [main] INFO  c.e.m.service.PluginManagerService - Found 0 enabled plugins in database
2025-08-30 14:22:11.574 [main] INFO  c.e.m.service.PluginManagerService - Plugin initialization completed. Loaded 0 plugins
2025-08-30 14:22:12.077 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoint(s) beneath base path '/actuator'
2025-08-30 14:22:12.119 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8082 (http) with context path ''
2025-08-30 14:22:12.131 [scheduling-1] DEBUG c.e.m.service.PluginManagerService - Checking for plugin updates
2025-08-30 14:22:12.142 [main] INFO  c.e.middleware.EsbRouterApplication - Started EsbRouterApplication in 3.718 seconds (JVM running for 4.099)
2025-08-30 14:27:12.152 [scheduling-1] DEBUG c.e.m.service.PluginManagerService - Checking for plugin updates
2025-08-30 14:32:12.169 [scheduling-1] DEBUG c.e.m.service.PluginManagerService - Checking for plugin updates
2025-08-30 14:37:12.181 [scheduling-1] DEBUG c.e.m.service.PluginManagerService - Checking for plugin updates
2025-08-30 14:42:12.161 [scheduling-1] DEBUG c.e.m.service.PluginManagerService - Checking for plugin updates
2025-08-30 14:47:12.142 [scheduling-1] DEBUG c.e.m.service.PluginManagerService - Checking for plugin updates
2025-08-30 14:52:12.110 [scheduling-1] DEBUG c.e.m.service.PluginManagerService - Checking for plugin updates
2025-08-30 16:11:55.382 [ESB-HikariCP housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - ESB-HikariCP - Thread starvation or clock leap detected (housekeeper delta=1h19m44s82ms776s400ns).
2025-08-30 16:16:26.101 [scheduling-1] DEBUG c.e.m.service.PluginManagerService - Checking for plugin updates
2025-08-30 16:21:26.113 [scheduling-1] DEBUG c.e.m.service.PluginManagerService - Checking for plugin updates
2025-08-30 16:26:26.127 [scheduling-1] DEBUG c.e.m.service.PluginManagerService - Checking for plugin updates
2025-08-30 16:31:16.779 [ESB-HikariCP housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - ESB-HikariCP - Thread starvation or clock leap detected (housekeeper delta=1m51s120ms38s800ns).
2025-08-30 16:32:47.143 [scheduling-1] DEBUG c.e.m.service.PluginManagerService - Checking for plugin updates
2025-08-30 16:37:47.146 [scheduling-1] DEBUG c.e.m.service.PluginManagerService - Checking for plugin updates
2025-08-30 16:42:47.158 [scheduling-1] DEBUG c.e.m.service.PluginManagerService - Checking for plugin updates
2025-08-30 17:12:31.462 [main] INFO  c.e.middleware.EsbRouterApplication - Starting EsbRouterApplication using Java 21.0.2 on DESKTOP-6CLQBDH with PID 20920 (C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes started by Admin in C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main)
2025-08-30 17:12:31.464 [main] DEBUG c.e.middleware.EsbRouterApplication - Running with Spring Boot v2.7.14, Spring v5.3.29
2025-08-30 17:12:31.465 [main] INFO  c.e.middleware.EsbRouterApplication - No active profile set, falling back to 1 default profile: "dev"
2025-08-30 17:12:32.324 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\AuditLogMapper.class]
2025-08-30 17:12:32.324 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\BranchServiceConfigMapper.class]
2025-08-30 17:12:32.324 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\PluginConfigMapper.class]
2025-08-30 17:12:32.324 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\RouteConfigMapper.class]
2025-08-30 17:12:32.325 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'auditLogMapper' and 'com.esb.middleware.mapper.AuditLogMapper' mapperInterface
2025-08-30 17:12:32.329 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'auditLogMapper'.
2025-08-30 17:12:32.329 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'branchServiceConfigMapper' and 'com.esb.middleware.mapper.BranchServiceConfigMapper' mapperInterface
2025-08-30 17:12:32.329 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'branchServiceConfigMapper'.
2025-08-30 17:12:32.329 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'pluginConfigMapper' and 'com.esb.middleware.mapper.PluginConfigMapper' mapperInterface
2025-08-30 17:12:32.330 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'pluginConfigMapper'.
2025-08-30 17:12:32.330 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'routeConfigMapper' and 'com.esb.middleware.mapper.RouteConfigMapper' mapperInterface
2025-08-30 17:12:32.331 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'routeConfigMapper'.
2025-08-30 17:12:32.855 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8082 (http)
2025-08-30 17:12:32.867 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-30 17:12:32.868 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
2025-08-30 17:12:32.964 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-30 17:12:32.964 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1443 ms
2025-08-30 17:12:33.146 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Starting...
2025-08-30 17:12:33.495 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Start completed.
2025-08-30 17:12:33.770 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed configuration file: 'class path resource [mybatis-config.xml]'
2025-08-30 17:12:33.830 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\mappers\AuditLogMapper.xml]'
2025-08-30 17:12:33.846 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\mappers\PluginConfigMapper.xml]'
2025-08-30 17:12:33.862 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\mappers\RouteConfigMapper.xml]'
2025-08-30 17:12:33.886 [main] INFO  c.e.m.s.BranchServiceConfigService - Initializing branch service configuration cache
2025-08-30 17:12:33.888 [main] INFO  c.e.m.s.BranchServiceConfigService - Refreshing branch service configuration cache
2025-08-30 17:12:33.891 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'esbDynamicRouterController': Unsatisfied dependency expressed through field 'dynamicRouterService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'esbDynamicRouterService': Unsatisfied dependency expressed through field 'branchServiceConfigService'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'branchServiceConfigService': Invocation of init method failed; nested exception is org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.esb.middleware.mapper.BranchServiceConfigMapper.findAllEnabled
2025-08-30 17:12:33.892 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Shutdown initiated...
2025-08-30 17:12:33.897 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Shutdown completed.
2025-08-30 17:12:33.902 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-30 17:12:33.915 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-30 17:12:33.939 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'esbDynamicRouterController': Unsatisfied dependency expressed through field 'dynamicRouterService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'esbDynamicRouterService': Unsatisfied dependency expressed through field 'branchServiceConfigService'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'branchServiceConfigService': Invocation of init method failed; nested exception is org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.esb.middleware.mapper.BranchServiceConfigMapper.findAllEnabled
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:662)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:642)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:921)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)
	at com.esb.middleware.EsbRouterApplication.main(EsbRouterApplication.java:24)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'esbDynamicRouterService': Unsatisfied dependency expressed through field 'branchServiceConfigService'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'branchServiceConfigService': Invocation of init method failed; nested exception is org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.esb.middleware.mapper.BranchServiceConfigMapper.findAllEnabled
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:662)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:642)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	... 20 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'branchServiceConfigService': Invocation of init method failed; nested exception is org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.esb.middleware.mapper.BranchServiceConfigMapper.findAllEnabled
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:160)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	... 34 common frames omitted
Caused by: org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.esb.middleware.mapper.BranchServiceConfigMapper.findAllEnabled
	at org.apache.ibatis.binding.MapperMethod$SqlCommand.<init>(MapperMethod.java:229)
	at org.apache.ibatis.binding.MapperMethod.<init>(MapperMethod.java:53)
	at org.apache.ibatis.binding.MapperProxy.lambda$cachedInvoker$0(MapperProxy.java:96)
	at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708)
	at org.apache.ibatis.util.MapUtil.computeIfAbsent(MapUtil.java:36)
	at org.apache.ibatis.binding.MapperProxy.cachedInvoker(MapperProxy.java:94)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy91.findAllEnabled(Unknown Source)
	at com.esb.middleware.service.BranchServiceConfigService.refreshCache(BranchServiceConfigService.java:168)
	at com.esb.middleware.service.BranchServiceConfigService.initializeCache(BranchServiceConfigService.java:32)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:333)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:157)
	... 46 common frames omitted
2025-08-30 17:14:52.374 [main] INFO  c.e.middleware.EsbRouterApplication - Starting EsbRouterApplication using Java 21.0.2 on DESKTOP-6CLQBDH with PID 22760 (C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes started by Admin in C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main)
2025-08-30 17:14:52.375 [main] DEBUG c.e.middleware.EsbRouterApplication - Running with Spring Boot v2.7.14, Spring v5.3.29
2025-08-30 17:14:52.377 [main] INFO  c.e.middleware.EsbRouterApplication - No active profile set, falling back to 1 default profile: "dev"
2025-08-30 17:14:53.253 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\AuditLogMapper.class]
2025-08-30 17:14:53.253 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\BranchServiceConfigMapper.class]
2025-08-30 17:14:53.254 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\PluginConfigMapper.class]
2025-08-30 17:14:53.254 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\RouteConfigMapper.class]
2025-08-30 17:14:53.255 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'auditLogMapper' and 'com.esb.middleware.mapper.AuditLogMapper' mapperInterface
2025-08-30 17:14:53.258 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'auditLogMapper'.
2025-08-30 17:14:53.258 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'branchServiceConfigMapper' and 'com.esb.middleware.mapper.BranchServiceConfigMapper' mapperInterface
2025-08-30 17:14:53.259 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'branchServiceConfigMapper'.
2025-08-30 17:14:53.259 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'pluginConfigMapper' and 'com.esb.middleware.mapper.PluginConfigMapper' mapperInterface
2025-08-30 17:14:53.260 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'pluginConfigMapper'.
2025-08-30 17:14:53.260 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'routeConfigMapper' and 'com.esb.middleware.mapper.RouteConfigMapper' mapperInterface
2025-08-30 17:14:53.260 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'routeConfigMapper'.
2025-08-30 17:14:53.770 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8082 (http)
2025-08-30 17:14:53.782 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-30 17:14:53.782 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
2025-08-30 17:14:53.885 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-30 17:14:53.885 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1454 ms
2025-08-30 17:14:54.058 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Starting...
2025-08-30 17:14:54.364 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Start completed.
2025-08-30 17:14:54.652 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed configuration file: 'class path resource [mybatis-config.xml]'
2025-08-30 17:14:54.720 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\mappers\AuditLogMapper.xml]'
2025-08-30 17:14:54.736 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\mappers\PluginConfigMapper.xml]'
2025-08-30 17:14:54.752 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\mappers\RouteConfigMapper.xml]'
2025-08-30 17:14:54.777 [main] INFO  c.e.m.s.BranchServiceConfigService - Initializing branch service configuration cache
2025-08-30 17:14:54.777 [main] INFO  c.e.m.s.BranchServiceConfigService - Refreshing branch service configuration cache
2025-08-30 17:14:54.781 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'esbDynamicRouterController': Unsatisfied dependency expressed through field 'dynamicRouterService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'esbDynamicRouterService': Unsatisfied dependency expressed through field 'branchServiceConfigService'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'branchServiceConfigService': Invocation of init method failed; nested exception is org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.esb.middleware.mapper.BranchServiceConfigMapper.findAllEnabled
2025-08-30 17:14:54.781 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Shutdown initiated...
2025-08-30 17:14:54.784 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Shutdown completed.
2025-08-30 17:14:54.788 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-30 17:14:54.801 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-30 17:14:54.822 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'esbDynamicRouterController': Unsatisfied dependency expressed through field 'dynamicRouterService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'esbDynamicRouterService': Unsatisfied dependency expressed through field 'branchServiceConfigService'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'branchServiceConfigService': Invocation of init method failed; nested exception is org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.esb.middleware.mapper.BranchServiceConfigMapper.findAllEnabled
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:662)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:642)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:921)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)
	at com.esb.middleware.EsbRouterApplication.main(EsbRouterApplication.java:24)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'esbDynamicRouterService': Unsatisfied dependency expressed through field 'branchServiceConfigService'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'branchServiceConfigService': Invocation of init method failed; nested exception is org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.esb.middleware.mapper.BranchServiceConfigMapper.findAllEnabled
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:662)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:642)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	... 20 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'branchServiceConfigService': Invocation of init method failed; nested exception is org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.esb.middleware.mapper.BranchServiceConfigMapper.findAllEnabled
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:160)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	... 34 common frames omitted
Caused by: org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.esb.middleware.mapper.BranchServiceConfigMapper.findAllEnabled
	at org.apache.ibatis.binding.MapperMethod$SqlCommand.<init>(MapperMethod.java:229)
	at org.apache.ibatis.binding.MapperMethod.<init>(MapperMethod.java:53)
	at org.apache.ibatis.binding.MapperProxy.lambda$cachedInvoker$0(MapperProxy.java:96)
	at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708)
	at org.apache.ibatis.util.MapUtil.computeIfAbsent(MapUtil.java:36)
	at org.apache.ibatis.binding.MapperProxy.cachedInvoker(MapperProxy.java:94)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy91.findAllEnabled(Unknown Source)
	at com.esb.middleware.service.BranchServiceConfigService.refreshCache(BranchServiceConfigService.java:168)
	at com.esb.middleware.service.BranchServiceConfigService.initializeCache(BranchServiceConfigService.java:32)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:333)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:157)
	... 46 common frames omitted
2025-08-30 18:42:25.545 [main] INFO  c.e.middleware.EsbRouterApplication - Starting EsbRouterApplication using Java 21.0.2 on DESKTOP-6CLQBDH with PID 24792 (C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes started by Admin in C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main)
2025-08-30 18:42:25.548 [main] DEBUG c.e.middleware.EsbRouterApplication - Running with Spring Boot v2.7.14, Spring v5.3.29
2025-08-30 18:42:25.548 [main] INFO  c.e.middleware.EsbRouterApplication - No active profile set, falling back to 1 default profile: "dev"
2025-08-30 18:42:26.548 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\AuditLogMapper.class]
2025-08-30 18:42:26.549 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\BranchServiceConfigMapper.class]
2025-08-30 18:42:26.549 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\PluginConfigMapper.class]
2025-08-30 18:42:26.549 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\RouteConfigMapper.class]
2025-08-30 18:42:26.550 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'auditLogMapper' and 'com.esb.middleware.mapper.AuditLogMapper' mapperInterface
2025-08-30 18:42:26.554 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'auditLogMapper'.
2025-08-30 18:42:26.554 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'branchServiceConfigMapper' and 'com.esb.middleware.mapper.BranchServiceConfigMapper' mapperInterface
2025-08-30 18:42:26.554 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'branchServiceConfigMapper'.
2025-08-30 18:42:26.554 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'pluginConfigMapper' and 'com.esb.middleware.mapper.PluginConfigMapper' mapperInterface
2025-08-30 18:42:26.556 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'pluginConfigMapper'.
2025-08-30 18:42:26.556 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'routeConfigMapper' and 'com.esb.middleware.mapper.RouteConfigMapper' mapperInterface
2025-08-30 18:42:26.556 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'routeConfigMapper'.
2025-08-30 18:42:27.090 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8082 (http)
2025-08-30 18:42:27.092 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-30 18:42:27.101 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
2025-08-30 18:42:27.227 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-30 18:42:27.227 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1628 ms
2025-08-30 18:42:27.395 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Starting...
2025-08-30 18:42:27.769 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Start completed.
2025-08-30 18:42:28.032 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed configuration file: 'class path resource [mybatis-config.xml]'
2025-08-30 18:42:28.082 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\mappers\AuditLogMapper.xml]'
2025-08-30 18:42:28.105 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\mappers\PluginConfigMapper.xml]'
2025-08-30 18:42:28.120 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\mappers\RouteConfigMapper.xml]'
2025-08-30 18:42:28.144 [main] INFO  c.e.m.s.BranchServiceConfigService - Initializing branch service configuration cache
2025-08-30 18:42:28.144 [main] INFO  c.e.m.s.BranchServiceConfigService - Refreshing branch service configuration cache
2025-08-30 18:42:28.150 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'esbDynamicRouterController': Unsatisfied dependency expressed through field 'dynamicRouterService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'esbDynamicRouterService': Unsatisfied dependency expressed through field 'branchServiceConfigService'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'branchServiceConfigService': Invocation of init method failed; nested exception is org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.esb.middleware.mapper.BranchServiceConfigMapper.findAllEnabled
2025-08-30 18:42:28.151 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Shutdown initiated...
2025-08-30 18:42:28.153 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Shutdown completed.
2025-08-30 18:42:28.158 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-30 18:42:28.170 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-30 18:42:28.209 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'esbDynamicRouterController': Unsatisfied dependency expressed through field 'dynamicRouterService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'esbDynamicRouterService': Unsatisfied dependency expressed through field 'branchServiceConfigService'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'branchServiceConfigService': Invocation of init method failed; nested exception is org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.esb.middleware.mapper.BranchServiceConfigMapper.findAllEnabled
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:662)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:642)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:921)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)
	at com.esb.middleware.EsbRouterApplication.main(EsbRouterApplication.java:24)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'esbDynamicRouterService': Unsatisfied dependency expressed through field 'branchServiceConfigService'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'branchServiceConfigService': Invocation of init method failed; nested exception is org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.esb.middleware.mapper.BranchServiceConfigMapper.findAllEnabled
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:662)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:642)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	... 20 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'branchServiceConfigService': Invocation of init method failed; nested exception is org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.esb.middleware.mapper.BranchServiceConfigMapper.findAllEnabled
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:160)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	... 34 common frames omitted
Caused by: org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.esb.middleware.mapper.BranchServiceConfigMapper.findAllEnabled
	at org.apache.ibatis.binding.MapperMethod$SqlCommand.<init>(MapperMethod.java:229)
	at org.apache.ibatis.binding.MapperMethod.<init>(MapperMethod.java:53)
	at org.apache.ibatis.binding.MapperProxy.lambda$cachedInvoker$0(MapperProxy.java:96)
	at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708)
	at org.apache.ibatis.util.MapUtil.computeIfAbsent(MapUtil.java:36)
	at org.apache.ibatis.binding.MapperProxy.cachedInvoker(MapperProxy.java:94)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy91.findAllEnabled(Unknown Source)
	at com.esb.middleware.service.BranchServiceConfigService.refreshCache(BranchServiceConfigService.java:168)
	at com.esb.middleware.service.BranchServiceConfigService.initializeCache(BranchServiceConfigService.java:32)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:333)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:157)
	... 46 common frames omitted
2025-08-30 18:48:25.565 [main] INFO  c.e.middleware.EsbRouterApplication - Starting EsbRouterApplication using Java 21.0.2 on DESKTOP-6CLQBDH with PID 19076 (C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes started by Admin in C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main)
2025-08-30 18:48:25.567 [main] DEBUG c.e.middleware.EsbRouterApplication - Running with Spring Boot v2.7.14, Spring v5.3.29
2025-08-30 18:48:25.568 [main] INFO  c.e.middleware.EsbRouterApplication - No active profile set, falling back to 1 default profile: "dev"
2025-08-30 18:48:26.411 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\AuditLogMapper.class]
2025-08-30 18:48:26.411 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\BranchServiceConfigMapper.class]
2025-08-30 18:48:26.411 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\PluginConfigMapper.class]
2025-08-30 18:48:26.412 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\RouteConfigMapper.class]
2025-08-30 18:48:26.412 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'auditLogMapper' and 'com.esb.middleware.mapper.AuditLogMapper' mapperInterface
2025-08-30 18:48:26.416 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'auditLogMapper'.
2025-08-30 18:48:26.417 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'branchServiceConfigMapper' and 'com.esb.middleware.mapper.BranchServiceConfigMapper' mapperInterface
2025-08-30 18:48:26.417 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'branchServiceConfigMapper'.
2025-08-30 18:48:26.417 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'pluginConfigMapper' and 'com.esb.middleware.mapper.PluginConfigMapper' mapperInterface
2025-08-30 18:48:26.418 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'pluginConfigMapper'.
2025-08-30 18:48:26.418 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'routeConfigMapper' and 'com.esb.middleware.mapper.RouteConfigMapper' mapperInterface
2025-08-30 18:48:26.418 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'routeConfigMapper'.
2025-08-30 18:48:26.917 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8082 (http)
2025-08-30 18:48:26.919 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-30 18:48:26.919 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
2025-08-30 18:48:27.026 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-30 18:48:27.026 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1397 ms
2025-08-30 18:48:27.195 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Starting...
2025-08-30 18:48:27.508 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Start completed.
2025-08-30 18:48:27.757 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed configuration file: 'class path resource [mybatis-config.xml]'
2025-08-30 18:48:27.828 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\mappers\AuditLogMapper.xml]'
2025-08-30 18:48:27.843 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\mappers\PluginConfigMapper.xml]'
2025-08-30 18:48:27.857 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\mappers\RouteConfigMapper.xml]'
2025-08-30 18:48:27.880 [main] INFO  c.e.m.s.BranchServiceConfigService - Initializing branch service configuration cache
2025-08-30 18:48:27.880 [main] INFO  c.e.m.s.BranchServiceConfigService - Refreshing branch service configuration cache
2025-08-30 18:48:27.885 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'esbDynamicRouterController': Unsatisfied dependency expressed through field 'dynamicRouterService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'esbDynamicRouterService': Unsatisfied dependency expressed through field 'branchServiceConfigService'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'branchServiceConfigService': Invocation of init method failed; nested exception is org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.esb.middleware.mapper.BranchServiceConfigMapper.findAllEnabled
2025-08-30 18:48:27.886 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Shutdown initiated...
2025-08-30 18:48:27.890 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Shutdown completed.
2025-08-30 18:48:27.893 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-30 18:48:27.906 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-30 18:48:27.927 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'esbDynamicRouterController': Unsatisfied dependency expressed through field 'dynamicRouterService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'esbDynamicRouterService': Unsatisfied dependency expressed through field 'branchServiceConfigService'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'branchServiceConfigService': Invocation of init method failed; nested exception is org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.esb.middleware.mapper.BranchServiceConfigMapper.findAllEnabled
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:662)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:642)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:921)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)
	at com.esb.middleware.EsbRouterApplication.main(EsbRouterApplication.java:24)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'esbDynamicRouterService': Unsatisfied dependency expressed through field 'branchServiceConfigService'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'branchServiceConfigService': Invocation of init method failed; nested exception is org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.esb.middleware.mapper.BranchServiceConfigMapper.findAllEnabled
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:662)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:642)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	... 20 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'branchServiceConfigService': Invocation of init method failed; nested exception is org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.esb.middleware.mapper.BranchServiceConfigMapper.findAllEnabled
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:160)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	... 34 common frames omitted
Caused by: org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.esb.middleware.mapper.BranchServiceConfigMapper.findAllEnabled
	at org.apache.ibatis.binding.MapperMethod$SqlCommand.<init>(MapperMethod.java:229)
	at org.apache.ibatis.binding.MapperMethod.<init>(MapperMethod.java:53)
	at org.apache.ibatis.binding.MapperProxy.lambda$cachedInvoker$0(MapperProxy.java:96)
	at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708)
	at org.apache.ibatis.util.MapUtil.computeIfAbsent(MapUtil.java:36)
	at org.apache.ibatis.binding.MapperProxy.cachedInvoker(MapperProxy.java:94)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy91.findAllEnabled(Unknown Source)
	at com.esb.middleware.service.BranchServiceConfigService.refreshCache(BranchServiceConfigService.java:168)
	at com.esb.middleware.service.BranchServiceConfigService.initializeCache(BranchServiceConfigService.java:32)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:333)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:157)
	... 46 common frames omitted
2025-08-30 18:49:05.736 [main] INFO  c.e.middleware.EsbRouterApplication - Starting EsbRouterApplication using Java 21.0.2 on DESKTOP-6CLQBDH with PID 24476 (C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes started by Admin in C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main)
2025-08-30 18:49:05.738 [main] DEBUG c.e.middleware.EsbRouterApplication - Running with Spring Boot v2.7.14, Spring v5.3.29
2025-08-30 18:49:05.738 [main] INFO  c.e.middleware.EsbRouterApplication - No active profile set, falling back to 1 default profile: "dev"
2025-08-30 18:49:06.727 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\AuditLogMapper.class]
2025-08-30 18:49:06.727 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\BranchServiceConfigMapper.class]
2025-08-30 18:49:06.727 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\PluginConfigMapper.class]
2025-08-30 18:49:06.727 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\RouteConfigMapper.class]
2025-08-30 18:49:06.728 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'auditLogMapper' and 'com.esb.middleware.mapper.AuditLogMapper' mapperInterface
2025-08-30 18:49:06.731 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'auditLogMapper'.
2025-08-30 18:49:06.731 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'branchServiceConfigMapper' and 'com.esb.middleware.mapper.BranchServiceConfigMapper' mapperInterface
2025-08-30 18:49:06.732 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'branchServiceConfigMapper'.
2025-08-30 18:49:06.732 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'pluginConfigMapper' and 'com.esb.middleware.mapper.PluginConfigMapper' mapperInterface
2025-08-30 18:49:06.732 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'pluginConfigMapper'.
2025-08-30 18:49:06.732 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'routeConfigMapper' and 'com.esb.middleware.mapper.RouteConfigMapper' mapperInterface
2025-08-30 18:49:06.733 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'routeConfigMapper'.
2025-08-30 18:49:07.231 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8082 (http)
2025-08-30 18:49:07.235 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-30 18:49:07.242 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
2025-08-30 18:49:07.403 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-30 18:49:07.404 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1607 ms
2025-08-30 18:49:07.612 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Starting...
2025-08-30 18:49:07.922 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Start completed.
2025-08-30 18:49:08.208 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed configuration file: 'class path resource [mybatis-config.xml]'
2025-08-30 18:49:08.257 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\mappers\AuditLogMapper.xml]'
2025-08-30 18:49:08.285 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\mappers\PluginConfigMapper.xml]'
2025-08-30 18:49:08.302 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\mappers\RouteConfigMapper.xml]'
2025-08-30 18:49:08.325 [main] INFO  c.e.m.service.ConfigurationService - Initializing route configuration cache
2025-08-30 18:49:08.325 [main] INFO  c.e.m.service.ConfigurationService - Refreshing route configuration cache
2025-08-30 18:49:08.331 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-30 18:49:08.335 [main] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50bc3219] was not registered for synchronization because synchronization is not active
2025-08-30 18:49:08.344 [main] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1327714567 wrapping ConnectionID:1 ClientConnectionId: 47b422e7-aab9-4761-8035-c317e239ef13] will not be managed by Spring
2025-08-30 18:49:08.350 [main] DEBUG c.e.m.m.R.findAllEnabled - ==>  Preparing: SELECT id, branch_code, endpoint, method, plugin_id, target_url, headers, parameters, transformation_rule, enabled, priority, timeout, retry_count, description, created_by, created_date, modified_by, modified_date FROM route_config WHERE enabled = 1 ORDER BY branch_code, priority DESC, endpoint
2025-08-30 18:49:08.379 [main] DEBUG c.e.m.m.R.findAllEnabled - ==> Parameters: 
2025-08-30 18:49:08.412 [main] DEBUG c.e.m.m.R.findAllEnabled - <==      Total: 6
2025-08-30 18:49:08.421 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50bc3219]
2025-08-30 18:49:08.423 [main] INFO  c.e.m.service.ConfigurationService - Route configuration cache refreshed with 6 routes
2025-08-30 18:49:08.423 [main] INFO  c.e.m.service.ConfigurationService - Route configuration cache initialized with 6 routes
2025-08-30 18:49:08.457 [main] INFO  c.e.m.service.PluginManagerService - Initializing plugin manager and loading plugins from database
2025-08-30 18:49:08.457 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-30 18:49:08.458 [main] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a8a551e] was not registered for synchronization because synchronization is not active
2025-08-30 18:49:08.458 [main] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1019831085 wrapping ConnectionID:1 ClientConnectionId: 47b422e7-aab9-4761-8035-c317e239ef13] will not be managed by Spring
2025-08-30 18:49:08.458 [main] DEBUG c.e.m.m.P.findAllEnabled - ==>  Preparing: SELECT id, plugin_id, plugin_name, version, jar_file_name, main_class, description, author, vendor, supported_endpoints, configuration, enabled, priority, status, loaded_time, created_by, created_date, modified_by, modified_date FROM plugin_config WHERE enabled = 1 ORDER BY priority DESC, plugin_name
2025-08-30 18:49:08.458 [main] DEBUG c.e.m.m.P.findAllEnabled - ==> Parameters: 
2025-08-30 18:49:08.462 [main] DEBUG c.e.m.m.P.findAllEnabled - <==      Total: 0
2025-08-30 18:49:08.463 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a8a551e]
2025-08-30 18:49:08.463 [main] INFO  c.e.m.service.PluginManagerService - Found 0 enabled plugins in database
2025-08-30 18:49:08.463 [main] INFO  c.e.m.service.PluginManagerService - Plugin initialization completed. Loaded 0 plugins
2025-08-30 18:49:08.543 [main] INFO  c.e.m.s.BranchServiceConfigService - Initializing branch service configuration cache
2025-08-30 18:49:08.548 [main] INFO  c.e.m.s.BranchServiceConfigService - Refreshing branch service configuration cache
2025-08-30 18:49:08.549 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'branchServiceConfigService': Invocation of init method failed; nested exception is org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.esb.middleware.mapper.BranchServiceConfigMapper.findAllEnabled
2025-08-30 18:49:08.551 [main] INFO  c.e.m.service.PluginManagerService - Shutting down plugin manager
2025-08-30 18:49:08.551 [main] INFO  c.esb.middleware.plugin.PluginLoader - Shutting down plugin loader and unloading all plugins
2025-08-30 18:49:08.551 [main] INFO  c.esb.middleware.plugin.PluginLoader - Plugin loader shutdown completed
2025-08-30 18:49:08.551 [main] INFO  c.e.middleware.plugin.PluginRegistry - Clearing plugin registry
2025-08-30 18:49:08.551 [main] INFO  c.e.m.service.PluginManagerService - Plugin manager shutdown completed
2025-08-30 18:49:08.551 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Shutdown initiated...
2025-08-30 18:49:08.553 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Shutdown completed.
2025-08-30 18:49:08.557 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-30 18:49:08.565 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-30 18:49:08.593 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'branchServiceConfigService': Invocation of init method failed; nested exception is org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.esb.middleware.mapper.BranchServiceConfigMapper.findAllEnabled
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:160)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:921)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)
	at com.esb.middleware.EsbRouterApplication.main(EsbRouterApplication.java:24)
Caused by: org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.esb.middleware.mapper.BranchServiceConfigMapper.findAllEnabled
	at org.apache.ibatis.binding.MapperMethod$SqlCommand.<init>(MapperMethod.java:229)
	at org.apache.ibatis.binding.MapperMethod.<init>(MapperMethod.java:53)
	at org.apache.ibatis.binding.MapperProxy.lambda$cachedInvoker$0(MapperProxy.java:96)
	at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708)
	at org.apache.ibatis.util.MapUtil.computeIfAbsent(MapUtil.java:36)
	at org.apache.ibatis.binding.MapperProxy.cachedInvoker(MapperProxy.java:94)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy104.findAllEnabled(Unknown Source)
	at com.esb.middleware.service.BranchServiceConfigService.refreshCache(BranchServiceConfigService.java:168)
	at com.esb.middleware.service.BranchServiceConfigService.initializeCache(BranchServiceConfigService.java:32)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:333)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:157)
	... 18 common frames omitted
2025-08-30 18:59:18.715 [main] INFO  c.e.middleware.EsbRouterApplication - Starting EsbRouterApplication using Java 21.0.2 on DESKTOP-6CLQBDH with PID 19512 (C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes started by Admin in C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main)
2025-08-30 18:59:18.717 [main] DEBUG c.e.middleware.EsbRouterApplication - Running with Spring Boot v2.7.14, Spring v5.3.29
2025-08-30 18:59:18.717 [main] INFO  c.e.middleware.EsbRouterApplication - No active profile set, falling back to 1 default profile: "dev"
2025-08-30 18:59:19.604 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\AuditLogMapper.class]
2025-08-30 18:59:19.604 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\BranchServiceConfigMapper.class]
2025-08-30 18:59:19.604 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\PluginConfigMapper.class]
2025-08-30 18:59:19.604 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\RouteConfigMapper.class]
2025-08-30 18:59:19.605 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'auditLogMapper' and 'com.esb.middleware.mapper.AuditLogMapper' mapperInterface
2025-08-30 18:59:19.610 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'auditLogMapper'.
2025-08-30 18:59:19.610 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'branchServiceConfigMapper' and 'com.esb.middleware.mapper.BranchServiceConfigMapper' mapperInterface
2025-08-30 18:59:19.610 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'branchServiceConfigMapper'.
2025-08-30 18:59:19.610 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'pluginConfigMapper' and 'com.esb.middleware.mapper.PluginConfigMapper' mapperInterface
2025-08-30 18:59:19.611 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'pluginConfigMapper'.
2025-08-30 18:59:19.611 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'routeConfigMapper' and 'com.esb.middleware.mapper.RouteConfigMapper' mapperInterface
2025-08-30 18:59:19.611 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'routeConfigMapper'.
2025-08-30 18:59:20.126 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8082 (http)
2025-08-30 18:59:20.136 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-30 18:59:20.136 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
2025-08-30 18:59:20.235 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-30 18:59:20.236 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1462 ms
2025-08-30 18:59:20.414 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Starting...
2025-08-30 18:59:20.731 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Start completed.
2025-08-30 18:59:21.001 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed configuration file: 'class path resource [mybatis-config.xml]'
2025-08-30 18:59:21.058 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\mappers\AuditLogMapper.xml]'
2025-08-30 18:59:21.073 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\mappers\PluginConfigMapper.xml]'
2025-08-30 18:59:21.087 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\mappers\RouteConfigMapper.xml]'
2025-08-30 18:59:21.109 [main] INFO  c.e.m.service.ConfigurationService - Initializing route configuration cache
2025-08-30 18:59:21.109 [main] INFO  c.e.m.service.ConfigurationService - Refreshing route configuration cache
2025-08-30 18:59:21.117 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-30 18:59:21.120 [main] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53d6e959] was not registered for synchronization because synchronization is not active
2025-08-30 18:59:21.130 [main] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@7162498 wrapping ConnectionID:1 ClientConnectionId: 61a136c2-bc92-4d28-ac74-cae28928aa93] will not be managed by Spring
2025-08-30 18:59:21.136 [main] DEBUG c.e.m.m.R.findAllEnabled - ==>  Preparing: SELECT id, branch_code, endpoint, method, plugin_id, target_url, headers, parameters, transformation_rule, enabled, priority, timeout, retry_count, description, created_by, created_date, modified_by, modified_date FROM route_config WHERE enabled = 1 ORDER BY branch_code, priority DESC, endpoint
2025-08-30 18:59:21.163 [main] DEBUG c.e.m.m.R.findAllEnabled - ==> Parameters: 
2025-08-30 18:59:21.193 [main] DEBUG c.e.m.m.R.findAllEnabled - <==      Total: 6
2025-08-30 18:59:21.202 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53d6e959]
2025-08-30 18:59:21.203 [main] INFO  c.e.m.service.ConfigurationService - Route configuration cache refreshed with 6 routes
2025-08-30 18:59:21.204 [main] INFO  c.e.m.service.ConfigurationService - Route configuration cache initialized with 6 routes
2025-08-30 18:59:21.240 [main] INFO  c.e.m.service.PluginManagerService - Initializing plugin manager and loading plugins from database
2025-08-30 18:59:21.240 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-30 18:59:21.240 [main] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f8c4fae] was not registered for synchronization because synchronization is not active
2025-08-30 18:59:21.240 [main] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1191430552 wrapping ConnectionID:1 ClientConnectionId: 61a136c2-bc92-4d28-ac74-cae28928aa93] will not be managed by Spring
2025-08-30 18:59:21.240 [main] DEBUG c.e.m.m.P.findAllEnabled - ==>  Preparing: SELECT id, plugin_id, plugin_name, version, jar_file_name, main_class, description, author, vendor, supported_endpoints, configuration, enabled, priority, status, loaded_time, created_by, created_date, modified_by, modified_date FROM plugin_config WHERE enabled = 1 ORDER BY priority DESC, plugin_name
2025-08-30 18:59:21.241 [main] DEBUG c.e.m.m.P.findAllEnabled - ==> Parameters: 
2025-08-30 18:59:21.243 [main] DEBUG c.e.m.m.P.findAllEnabled - <==      Total: 0
2025-08-30 18:59:21.243 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f8c4fae]
2025-08-30 18:59:21.243 [main] INFO  c.e.m.service.PluginManagerService - Found 0 enabled plugins in database
2025-08-30 18:59:21.244 [main] INFO  c.e.m.service.PluginManagerService - Plugin initialization completed. Loaded 0 plugins
2025-08-30 18:59:21.330 [main] INFO  c.e.m.s.BranchServiceConfigService - Initializing branch service configuration cache
2025-08-30 18:59:21.331 [main] INFO  c.e.m.s.BranchServiceConfigService - Refreshing branch service configuration cache
2025-08-30 18:59:21.332 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'branchServiceConfigService': Invocation of init method failed; nested exception is org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.esb.middleware.mapper.BranchServiceConfigMapper.findAllEnabled
2025-08-30 18:59:21.332 [main] INFO  c.e.m.service.PluginManagerService - Shutting down plugin manager
2025-08-30 18:59:21.332 [main] INFO  c.esb.middleware.plugin.PluginLoader - Shutting down plugin loader and unloading all plugins
2025-08-30 18:59:21.332 [main] INFO  c.esb.middleware.plugin.PluginLoader - Plugin loader shutdown completed
2025-08-30 18:59:21.332 [main] INFO  c.e.middleware.plugin.PluginRegistry - Clearing plugin registry
2025-08-30 18:59:21.334 [main] INFO  c.e.m.service.PluginManagerService - Plugin manager shutdown completed
2025-08-30 18:59:21.334 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Shutdown initiated...
2025-08-30 18:59:21.336 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Shutdown completed.
2025-08-30 18:59:21.339 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-30 18:59:21.352 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-30 18:59:21.372 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'branchServiceConfigService': Invocation of init method failed; nested exception is org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.esb.middleware.mapper.BranchServiceConfigMapper.findAllEnabled
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:160)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:921)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)
	at com.esb.middleware.EsbRouterApplication.main(EsbRouterApplication.java:24)
Caused by: org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.esb.middleware.mapper.BranchServiceConfigMapper.findAllEnabled
	at org.apache.ibatis.binding.MapperMethod$SqlCommand.<init>(MapperMethod.java:229)
	at org.apache.ibatis.binding.MapperMethod.<init>(MapperMethod.java:53)
	at org.apache.ibatis.binding.MapperProxy.lambda$cachedInvoker$0(MapperProxy.java:96)
	at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708)
	at org.apache.ibatis.util.MapUtil.computeIfAbsent(MapUtil.java:36)
	at org.apache.ibatis.binding.MapperProxy.cachedInvoker(MapperProxy.java:94)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy104.findAllEnabled(Unknown Source)
	at com.esb.middleware.service.BranchServiceConfigService.refreshCache(BranchServiceConfigService.java:168)
	at com.esb.middleware.service.BranchServiceConfigService.initializeCache(BranchServiceConfigService.java:32)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:333)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:157)
	... 18 common frames omitted
2025-08-30 19:35:31.345 [main] INFO  c.e.middleware.EsbRouterApplication - Starting EsbRouterApplication using Java 21.0.2 on DESKTOP-6CLQBDH with PID 21444 (C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes started by Admin in C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main)
2025-08-30 19:35:31.347 [main] DEBUG c.e.middleware.EsbRouterApplication - Running with Spring Boot v2.7.14, Spring v5.3.29
2025-08-30 19:35:31.349 [main] INFO  c.e.middleware.EsbRouterApplication - No active profile set, falling back to 1 default profile: "dev"
2025-08-30 19:35:32.187 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\AuditLogMapper.class]
2025-08-30 19:35:32.187 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\BranchServiceConfigMapper.class]
2025-08-30 19:35:32.187 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\PluginConfigMapper.class]
2025-08-30 19:35:32.187 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\RouteConfigMapper.class]
2025-08-30 19:35:32.189 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'auditLogMapper' and 'com.esb.middleware.mapper.AuditLogMapper' mapperInterface
2025-08-30 19:35:32.192 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'auditLogMapper'.
2025-08-30 19:35:32.193 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'branchServiceConfigMapper' and 'com.esb.middleware.mapper.BranchServiceConfigMapper' mapperInterface
2025-08-30 19:35:32.193 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'branchServiceConfigMapper'.
2025-08-30 19:35:32.193 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'pluginConfigMapper' and 'com.esb.middleware.mapper.PluginConfigMapper' mapperInterface
2025-08-30 19:35:32.194 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'pluginConfigMapper'.
2025-08-30 19:35:32.194 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'routeConfigMapper' and 'com.esb.middleware.mapper.RouteConfigMapper' mapperInterface
2025-08-30 19:35:32.195 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'routeConfigMapper'.
2025-08-30 19:35:32.686 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8082 (http)
2025-08-30 19:35:32.698 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-30 19:35:32.699 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
2025-08-30 19:35:32.798 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-30 19:35:32.798 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1393 ms
2025-08-30 19:35:32.973 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Starting...
2025-08-30 19:35:33.268 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Start completed.
2025-08-30 19:35:33.538 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed configuration file: 'class path resource [mybatis-config.xml]'
2025-08-30 19:35:33.603 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\mappers\AuditLogMapper.xml]'
2025-08-30 19:35:33.618 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\mappers\BranchServiceConfigMapper.xml]'
2025-08-30 19:35:33.633 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\mappers\PluginConfigMapper.xml]'
2025-08-30 19:35:33.647 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\mappers\RouteConfigMapper.xml]'
2025-08-30 19:35:33.669 [main] INFO  c.e.m.service.ConfigurationService - Initializing route configuration cache
2025-08-30 19:35:33.669 [main] INFO  c.e.m.service.ConfigurationService - Refreshing route configuration cache
2025-08-30 19:35:33.676 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-30 19:35:33.681 [main] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6314df3c] was not registered for synchronization because synchronization is not active
2025-08-30 19:35:33.690 [main] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@328140385 wrapping ConnectionID:1 ClientConnectionId: a59c45cb-7d49-49b1-811e-aa9995be1f31] will not be managed by Spring
2025-08-30 19:35:33.698 [main] DEBUG c.e.m.m.R.findAllEnabled - ==>  Preparing: SELECT id, branch_code, endpoint, method, plugin_id, target_url, headers, parameters, transformation_rule, enabled, priority, timeout, retry_count, description, created_by, created_date, modified_by, modified_date FROM route_config WHERE enabled = 1 ORDER BY branch_code, priority DESC, endpoint
2025-08-30 19:35:33.723 [main] DEBUG c.e.m.m.R.findAllEnabled - ==> Parameters: 
2025-08-30 19:35:33.756 [main] DEBUG c.e.m.m.R.findAllEnabled - <==      Total: 6
2025-08-30 19:35:33.765 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6314df3c]
2025-08-30 19:35:33.766 [main] INFO  c.e.m.service.ConfigurationService - Route configuration cache refreshed with 6 routes
2025-08-30 19:35:33.766 [main] INFO  c.e.m.service.ConfigurationService - Route configuration cache initialized with 6 routes
2025-08-30 19:35:33.802 [main] INFO  c.e.m.service.PluginManagerService - Initializing plugin manager and loading plugins from database
2025-08-30 19:35:33.802 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-30 19:35:33.802 [main] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23121d14] was not registered for synchronization because synchronization is not active
2025-08-30 19:35:33.802 [main] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1924108520 wrapping ConnectionID:1 ClientConnectionId: a59c45cb-7d49-49b1-811e-aa9995be1f31] will not be managed by Spring
2025-08-30 19:35:33.802 [main] DEBUG c.e.m.m.P.findAllEnabled - ==>  Preparing: SELECT id, plugin_id, plugin_name, version, jar_file_name, main_class, description, author, vendor, supported_endpoints, configuration, enabled, priority, status, loaded_time, created_by, created_date, modified_by, modified_date FROM plugin_config WHERE enabled = 1 ORDER BY priority DESC, plugin_name
2025-08-30 19:35:33.802 [main] DEBUG c.e.m.m.P.findAllEnabled - ==> Parameters: 
2025-08-30 19:35:33.805 [main] DEBUG c.e.m.m.P.findAllEnabled - <==      Total: 0
2025-08-30 19:35:33.806 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23121d14]
2025-08-30 19:35:33.806 [main] INFO  c.e.m.service.PluginManagerService - Found 0 enabled plugins in database
2025-08-30 19:35:33.806 [main] INFO  c.e.m.service.PluginManagerService - Plugin initialization completed. Loaded 0 plugins
2025-08-30 19:35:33.891 [main] INFO  c.e.m.s.BranchServiceConfigService - Initializing branch service configuration cache
2025-08-30 19:35:33.892 [main] INFO  c.e.m.s.BranchServiceConfigService - Refreshing branch service configuration cache
2025-08-30 19:35:33.892 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-30 19:35:33.892 [main] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44fd7ba4] was not registered for synchronization because synchronization is not active
2025-08-30 19:35:33.892 [main] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@586722754 wrapping ConnectionID:1 ClientConnectionId: a59c45cb-7d49-49b1-811e-aa9995be1f31] will not be managed by Spring
2025-08-30 19:35:33.893 [main] DEBUG c.e.m.m.B.findAllEnabled - ==>  Preparing: SELECT id, branch_code, service_id, plugin_id, target_url, service_endpoint, esb_service, enabled, timeout_ms, retry_count, headers, parameters, created_date, modified_date, created_by, modified_by FROM branch_service_config WHERE enabled = 1 ORDER BY branch_code, service_id
2025-08-30 19:35:33.893 [main] DEBUG c.e.m.m.B.findAllEnabled - ==> Parameters: 
2025-08-30 19:35:33.901 [main] DEBUG c.e.m.m.B.findAllEnabled - <==      Total: 2
2025-08-30 19:35:33.901 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44fd7ba4]
2025-08-30 19:35:33.901 [main] INFO  c.e.m.s.BranchServiceConfigService - Branch service configuration cache refreshed with 2 services
2025-08-30 19:35:33.902 [main] INFO  c.e.m.s.BranchServiceConfigService - Branch service configuration cache initialized with 2 services
2025-08-30 19:35:34.103 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Invocation of init method failed; nested exception is java.lang.IllegalStateException: Ambiguous mapping. Cannot map 'esbRouterController' method 
com.esb.middleware.controller.EsbRouterController#healthCheck()
to {GET [/api/esb/health]}: There is already 'esbDynamicRouterController' bean method
com.esb.middleware.controller.EsbDynamicRouterController#healthCheck() mapped.
2025-08-30 19:35:34.104 [main] INFO  c.e.m.service.PluginManagerService - Shutting down plugin manager
2025-08-30 19:35:34.104 [main] INFO  c.esb.middleware.plugin.PluginLoader - Shutting down plugin loader and unloading all plugins
2025-08-30 19:35:34.104 [main] INFO  c.esb.middleware.plugin.PluginLoader - Plugin loader shutdown completed
2025-08-30 19:35:34.104 [main] INFO  c.e.middleware.plugin.PluginRegistry - Clearing plugin registry
2025-08-30 19:35:34.104 [main] INFO  c.e.m.service.PluginManagerService - Plugin manager shutdown completed
2025-08-30 19:35:34.105 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Shutdown initiated...
2025-08-30 19:35:34.107 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Shutdown completed.
2025-08-30 19:35:34.111 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-30 19:35:34.124 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-30 19:35:34.143 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Invocation of init method failed; nested exception is java.lang.IllegalStateException: Ambiguous mapping. Cannot map 'esbRouterController' method 
com.esb.middleware.controller.EsbRouterController#healthCheck()
to {GET [/api/esb/health]}: There is already 'esbDynamicRouterController' bean method
com.esb.middleware.controller.EsbDynamicRouterController#healthCheck() mapped.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:921)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)
	at com.esb.middleware.EsbRouterApplication.main(EsbRouterApplication.java:24)
Caused by: java.lang.IllegalStateException: Ambiguous mapping. Cannot map 'esbRouterController' method 
com.esb.middleware.controller.EsbRouterController#healthCheck()
to {GET [/api/esb/health]}: There is already 'esbDynamicRouterController' bean method
com.esb.middleware.controller.EsbDynamicRouterController#healthCheck() mapped.
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$MappingRegistry.validateMethodMapping(AbstractHandlerMethodMapping.java:669)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$MappingRegistry.register(AbstractHandlerMethodMapping.java:635)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.registerHandlerMethod(AbstractHandlerMethodMapping.java:332)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.registerHandlerMethod(RequestMappingHandlerMapping.java:420)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.registerHandlerMethod(RequestMappingHandlerMapping.java:76)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lambda$detectHandlerMethods$2(AbstractHandlerMethodMapping.java:299)
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.detectHandlerMethods(AbstractHandlerMethodMapping.java:297)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.processCandidateBean(AbstractHandlerMethodMapping.java:266)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.initHandlerMethods(AbstractHandlerMethodMapping.java:225)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.afterPropertiesSet(AbstractHandlerMethodMapping.java:213)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.afterPropertiesSet(RequestMappingHandlerMapping.java:205)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 16 common frames omitted
2025-08-30 19:39:31.842 [main] INFO  c.e.middleware.EsbRouterApplication - Starting EsbRouterApplication using Java 21.0.2 on DESKTOP-6CLQBDH with PID 6228 (C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes started by Admin in C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main)
2025-08-30 19:39:31.845 [main] DEBUG c.e.middleware.EsbRouterApplication - Running with Spring Boot v2.7.14, Spring v5.3.29
2025-08-30 19:39:31.845 [main] INFO  c.e.middleware.EsbRouterApplication - No active profile set, falling back to 1 default profile: "dev"
2025-08-30 19:39:32.712 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\AuditLogMapper.class]
2025-08-30 19:39:32.712 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\BranchServiceConfigMapper.class]
2025-08-30 19:39:32.712 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\PluginConfigMapper.class]
2025-08-30 19:39:32.712 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\RouteConfigMapper.class]
2025-08-30 19:39:32.713 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'auditLogMapper' and 'com.esb.middleware.mapper.AuditLogMapper' mapperInterface
2025-08-30 19:39:32.717 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'auditLogMapper'.
2025-08-30 19:39:32.717 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'branchServiceConfigMapper' and 'com.esb.middleware.mapper.BranchServiceConfigMapper' mapperInterface
2025-08-30 19:39:32.719 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'branchServiceConfigMapper'.
2025-08-30 19:39:32.719 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'pluginConfigMapper' and 'com.esb.middleware.mapper.PluginConfigMapper' mapperInterface
2025-08-30 19:39:32.720 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'pluginConfigMapper'.
2025-08-30 19:39:32.720 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'routeConfigMapper' and 'com.esb.middleware.mapper.RouteConfigMapper' mapperInterface
2025-08-30 19:39:32.721 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'routeConfigMapper'.
2025-08-30 19:39:33.215 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8082 (http)
2025-08-30 19:39:33.225 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-30 19:39:33.226 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
2025-08-30 19:39:33.330 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-30 19:39:33.330 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1429 ms
2025-08-30 19:39:33.497 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Starting...
2025-08-30 19:39:33.827 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Start completed.
2025-08-30 19:39:34.092 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed configuration file: 'class path resource [mybatis-config.xml]'
2025-08-30 19:39:34.152 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\mappers\AuditLogMapper.xml]'
2025-08-30 19:39:34.171 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\mappers\BranchServiceConfigMapper.xml]'
2025-08-30 19:39:34.185 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\mappers\PluginConfigMapper.xml]'
2025-08-30 19:39:34.196 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\mappers\RouteConfigMapper.xml]'
2025-08-30 19:39:34.206 [main] INFO  c.e.m.service.ConfigurationService - Initializing route configuration cache
2025-08-30 19:39:34.219 [main] INFO  c.e.m.service.ConfigurationService - Refreshing route configuration cache
2025-08-30 19:39:34.225 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-30 19:39:34.229 [main] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@681061d6] was not registered for synchronization because synchronization is not active
2025-08-30 19:39:34.238 [main] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1916677384 wrapping ConnectionID:1 ClientConnectionId: 1256a0fe-23bd-4d5f-a3be-61b001b551e8] will not be managed by Spring
2025-08-30 19:39:34.243 [main] DEBUG c.e.m.m.R.findAllEnabled - ==>  Preparing: SELECT id, branch_code, endpoint, method, plugin_id, target_url, headers, parameters, transformation_rule, enabled, priority, timeout, retry_count, description, created_by, created_date, modified_by, modified_date FROM route_config WHERE enabled = 1 ORDER BY branch_code, priority DESC, endpoint
2025-08-30 19:39:34.272 [main] DEBUG c.e.m.m.R.findAllEnabled - ==> Parameters: 
2025-08-30 19:39:34.303 [main] DEBUG c.e.m.m.R.findAllEnabled - <==      Total: 6
2025-08-30 19:39:34.312 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@681061d6]
2025-08-30 19:39:34.313 [main] INFO  c.e.m.service.ConfigurationService - Route configuration cache refreshed with 6 routes
2025-08-30 19:39:34.313 [main] INFO  c.e.m.service.ConfigurationService - Route configuration cache initialized with 6 routes
2025-08-30 19:39:34.342 [main] INFO  c.e.m.service.PluginManagerService - Initializing plugin manager and loading plugins from database
2025-08-30 19:39:34.342 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-30 19:39:34.342 [main] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62ea8931] was not registered for synchronization because synchronization is not active
2025-08-30 19:39:34.342 [main] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1207664329 wrapping ConnectionID:1 ClientConnectionId: 1256a0fe-23bd-4d5f-a3be-61b001b551e8] will not be managed by Spring
2025-08-30 19:39:34.342 [main] DEBUG c.e.m.m.P.findAllEnabled - ==>  Preparing: SELECT id, plugin_id, plugin_name, version, jar_file_name, main_class, description, author, vendor, supported_endpoints, configuration, enabled, priority, status, loaded_time, created_by, created_date, modified_by, modified_date FROM plugin_config WHERE enabled = 1 ORDER BY priority DESC, plugin_name
2025-08-30 19:39:34.342 [main] DEBUG c.e.m.m.P.findAllEnabled - ==> Parameters: 
2025-08-30 19:39:34.352 [main] DEBUG c.e.m.m.P.findAllEnabled - <==      Total: 0
2025-08-30 19:39:34.352 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62ea8931]
2025-08-30 19:39:34.352 [main] INFO  c.e.m.service.PluginManagerService - Found 0 enabled plugins in database
2025-08-30 19:39:34.353 [main] INFO  c.e.m.service.PluginManagerService - Plugin initialization completed. Loaded 0 plugins
2025-08-30 19:39:34.433 [main] INFO  c.e.m.s.BranchServiceConfigService - Initializing branch service configuration cache
2025-08-30 19:39:34.433 [main] INFO  c.e.m.s.BranchServiceConfigService - Refreshing branch service configuration cache
2025-08-30 19:39:34.433 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-30 19:39:34.433 [main] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@783b3aa0] was not registered for synchronization because synchronization is not active
2025-08-30 19:39:34.434 [main] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@784882213 wrapping ConnectionID:1 ClientConnectionId: 1256a0fe-23bd-4d5f-a3be-61b001b551e8] will not be managed by Spring
2025-08-30 19:39:34.434 [main] DEBUG c.e.m.m.B.findAllEnabled - ==>  Preparing: SELECT id, branch_code, service_id, plugin_id, target_url, service_endpoint, esb_service, enabled, timeout_ms, retry_count, headers, parameters, created_date, modified_date, created_by, modified_by FROM branch_service_config WHERE enabled = 1 ORDER BY branch_code, service_id
2025-08-30 19:39:34.434 [main] DEBUG c.e.m.m.B.findAllEnabled - ==> Parameters: 
2025-08-30 19:39:34.438 [main] DEBUG c.e.m.m.B.findAllEnabled - <==      Total: 2
2025-08-30 19:39:34.438 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@783b3aa0]
2025-08-30 19:39:34.438 [main] INFO  c.e.m.s.BranchServiceConfigService - Branch service configuration cache refreshed with 2 services
2025-08-30 19:39:34.438 [main] INFO  c.e.m.s.BranchServiceConfigService - Branch service configuration cache initialized with 2 services
2025-08-30 19:39:34.870 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoint(s) beneath base path '/actuator'
2025-08-30 19:39:34.903 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8082 (http) with context path ''
2025-08-30 19:39:34.921 [scheduling-1] DEBUG c.e.m.service.PluginManagerService - Checking for plugin updates
2025-08-30 19:39:34.923 [main] INFO  c.e.middleware.EsbRouterApplication - Started EsbRouterApplication in 3.517 seconds (JVM running for 3.88)
2025-08-30 19:41:23.512 [main] INFO  c.e.middleware.EsbRouterApplication - Starting EsbRouterApplication using Java 21.0.2 on DESKTOP-6CLQBDH with PID 9952 (C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes started by Admin in C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main)
2025-08-30 19:41:23.514 [main] DEBUG c.e.middleware.EsbRouterApplication - Running with Spring Boot v2.7.14, Spring v5.3.29
2025-08-30 19:41:23.515 [main] INFO  c.e.middleware.EsbRouterApplication - No active profile set, falling back to 1 default profile: "dev"
2025-08-30 19:41:24.453 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\AuditLogMapper.class]
2025-08-30 19:41:24.453 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\BranchServiceConfigMapper.class]
2025-08-30 19:41:24.453 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\PluginConfigMapper.class]
2025-08-30 19:41:24.453 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\com\esb\middleware\mapper\RouteConfigMapper.class]
2025-08-30 19:41:24.454 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'auditLogMapper' and 'com.esb.middleware.mapper.AuditLogMapper' mapperInterface
2025-08-30 19:41:24.458 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'auditLogMapper'.
2025-08-30 19:41:24.459 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'branchServiceConfigMapper' and 'com.esb.middleware.mapper.BranchServiceConfigMapper' mapperInterface
2025-08-30 19:41:24.460 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'branchServiceConfigMapper'.
2025-08-30 19:41:24.460 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'pluginConfigMapper' and 'com.esb.middleware.mapper.PluginConfigMapper' mapperInterface
2025-08-30 19:41:24.461 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'pluginConfigMapper'.
2025-08-30 19:41:24.461 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'routeConfigMapper' and 'com.esb.middleware.mapper.RouteConfigMapper' mapperInterface
2025-08-30 19:41:24.462 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'routeConfigMapper'.
2025-08-30 19:41:25.030 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8082 (http)
2025-08-30 19:41:25.040 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-30 19:41:25.042 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
2025-08-30 19:41:25.133 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-30 19:41:25.133 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1489 ms
2025-08-30 19:41:25.328 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Starting...
2025-08-30 19:41:25.628 [main] INFO  com.zaxxer.hikari.HikariDataSource - ESB-HikariCP - Start completed.
2025-08-30 19:41:25.883 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed configuration file: 'class path resource [mybatis-config.xml]'
2025-08-30 19:41:25.942 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\mappers\AuditLogMapper.xml]'
2025-08-30 19:41:25.957 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\mappers\BranchServiceConfigMapper.xml]'
2025-08-30 19:41:25.973 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\mappers\PluginConfigMapper.xml]'
2025-08-30 19:41:25.983 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\target\classes\mappers\RouteConfigMapper.xml]'
2025-08-30 19:41:26.007 [main] INFO  c.e.m.service.ConfigurationService - Initializing route configuration cache
2025-08-30 19:41:26.008 [main] INFO  c.e.m.service.ConfigurationService - Refreshing route configuration cache
2025-08-30 19:41:26.014 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-30 19:41:26.018 [main] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@681061d6] was not registered for synchronization because synchronization is not active
2025-08-30 19:41:26.026 [main] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1916677384 wrapping ConnectionID:1 ClientConnectionId: a9f6a53a-4cc3-48a4-a682-0c3d4d6e955c] will not be managed by Spring
2025-08-30 19:41:26.032 [main] DEBUG c.e.m.m.R.findAllEnabled - ==>  Preparing: SELECT id, branch_code, endpoint, method, plugin_id, target_url, headers, parameters, transformation_rule, enabled, priority, timeout, retry_count, description, created_by, created_date, modified_by, modified_date FROM route_config WHERE enabled = 1 ORDER BY branch_code, priority DESC, endpoint
2025-08-30 19:41:26.059 [main] DEBUG c.e.m.m.R.findAllEnabled - ==> Parameters: 
2025-08-30 19:41:26.089 [main] DEBUG c.e.m.m.R.findAllEnabled - <==      Total: 6
2025-08-30 19:41:26.097 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@681061d6]
2025-08-30 19:41:26.099 [main] INFO  c.e.m.service.ConfigurationService - Route configuration cache refreshed with 6 routes
2025-08-30 19:41:26.100 [main] INFO  c.e.m.service.ConfigurationService - Route configuration cache initialized with 6 routes
2025-08-30 19:41:26.124 [main] INFO  c.e.m.service.PluginManagerService - Initializing plugin manager and loading plugins from database
2025-08-30 19:41:26.124 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-30 19:41:26.133 [main] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62ea8931] was not registered for synchronization because synchronization is not active
2025-08-30 19:41:26.133 [main] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1207664329 wrapping ConnectionID:1 ClientConnectionId: a9f6a53a-4cc3-48a4-a682-0c3d4d6e955c] will not be managed by Spring
2025-08-30 19:41:26.133 [main] DEBUG c.e.m.m.P.findAllEnabled - ==>  Preparing: SELECT id, plugin_id, plugin_name, version, jar_file_name, main_class, description, author, vendor, supported_endpoints, configuration, enabled, priority, status, loaded_time, created_by, created_date, modified_by, modified_date FROM plugin_config WHERE enabled = 1 ORDER BY priority DESC, plugin_name
2025-08-30 19:41:26.133 [main] DEBUG c.e.m.m.P.findAllEnabled - ==> Parameters: 
2025-08-30 19:41:26.137 [main] DEBUG c.e.m.m.P.findAllEnabled - <==      Total: 2
2025-08-30 19:41:26.137 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62ea8931]
2025-08-30 19:41:26.137 [main] INFO  c.e.m.service.PluginManagerService - Found 2 enabled plugins in database
2025-08-30 19:41:26.137 [main] INFO  c.e.m.service.PluginManagerService - Loading plugin: epixesbinterface from config
2025-08-30 19:41:26.144 [main] ERROR c.e.m.service.PluginManagerService - Failed to load plugin: epixesbinterface
com.esb.plugin.PluginException: JAR file not found: C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\plugins\epix-esb-interface-plugin-2.0.0.jar
	at com.esb.middleware.service.PluginManagerService.loadPluginFromConfig(PluginManagerService.java:90)
	at com.esb.middleware.service.PluginManagerService.initializePlugins(PluginManagerService.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:333)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:157)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:642)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:642)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:921)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)
	at com.esb.middleware.EsbRouterApplication.main(EsbRouterApplication.java:24)
2025-08-30 19:41:26.145 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-30 19:41:26.145 [main] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77c66a4f] was not registered for synchronization because synchronization is not active
2025-08-30 19:41:26.146 [main] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@468002913 wrapping ConnectionID:1 ClientConnectionId: a9f6a53a-4cc3-48a4-a682-0c3d4d6e955c] will not be managed by Spring
2025-08-30 19:41:26.146 [main] DEBUG c.e.m.m.P.updateStatus - ==>  Preparing: UPDATE plugin_config SET enabled = ?, status = ?, modified_date = GETDATE() WHERE plugin_id = ?
2025-08-30 19:41:26.152 [main] DEBUG c.e.m.m.P.updateStatus - ==> Parameters: false(Boolean), ERROR(String), epixesbinterface(String)
2025-08-30 19:41:26.158 [main] DEBUG c.e.m.m.P.updateStatus - <==    Updates: 1
2025-08-30 19:41:26.158 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77c66a4f]
2025-08-30 19:41:26.158 [main] INFO  c.e.m.service.PluginManagerService - Loading plugin: epixtradeesbinterface from config
2025-08-30 19:41:26.158 [main] ERROR c.e.m.service.PluginManagerService - Failed to load plugin: epixtradeesbinterface
com.esb.plugin.PluginException: JAR file not found: C:\Users\Admin\eclipse-workspace\esb-middleware-parent\esb-router-main\plugins\epix-trade-esb-interface-plugin-2.0.0.jar
	at com.esb.middleware.service.PluginManagerService.loadPluginFromConfig(PluginManagerService.java:90)
	at com.esb.middleware.service.PluginManagerService.initializePlugins(PluginManagerService.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:333)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:157)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:642)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:642)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:921)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)
	at com.esb.middleware.EsbRouterApplication.main(EsbRouterApplication.java:24)
2025-08-30 19:41:26.159 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-30 19:41:26.159 [main] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49754e74] was not registered for synchronization because synchronization is not active
2025-08-30 19:41:26.159 [main] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@831003298 wrapping ConnectionID:1 ClientConnectionId: a9f6a53a-4cc3-48a4-a682-0c3d4d6e955c] will not be managed by Spring
2025-08-30 19:41:26.159 [main] DEBUG c.e.m.m.P.updateStatus - ==>  Preparing: UPDATE plugin_config SET enabled = ?, status = ?, modified_date = GETDATE() WHERE plugin_id = ?
2025-08-30 19:41:26.159 [main] DEBUG c.e.m.m.P.updateStatus - ==> Parameters: false(Boolean), ERROR(String), epixtradeesbinterface(String)
2025-08-30 19:41:26.160 [main] DEBUG c.e.m.m.P.updateStatus - <==    Updates: 1
2025-08-30 19:41:26.161 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49754e74]
2025-08-30 19:41:26.161 [main] INFO  c.e.m.service.PluginManagerService - Plugin initialization completed. Loaded 0 plugins
2025-08-30 19:41:26.232 [main] INFO  c.e.m.s.BranchServiceConfigService - Initializing branch service configuration cache
2025-08-30 19:41:26.232 [main] INFO  c.e.m.s.BranchServiceConfigService - Refreshing branch service configuration cache
2025-08-30 19:41:26.236 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-08-30 19:41:26.236 [main] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49b89425] was not registered for synchronization because synchronization is not active
2025-08-30 19:41:26.236 [main] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1496482328 wrapping ConnectionID:1 ClientConnectionId: a9f6a53a-4cc3-48a4-a682-0c3d4d6e955c] will not be managed by Spring
2025-08-30 19:41:26.236 [main] DEBUG c.e.m.m.B.findAllEnabled - ==>  Preparing: SELECT id, branch_code, service_id, plugin_id, target_url, service_endpoint, esb_service, enabled, timeout_ms, retry_count, headers, parameters, created_date, modified_date, created_by, modified_by FROM branch_service_config WHERE enabled = 1 ORDER BY branch_code, service_id
2025-08-30 19:41:26.236 [main] DEBUG c.e.m.m.B.findAllEnabled - ==> Parameters: 
2025-08-30 19:41:26.240 [main] DEBUG c.e.m.m.B.findAllEnabled - <==      Total: 2
2025-08-30 19:41:26.240 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49b89425]
2025-08-30 19:41:26.240 [main] INFO  c.e.m.s.BranchServiceConfigService - Branch service configuration cache refreshed with 2 services
2025-08-30 19:41:26.240 [main] INFO  c.e.m.s.BranchServiceConfigService - Branch service configuration cache initialized with 2 services
2025-08-30 19:41:26.661 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoint(s) beneath base path '/actuator'
2025-08-30 19:41:26.702 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8082 (http) with context path ''
2025-08-30 19:41:26.712 [scheduling-1] DEBUG c.e.m.service.PluginManagerService - Checking for plugin updates
2025-08-30 19:41:26.715 [main] INFO  c.e.middleware.EsbRouterApplication - Started EsbRouterApplication in 3.671 seconds (JVM running for 4.073)
